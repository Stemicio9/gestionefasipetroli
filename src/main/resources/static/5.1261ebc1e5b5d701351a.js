(window.webpackJsonp=window.webpackJsonp||[]).push([[5],{Iab2:function(t,e,i){var o,n;void 0===(n="function"==typeof(o=function(){"use strict";function e(t,e,i){var o=new XMLHttpRequest;o.open("GET",t),o.responseType="blob",o.onload=function(){r(o.response,e,i)},o.onerror=function(){console.error("could not download file")},o.send()}function i(t){var e=new XMLHttpRequest;e.open("HEAD",t,!1);try{e.send()}catch(t){}return 200<=e.status&&299>=e.status}function o(t){try{t.dispatchEvent(new MouseEvent("click"))}catch(e){var i=document.createEvent("MouseEvents");i.initMouseEvent("click",!0,!0,window,0,0,0,80,20,!1,!1,!1,!1,0,null),t.dispatchEvent(i)}}var n="object"==typeof window&&window.window===window?window:"object"==typeof self&&self.self===self?self:"object"==typeof global&&global.global===global?global:void 0,a=n.navigator&&/Macintosh/.test(navigator.userAgent)&&/AppleWebKit/.test(navigator.userAgent)&&!/Safari/.test(navigator.userAgent),r=n.saveAs||("object"!=typeof window||window!==n?function(){}:"download"in HTMLAnchorElement.prototype&&!a?function(t,a,r){var c=n.URL||n.webkitURL,s=document.createElement("a");s.download=a=a||t.name||"download",s.rel="noopener","string"==typeof t?(s.href=t,s.origin===location.origin?o(s):i(s.href)?e(t,a,r):o(s,s.target="_blank")):(s.href=c.createObjectURL(t),setTimeout((function(){c.revokeObjectURL(s.href)}),4e4),setTimeout((function(){o(s)}),0))}:"msSaveOrOpenBlob"in navigator?function(t,n,a){if(n=n||t.name||"download","string"!=typeof t)navigator.msSaveOrOpenBlob(function(t,e){return void 0===e?e={autoBom:!1}:"object"!=typeof e&&(console.warn("Deprecated: Expected third argument to be a object"),e={autoBom:!e}),e.autoBom&&/^\s*(?:text\/\S*|application\/xml|\S*\/\S*\+xml)\s*;.*charset\s*=\s*utf-8/i.test(t.type)?new Blob(["\ufeff",t],{type:t.type}):t}(t,a),n);else if(i(t))e(t,n,a);else{var r=document.createElement("a");r.href=t,r.target="_blank",setTimeout((function(){o(r)}))}}:function(t,i,o,r){if((r=r||open("","_blank"))&&(r.document.title=r.document.body.innerText="downloading..."),"string"==typeof t)return e(t,i,o);var c="application/octet-stream"===t.type,s=/constructor/i.test(n.HTMLElement)||n.safari,b=/CriOS\/[\d]+/.test(navigator.userAgent);if((b||c&&s||a)&&"undefined"!=typeof FileReader){var l=new FileReader;l.onloadend=function(){var t=l.result;t=b?t:t.replace(/^data:[^;]*;/,"data:attachment/file;"),r?r.location.href=t:location=t,r=null},l.readAsDataURL(t)}else{var u=n.URL||n.webkitURL,d=u.createObjectURL(t);r?r.location=d:location.href=d,r=null,setTimeout((function(){u.revokeObjectURL(d)}),4e4)}});n.saveAs=r.saveAs=r,t.exports=r})?o.apply(e,[]):o)||(t.exports=n)},IqXj:function(t,e,i){"use strict";i.r(e),i.d(e,"AdminLayoutModule",(function(){return gb}));var o=i("tyNb"),n=i("ofXK"),a=i("3Pt+"),r=i("fXoL"),c=function(){function t(t){this.el=t,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtTrigger?this.dtTrigger.subscribe((function(){t.displayTable()})):this.displayTable()},t.prototype.ngOnDestroy=function(){this.dtTrigger&&this.dtTrigger.unsubscribe(),this.dt&&this.dt.destroy(!0)},t.prototype.displayTable=function(){var t=this;this.dtInstance=new Promise((function(e,i){Promise.resolve(t.dtOptions).then((function(i){setTimeout((function(){t.dt=$(t.el.nativeElement).DataTable(i),e(t.dt)}))}))}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["","datatable",""]],inputs:{dtOptions:"dtOptions",dtTrigger:"dtTrigger"}}),t}(),s=function(){function t(){}var e;return e=t,t.forRoot=function(){return{ngModule:e}},t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[n.c]]}),t}(),b=i("XNiG"),l=i("EFyh"),u=i("tk/3"),d=i("b6Qw"),p=function(){function t(t,e,i){this.http=t,this.cookieService=e,this.loginservice=i}return t.prototype.getfabbisogno=function(t){return this.http.get(l.b+"fabbisogno/getfabbisogno/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.getallfabbisogni=function(){return this.http.get(l.b+"fabbisogno/getall?access_token="+this.loginservice.gettoken())},t.prototype.getmieifabbisogni=function(t){return this.http.post(l.b+"fabbisogno/getmieifabbisogni?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungifabbisogno=function(t){return this.http.post(l.b+"fabbisogno/aggiungi?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungifabbisognolatocliente=function(t){return this.http.post(l.b+"fabbisogno/aggiungilatocliente?access_token="+this.loginservice.gettoken(),t)},t.prototype.eliminafabbisogno=function(t){return this.http.post(l.b+"fabbisogno/elimina?access_token="+this.loginservice.gettoken(),t)},t.prototype.getallindaterange=function(t){return this.http.post(l.b+"fabbisogno/getallindaterange?access_token="+this.loginservice.gettoken(),t)},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(d.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),g=i("vuIU"),f=i("Ji7U"),h=i("LK+K"),v=i("1OyB"),m=i("ODXe"),T=i("uFwe"),S=i("ReuC"),z=i("foSv"),y=i("8LU1"),_=i("LRne"),A=i("HDdC"),O=i("xgIS"),w=(i("eNwd"),i("7Hc7"),i("quSY")),k=(i("7+OI"),i("/uUt")),H=i("3UWI"),I=i("pLZG"),C=i("1G5W"),M=i("JX91"),x=(i("Zy1z"),i("eIep")),j=(i("UXun"),i("nLfN")),R=i("cH1L"),N=function(){var t=function(){function t(){Object(v.a)(this,t),this._listeners=[]}return Object(g.a)(t,[{key:"notify",value:function(t,e){var i,o=Object(T.a)(this._listeners);try{for(o.s();!(i=o.n()).done;)(0,i.value)(t,e)}catch(n){o.e(n)}finally{o.f()}}},{key:"listen",value:function(t){var e=this;return this._listeners.push(t),function(){e._listeners=e._listeners.filter((function(e){return t!==e}))}}},{key:"ngOnDestroy",value:function(){this._listeners=[]}}]),t}();return t.\u0275fac=function(e){return new(e||t)},t.\u0275prov=Object(r.Jb)({factory:function(){return new t},token:t,providedIn:"root"}),t}(),D=function(){var t=function(){function t(e,i,o){Object(v.a)(this,t),this._ngZone=e,this._platform=i,this._scrolled=new b.a,this._globalSubscription=null,this._scrolledCount=0,this.scrollContainers=new Map,this._document=o}return Object(g.a)(t,[{key:"register",value:function(t){var e=this;this.scrollContainers.has(t)||this.scrollContainers.set(t,t.elementScrolled().subscribe((function(){return e._scrolled.next(t)})))}},{key:"deregister",value:function(t){var e=this.scrollContainers.get(t);e&&(e.unsubscribe(),this.scrollContainers.delete(t))}},{key:"scrolled",value:function(){var t=this,e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return this._platform.isBrowser?new A.a((function(i){t._globalSubscription||t._addGlobalListener();var o=e>0?t._scrolled.pipe(Object(H.a)(e)).subscribe(i):t._scrolled.subscribe(i);return t._scrolledCount++,function(){o.unsubscribe(),t._scrolledCount--,t._scrolledCount||t._removeGlobalListener()}})):Object(_.a)()}},{key:"ngOnDestroy",value:function(){var t=this;this._removeGlobalListener(),this.scrollContainers.forEach((function(e,i){return t.deregister(i)})),this._scrolled.complete()}},{key:"ancestorScrolled",value:function(t,e){var i=this.getAncestorScrollContainers(t);return this.scrolled(e).pipe(Object(I.a)((function(t){return!t||i.indexOf(t)>-1})))}},{key:"getAncestorScrollContainers",value:function(t){var e=this,i=[];return this.scrollContainers.forEach((function(o,n){e._scrollableContainsElement(n,t)&&i.push(n)})),i}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_scrollableContainsElement",value:function(t,e){var i=e.nativeElement,o=t.getElementRef().nativeElement;do{if(i==o)return!0}while(i=i.parentElement);return!1}},{key:"_addGlobalListener",value:function(){var t=this;this._globalSubscription=this._ngZone.runOutsideAngular((function(){var e=t._getWindow();return Object(O.a)(e.document,"scroll").subscribe((function(){return t._scrolled.next()}))}))}},{key:"_removeGlobalListener",value:function(){this._globalSubscription&&(this._globalSubscription.unsubscribe(),this._globalSubscription=null)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(r.A),r.bc(j.a),r.bc(n.e,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.bc)(r.A),Object(r.bc)(j.a),Object(r.bc)(n.e,8))},token:t,providedIn:"root"}),t}(),P=function(){var t=function(){function t(e,i,o){var n=this;Object(v.a)(this,t),this._platform=e,this._change=new b.a,this._changeListener=function(t){n._change.next(t)},this._document=o,i.runOutsideAngular((function(){if(e.isBrowser){var t=n._getWindow();t.addEventListener("resize",n._changeListener),t.addEventListener("orientationchange",n._changeListener)}n.change().subscribe((function(){return n._updateViewportSize()}))}))}return Object(g.a)(t,[{key:"ngOnDestroy",value:function(){if(this._platform.isBrowser){var t=this._getWindow();t.removeEventListener("resize",this._changeListener),t.removeEventListener("orientationchange",this._changeListener)}this._change.complete()}},{key:"getViewportSize",value:function(){this._viewportSize||this._updateViewportSize();var t={width:this._viewportSize.width,height:this._viewportSize.height};return this._platform.isBrowser||(this._viewportSize=null),t}},{key:"getViewportRect",value:function(){var t=this.getViewportScrollPosition(),e=this.getViewportSize(),i=e.width,o=e.height;return{top:t.top,left:t.left,bottom:t.top+o,right:t.left+i,height:o,width:i}}},{key:"getViewportScrollPosition",value:function(){if(!this._platform.isBrowser)return{top:0,left:0};var t=this._getDocument(),e=this._getWindow(),i=t.documentElement,o=i.getBoundingClientRect();return{top:-o.top||t.body.scrollTop||e.scrollY||i.scrollTop||0,left:-o.left||t.body.scrollLeft||e.scrollX||i.scrollLeft||0}}},{key:"change",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:20;return t>0?this._change.pipe(Object(H.a)(t)):this._change}},{key:"_getDocument",value:function(){return this._document||document}},{key:"_getWindow",value:function(){return this._getDocument().defaultView||window}},{key:"_updateViewportSize",value:function(){var t=this._getWindow();this._viewportSize=this._platform.isBrowser?{width:t.innerWidth,height:t.innerHeight}:{width:0,height:0}}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(j.a),r.bc(r.A),r.bc(n.e,8))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.bc)(j.a),Object(r.bc)(r.A),Object(r.bc)(n.e,8))},token:t,providedIn:"root"}),t}(),F=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t}(),E=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[R.a,j.b,F],R.a,F]}),t}(),q=i("JX7q"),V=function(){function t(){Object(v.a)(this,t)}return Object(g.a)(t,[{key:"attach",value:function(t){return this._attachedHost=t,t.attach(this)}},{key:"detach",value:function(){var t=this._attachedHost;null!=t&&(this._attachedHost=null,t.detach())}},{key:"setAttachedHost",value:function(t){this._attachedHost=t}},{key:"isAttached",get:function(){return null!=this._attachedHost}}]),t}(),L=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a){var r;return Object(v.a)(this,i),(r=e.call(this)).component=t,r.viewContainerRef=o,r.injector=n,r.componentFactoryResolver=a,r}return i}(V),U=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n){var a;return Object(v.a)(this,i),(a=e.call(this)).templateRef=t,a.viewContainerRef=o,a.context=n,a}return Object(g.a)(i,[{key:"attach",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:this.context;return this.context=e,Object(S.a)(Object(z.a)(i.prototype),"attach",this).call(this,t)}},{key:"detach",value:function(){return this.context=void 0,Object(S.a)(Object(z.a)(i.prototype),"detach",this).call(this)}},{key:"origin",get:function(){return this.templateRef.elementRef}}]),i}(V),B=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t){var o;return Object(v.a)(this,i),(o=e.call(this)).element=t instanceof r.l?t.nativeElement:t,o}return i}(V),G=function(){function t(){Object(v.a)(this,t),this._isDisposed=!1,this.attachDomPortal=null}return Object(g.a)(t,[{key:"hasAttached",value:function(){return!!this._attachedPortal}},{key:"attach",value:function(t){return t instanceof L?(this._attachedPortal=t,this.attachComponentPortal(t)):t instanceof U?(this._attachedPortal=t,this.attachTemplatePortal(t)):this.attachDomPortal&&t instanceof B?(this._attachedPortal=t,this.attachDomPortal(t)):void 0}},{key:"detach",value:function(){this._attachedPortal&&(this._attachedPortal.setAttachedHost(null),this._attachedPortal=null),this._invokeDisposeFn()}},{key:"dispose",value:function(){this.hasAttached()&&this.detach(),this._invokeDisposeFn(),this._isDisposed=!0}},{key:"setDisposeFn",value:function(t){this._disposeFn=t}},{key:"_invokeDisposeFn",value:function(){this._disposeFn&&(this._disposeFn(),this._disposeFn=null)}}]),t}(),W=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a,r){var c,s;return Object(v.a)(this,i),(s=e.call(this)).outletElement=t,s._componentFactoryResolver=o,s._appRef=n,s._defaultInjector=a,s.attachDomPortal=function(t){var e=t.element,o=s._document.createComment("dom-portal");e.parentNode.insertBefore(o,e),s.outletElement.appendChild(e),Object(S.a)((c=Object(q.a)(s),Object(z.a)(i.prototype)),"setDisposeFn",c).call(c,(function(){o.parentNode&&o.parentNode.replaceChild(e,o)}))},s._document=r,s}return Object(g.a)(i,[{key:"attachComponentPortal",value:function(t){var e,i=this,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component);return t.viewContainerRef?(e=t.viewContainerRef.createComponent(o,t.viewContainerRef.length,t.injector||t.viewContainerRef.injector),this.setDisposeFn((function(){return e.destroy()}))):(e=o.create(t.injector||this._defaultInjector),this._appRef.attachView(e.hostView),this.setDisposeFn((function(){i._appRef.detachView(e.hostView),e.destroy()}))),this.outletElement.appendChild(this._getComponentRootNode(e)),e}},{key:"attachTemplatePortal",value:function(t){var e=this,i=t.viewContainerRef,o=i.createEmbeddedView(t.templateRef,t.context);return o.rootNodes.forEach((function(t){return e.outletElement.appendChild(t)})),o.detectChanges(),this.setDisposeFn((function(){var t=i.indexOf(o);-1!==t&&i.remove(t)})),o}},{key:"dispose",value:function(){Object(S.a)(Object(z.a)(i.prototype),"dispose",this).call(this),null!=this.outletElement.parentNode&&this.outletElement.parentNode.removeChild(this.outletElement)}},{key:"_getComponentRootNode",value:function(t){return t.hostView.rootNodes[0]}}]),i}(G),J=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n){var a,c;return Object(v.a)(this,i),(c=e.call(this))._componentFactoryResolver=t,c._viewContainerRef=o,c._isInitialized=!1,c.attached=new r.o,c.attachDomPortal=function(t){var e=t.element,o=c._document.createComment("dom-portal");t.setAttachedHost(Object(q.a)(c)),e.parentNode.insertBefore(o,e),c._getRootNode().appendChild(e),Object(S.a)((a=Object(q.a)(c),Object(z.a)(i.prototype)),"setDisposeFn",a).call(a,(function(){o.parentNode&&o.parentNode.replaceChild(e,o)}))},c._document=n,c}return Object(g.a)(i,[{key:"ngOnInit",value:function(){this._isInitialized=!0}},{key:"ngOnDestroy",value:function(){Object(S.a)(Object(z.a)(i.prototype),"dispose",this).call(this),this._attachedPortal=null,this._attachedRef=null}},{key:"attachComponentPortal",value:function(t){t.setAttachedHost(this);var e=null!=t.viewContainerRef?t.viewContainerRef:this._viewContainerRef,o=(t.componentFactoryResolver||this._componentFactoryResolver).resolveComponentFactory(t.component),n=e.createComponent(o,e.length,t.injector||e.injector);return e!==this._viewContainerRef&&this._getRootNode().appendChild(n.hostView.rootNodes[0]),Object(S.a)(Object(z.a)(i.prototype),"setDisposeFn",this).call(this,(function(){return n.destroy()})),this._attachedPortal=t,this._attachedRef=n,this.attached.emit(n),n}},{key:"attachTemplatePortal",value:function(t){var e=this;t.setAttachedHost(this);var o=this._viewContainerRef.createEmbeddedView(t.templateRef,t.context);return Object(S.a)(Object(z.a)(i.prototype),"setDisposeFn",this).call(this,(function(){return e._viewContainerRef.clear()})),this._attachedPortal=t,this._attachedRef=o,this.attached.emit(o),o}},{key:"_getRootNode",value:function(){var t=this._viewContainerRef.element.nativeElement;return t.nodeType===t.ELEMENT_NODE?t:t.parentNode}},{key:"portal",get:function(){return this._attachedPortal},set:function(t){(!this.hasAttached()||t||this._isInitialized)&&(this.hasAttached()&&Object(S.a)(Object(z.a)(i.prototype),"detach",this).call(this),t&&Object(S.a)(Object(z.a)(i.prototype),"attach",this).call(this,t),this._attachedPortal=t)}},{key:"attachedRef",get:function(){return this._attachedRef}}]),i}(G);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.j),r.Nb(r.Q),r.Nb(n.e))},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkPortalOutlet",""]],inputs:{portal:["cdkPortalOutlet","portal"]},outputs:{attached:"attached"},exportAs:["cdkPortalOutlet"],features:[r.xb]}),t}(),Y=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(){return Object(v.a)(this,i),e.apply(this,arguments)}return i}(J);return t.\u0275fac=function(e){return X(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","cdkPortalHost",""],["","portalHost",""]],inputs:{portal:["cdkPortalHost","portal"]},exportAs:["cdkPortalHost"],features:[r.zb([{provide:J,useExisting:t}]),r.xb]}),t}(),X=r.Vb(Y),Q=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)}}),t}(),Z=i("VRyK"),K=i("IzEk"),tt=(i("GJmQ"),i("FtGj")),et=function(){function t(e,i){Object(v.a)(this,t),this._viewportRuler=e,this._previousHTMLStyles={top:"",left:""},this._isEnabled=!1,this._document=i}return Object(g.a)(t,[{key:"attach",value:function(){}},{key:"enable",value:function(){if(this._canBeEnabled()){var t=this._document.documentElement;this._previousScrollPosition=this._viewportRuler.getViewportScrollPosition(),this._previousHTMLStyles.left=t.style.left||"",this._previousHTMLStyles.top=t.style.top||"",t.style.left=Object(y.d)(-this._previousScrollPosition.left),t.style.top=Object(y.d)(-this._previousScrollPosition.top),t.classList.add("cdk-global-scrollblock"),this._isEnabled=!0}}},{key:"disable",value:function(){if(this._isEnabled){var t=this._document.documentElement,e=t.style,i=this._document.body.style,o=e.scrollBehavior||"",n=i.scrollBehavior||"";this._isEnabled=!1,e.left=this._previousHTMLStyles.left,e.top=this._previousHTMLStyles.top,t.classList.remove("cdk-global-scrollblock"),e.scrollBehavior=i.scrollBehavior="auto",window.scroll(this._previousScrollPosition.left,this._previousScrollPosition.top),e.scrollBehavior=o,i.scrollBehavior=n}}},{key:"_canBeEnabled",value:function(){if(this._document.documentElement.classList.contains("cdk-global-scrollblock")||this._isEnabled)return!1;var t=this._document.body,e=this._viewportRuler.getViewportSize();return t.scrollHeight>e.height||t.scrollWidth>e.width}}]),t}(),it=function(){function t(e,i,o,n){var a=this;Object(v.a)(this,t),this._scrollDispatcher=e,this._ngZone=i,this._viewportRuler=o,this._config=n,this._scrollSubscription=null,this._detach=function(){a.disable(),a._overlayRef.hasAttached()&&a._ngZone.run((function(){return a._overlayRef.detach()}))}}return Object(g.a)(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;if(!this._scrollSubscription){var e=this._scrollDispatcher.scrolled(0);this._config&&this._config.threshold&&this._config.threshold>1?(this._initialScrollPosition=this._viewportRuler.getViewportScrollPosition().top,this._scrollSubscription=e.subscribe((function(){var e=t._viewportRuler.getViewportScrollPosition().top;Math.abs(e-t._initialScrollPosition)>t._config.threshold?t._detach():t._overlayRef.updatePosition()}))):this._scrollSubscription=e.subscribe(this._detach)}}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),ot=function(){function t(){Object(v.a)(this,t)}return Object(g.a)(t,[{key:"enable",value:function(){}},{key:"disable",value:function(){}},{key:"attach",value:function(){}}]),t}();function nt(t,e){return e.some((function(e){return t.bottom<e.top||t.top>e.bottom||t.right<e.left||t.left>e.right}))}function at(t,e){return e.some((function(e){return t.top<e.top||t.bottom>e.bottom||t.left<e.left||t.right>e.right}))}var rt=function(){function t(e,i,o,n){Object(v.a)(this,t),this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this._config=n,this._scrollSubscription=null}return Object(g.a)(t,[{key:"attach",value:function(t){this._overlayRef=t}},{key:"enable",value:function(){var t=this;this._scrollSubscription||(this._scrollSubscription=this._scrollDispatcher.scrolled(this._config?this._config.scrollThrottle:0).subscribe((function(){if(t._overlayRef.updatePosition(),t._config&&t._config.autoClose){var e=t._overlayRef.overlayElement.getBoundingClientRect(),i=t._viewportRuler.getViewportSize(),o=i.width,n=i.height;nt(e,[{width:o,height:n,bottom:n,right:o,top:0,left:0}])&&(t.disable(),t._ngZone.run((function(){return t._overlayRef.detach()})))}})))}},{key:"disable",value:function(){this._scrollSubscription&&(this._scrollSubscription.unsubscribe(),this._scrollSubscription=null)}},{key:"detach",value:function(){this.disable(),this._overlayRef=null}}]),t}(),ct=function(){var t=function t(e,i,o,n){var a=this;Object(v.a)(this,t),this._scrollDispatcher=e,this._viewportRuler=i,this._ngZone=o,this.noop=function(){return new ot},this.close=function(t){return new it(a._scrollDispatcher,a._ngZone,a._viewportRuler,t)},this.block=function(){return new et(a._viewportRuler,a._document)},this.reposition=function(t){return new rt(a._scrollDispatcher,a._viewportRuler,a._ngZone,t)},this._document=n};return t.\u0275fac=function(e){return new(e||t)(r.bc(D),r.bc(P),r.bc(r.A),r.bc(n.e))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.bc)(D),Object(r.bc)(P),Object(r.bc)(r.A),Object(r.bc)(n.e))},token:t,providedIn:"root"}),t}(),st=function t(e){if(Object(v.a)(this,t),this.scrollStrategy=new ot,this.panelClass="",this.hasBackdrop=!1,this.backdropClass="cdk-overlay-dark-backdrop",this.disposeOnNavigation=!1,e)for(var i=0,o=Object.keys(e);i<o.length;i++){var n=o[i];void 0!==e[n]&&(this[n]=e[n])}},bt=function t(e,i,o,n,a){Object(v.a)(this,t),this.offsetX=o,this.offsetY=n,this.panelClass=a,this.originX=e.originX,this.originY=e.originY,this.overlayX=i.overlayX,this.overlayY=i.overlayY},lt=function t(e,i){Object(v.a)(this,t),this.connectionPair=e,this.scrollableViewProperties=i},ut=function(){var t=function(){function t(e){Object(v.a)(this,t),this._attachedOverlays=[],this._document=e}return Object(g.a)(t,[{key:"ngOnDestroy",value:function(){this.detach()}},{key:"add",value:function(t){this.remove(t),this._attachedOverlays.push(t)}},{key:"remove",value:function(t){var e=this._attachedOverlays.indexOf(t);e>-1&&this._attachedOverlays.splice(e,1),0===this._attachedOverlays.length&&this.detach()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(n.e))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.bc)(n.e))},token:t,providedIn:"root"}),t}(),dt=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t){var o;return Object(v.a)(this,i),(o=e.call(this,t))._keydownListener=function(t){for(var e=o._attachedOverlays,i=e.length-1;i>-1;i--)if(e[i]._keydownEvents.observers.length>0){e[i]._keydownEvents.next(t);break}},o}return Object(g.a)(i,[{key:"add",value:function(t){Object(S.a)(Object(z.a)(i.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("keydown",this._keydownListener),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("keydown",this._keydownListener),this._isAttached=!1)}}]),i}(ut);return t.\u0275fac=function(e){return new(e||t)(r.bc(n.e))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.bc)(n.e))},token:t,providedIn:"root"}),t}(),pt=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o){var n;return Object(v.a)(this,i),(n=e.call(this,t))._platform=o,n._cursorStyleIsSet=!1,n._clickListener=function(t){for(var e=t.composedPath?t.composedPath()[0]:t.target,i=n._attachedOverlays.slice(),o=i.length-1;o>-1;o--){var a=i[o];if(!(a._outsidePointerEvents.observers.length<1)&&a.hasAttached()){if(a.overlayElement.contains(e))break;a._outsidePointerEvents.next(t)}}},n}return Object(g.a)(i,[{key:"add",value:function(t){Object(S.a)(Object(z.a)(i.prototype),"add",this).call(this,t),this._isAttached||(this._document.body.addEventListener("click",this._clickListener,!0),this._document.body.addEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&!this._cursorStyleIsSet&&(this._cursorOriginalValue=this._document.body.style.cursor,this._document.body.style.cursor="pointer",this._cursorStyleIsSet=!0),this._isAttached=!0)}},{key:"detach",value:function(){this._isAttached&&(this._document.body.removeEventListener("click",this._clickListener,!0),this._document.body.removeEventListener("contextmenu",this._clickListener,!0),this._platform.IOS&&this._cursorStyleIsSet&&(this._document.body.style.cursor=this._cursorOriginalValue,this._cursorStyleIsSet=!1),this._isAttached=!1)}}]),i}(ut);return t.\u0275fac=function(e){return new(e||t)(r.bc(n.e),r.bc(j.a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.bc)(n.e),Object(r.bc)(j.a))},token:t,providedIn:"root"}),t}(),gt=!("undefined"==typeof window||!window||!window.__karma__&&!window.jasmine),ft=function(){var t=function(){function t(e,i){Object(v.a)(this,t),this._platform=i,this._document=e}return Object(g.a)(t,[{key:"ngOnDestroy",value:function(){var t=this._containerElement;t&&t.parentNode&&t.parentNode.removeChild(t)}},{key:"getContainerElement",value:function(){return this._containerElement||this._createContainer(),this._containerElement}},{key:"_createContainer",value:function(){var t=this._platform?this._platform.isBrowser:"undefined"!=typeof window,e="cdk-overlay-container";if(t||gt)for(var i=this._document.querySelectorAll(".".concat(e,'[platform="server"], ')+".".concat(e,'[platform="test"]')),o=0;o<i.length;o++)i[o].parentNode.removeChild(i[o]);var n=this._document.createElement("div");n.classList.add(e),gt?n.setAttribute("platform","test"):t||n.setAttribute("platform","server"),this._document.body.appendChild(n),this._containerElement=n}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(n.e),r.bc(j.a))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.bc)(n.e),Object(r.bc)(j.a))},token:t,providedIn:"root"}),t}(),ht=function(){function t(e,i,o,n,a,r,c,s,l){var u=this;Object(v.a)(this,t),this._portalOutlet=e,this._host=i,this._pane=o,this._config=n,this._ngZone=a,this._keyboardDispatcher=r,this._document=c,this._location=s,this._outsideClickDispatcher=l,this._backdropElement=null,this._backdropClick=new b.a,this._attachments=new b.a,this._detachments=new b.a,this._locationChanges=w.a.EMPTY,this._backdropClickHandler=function(t){return u._backdropClick.next(t)},this._keydownEvents=new b.a,this._outsidePointerEvents=new b.a,n.scrollStrategy&&(this._scrollStrategy=n.scrollStrategy,this._scrollStrategy.attach(this)),this._positionStrategy=n.positionStrategy}return Object(g.a)(t,[{key:"attach",value:function(t){var e=this,i=this._portalOutlet.attach(t);return!this._host.parentElement&&this._previousHostParent&&this._previousHostParent.appendChild(this._host),this._positionStrategy&&this._positionStrategy.attach(this),this._updateStackingOrder(),this._updateElementSize(),this._updateElementDirection(),this._scrollStrategy&&this._scrollStrategy.enable(),this._ngZone.onStable.pipe(Object(K.a)(1)).subscribe((function(){e.hasAttached()&&e.updatePosition()})),this._togglePointerEvents(!0),this._config.hasBackdrop&&this._attachBackdrop(),this._config.panelClass&&this._toggleClasses(this._pane,this._config.panelClass,!0),this._attachments.next(),this._keyboardDispatcher.add(this),this._config.disposeOnNavigation&&this._location&&(this._locationChanges=this._location.subscribe((function(){return e.dispose()}))),this._outsideClickDispatcher&&this._outsideClickDispatcher.add(this),i}},{key:"detach",value:function(){if(this.hasAttached()){this.detachBackdrop(),this._togglePointerEvents(!1),this._positionStrategy&&this._positionStrategy.detach&&this._positionStrategy.detach(),this._scrollStrategy&&this._scrollStrategy.disable();var t=this._portalOutlet.detach();return this._detachments.next(),this._keyboardDispatcher.remove(this),this._detachContentWhenStable(),this._locationChanges.unsubscribe(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),t}}},{key:"dispose",value:function(){var t=this.hasAttached();this._positionStrategy&&this._positionStrategy.dispose(),this._disposeScrollStrategy(),this.detachBackdrop(),this._locationChanges.unsubscribe(),this._keyboardDispatcher.remove(this),this._portalOutlet.dispose(),this._attachments.complete(),this._backdropClick.complete(),this._keydownEvents.complete(),this._outsidePointerEvents.complete(),this._outsideClickDispatcher&&this._outsideClickDispatcher.remove(this),this._host&&this._host.parentNode&&(this._host.parentNode.removeChild(this._host),this._host=null),this._previousHostParent=this._pane=null,t&&this._detachments.next(),this._detachments.complete()}},{key:"hasAttached",value:function(){return this._portalOutlet.hasAttached()}},{key:"backdropClick",value:function(){return this._backdropClick}},{key:"attachments",value:function(){return this._attachments}},{key:"detachments",value:function(){return this._detachments}},{key:"keydownEvents",value:function(){return this._keydownEvents}},{key:"outsidePointerEvents",value:function(){return this._outsidePointerEvents}},{key:"getConfig",value:function(){return this._config}},{key:"updatePosition",value:function(){this._positionStrategy&&this._positionStrategy.apply()}},{key:"updatePositionStrategy",value:function(t){t!==this._positionStrategy&&(this._positionStrategy&&this._positionStrategy.dispose(),this._positionStrategy=t,this.hasAttached()&&(t.attach(this),this.updatePosition()))}},{key:"updateSize",value:function(t){this._config=Object.assign(Object.assign({},this._config),t),this._updateElementSize()}},{key:"setDirection",value:function(t){this._config=Object.assign(Object.assign({},this._config),{direction:t}),this._updateElementDirection()}},{key:"addPanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!0)}},{key:"removePanelClass",value:function(t){this._pane&&this._toggleClasses(this._pane,t,!1)}},{key:"getDirection",value:function(){var t=this._config.direction;return t?"string"==typeof t?t:t.value:"ltr"}},{key:"updateScrollStrategy",value:function(t){t!==this._scrollStrategy&&(this._disposeScrollStrategy(),this._scrollStrategy=t,this.hasAttached()&&(t.attach(this),t.enable()))}},{key:"_updateElementDirection",value:function(){this._host.setAttribute("dir",this.getDirection())}},{key:"_updateElementSize",value:function(){if(this._pane){var t=this._pane.style;t.width=Object(y.d)(this._config.width),t.height=Object(y.d)(this._config.height),t.minWidth=Object(y.d)(this._config.minWidth),t.minHeight=Object(y.d)(this._config.minHeight),t.maxWidth=Object(y.d)(this._config.maxWidth),t.maxHeight=Object(y.d)(this._config.maxHeight)}}},{key:"_togglePointerEvents",value:function(t){this._pane.style.pointerEvents=t?"auto":"none"}},{key:"_attachBackdrop",value:function(){var t=this,e="cdk-overlay-backdrop-showing";this._backdropElement=this._document.createElement("div"),this._backdropElement.classList.add("cdk-overlay-backdrop"),this._config.backdropClass&&this._toggleClasses(this._backdropElement,this._config.backdropClass,!0),this._host.parentElement.insertBefore(this._backdropElement,this._host),this._backdropElement.addEventListener("click",this._backdropClickHandler),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){t._backdropElement&&t._backdropElement.classList.add(e)}))})):this._backdropElement.classList.add(e)}},{key:"_updateStackingOrder",value:function(){this._host.nextSibling&&this._host.parentNode.appendChild(this._host)}},{key:"detachBackdrop",value:function(){var t=this,e=this._backdropElement;if(e){var i,o=function o(){e&&(e.removeEventListener("click",t._backdropClickHandler),e.removeEventListener("transitionend",o),e.parentNode&&e.parentNode.removeChild(e)),t._backdropElement==e&&(t._backdropElement=null),t._config.backdropClass&&t._toggleClasses(e,t._config.backdropClass,!1),clearTimeout(i)};e.classList.remove("cdk-overlay-backdrop-showing"),this._ngZone.runOutsideAngular((function(){e.addEventListener("transitionend",o)})),e.style.pointerEvents="none",i=this._ngZone.runOutsideAngular((function(){return setTimeout(o,500)}))}}},{key:"_toggleClasses",value:function(t,e,i){var o=t.classList;Object(y.b)(e).forEach((function(t){t&&(i?o.add(t):o.remove(t))}))}},{key:"_detachContentWhenStable",value:function(){var t=this;this._ngZone.runOutsideAngular((function(){var e=t._ngZone.onStable.pipe(Object(C.a)(Object(Z.a)(t._attachments,t._detachments))).subscribe((function(){t._pane&&t._host&&0!==t._pane.children.length||(t._pane&&t._config.panelClass&&t._toggleClasses(t._pane,t._config.panelClass,!1),t._host&&t._host.parentElement&&(t._previousHostParent=t._host.parentElement,t._previousHostParent.removeChild(t._host)),e.unsubscribe())}))}))}},{key:"_disposeScrollStrategy",value:function(){var t=this._scrollStrategy;t&&(t.disable(),t.detach&&t.detach())}},{key:"overlayElement",get:function(){return this._pane}},{key:"backdropElement",get:function(){return this._backdropElement}},{key:"hostElement",get:function(){return this._host}}]),t}(),vt="cdk-overlay-connected-position-bounding-box",mt=/([A-Za-z%]+)$/,Tt=function(){function t(e,i,o,n,a){Object(v.a)(this,t),this._viewportRuler=i,this._document=o,this._platform=n,this._overlayContainer=a,this._lastBoundingBoxSize={width:0,height:0},this._isPushed=!1,this._canPush=!0,this._growAfterOpen=!1,this._hasFlexibleDimensions=!0,this._positionLocked=!1,this._viewportMargin=0,this._scrollables=[],this._preferredPositions=[],this._positionChanges=new b.a,this._resizeSubscription=w.a.EMPTY,this._offsetX=0,this._offsetY=0,this._appliedPanelClasses=[],this.positionChanges=this._positionChanges,this.setOrigin(e)}return Object(g.a)(t,[{key:"attach",value:function(t){var e=this;this._validatePositions(),t.hostElement.classList.add(vt),this._overlayRef=t,this._boundingBox=t.hostElement,this._pane=t.overlayElement,this._isDisposed=!1,this._isInitialRender=!0,this._lastPosition=null,this._resizeSubscription.unsubscribe(),this._resizeSubscription=this._viewportRuler.change().subscribe((function(){e._isInitialRender=!0,e.apply()}))}},{key:"apply",value:function(){if(!this._isDisposed&&this._platform.isBrowser)if(!this._isInitialRender&&this._positionLocked&&this._lastPosition)this.reapplyLastPosition();else{this._clearPanelClasses(),this._resetOverlayElementStyles(),this._resetBoundingBoxStyles(),this._viewportRect=this._getNarrowedViewportRect(),this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect();var t,e,i=this._originRect,o=this._overlayRect,n=this._viewportRect,a=[],r=Object(T.a)(this._preferredPositions);try{for(r.s();!(e=r.n()).done;){var c=e.value,s=this._getOriginPoint(i,c),b=this._getOverlayPoint(s,o,c),l=this._getOverlayFit(b,o,n,c);if(l.isCompletelyWithinViewport)return this._isPushed=!1,void this._applyPosition(c,s);this._canFitWithFlexibleDimensions(l,b,n)?a.push({position:c,origin:s,overlayRect:o,boundingBoxRect:this._calculateBoundingBoxRect(s,c)}):(!t||t.overlayFit.visibleArea<l.visibleArea)&&(t={overlayFit:l,overlayPoint:b,originPoint:s,position:c,overlayRect:o})}}catch(v){r.e(v)}finally{r.f()}if(a.length){var u,d=null,p=-1,g=Object(T.a)(a);try{for(g.s();!(u=g.n()).done;){var f=u.value,h=f.boundingBoxRect.width*f.boundingBoxRect.height*(f.position.weight||1);h>p&&(p=h,d=f)}}catch(v){g.e(v)}finally{g.f()}return this._isPushed=!1,void this._applyPosition(d.position,d.origin)}if(this._canPush)return this._isPushed=!0,void this._applyPosition(t.position,t.originPoint);this._applyPosition(t.position,t.originPoint)}}},{key:"detach",value:function(){this._clearPanelClasses(),this._lastPosition=null,this._previousPushAmount=null,this._resizeSubscription.unsubscribe()}},{key:"dispose",value:function(){this._isDisposed||(this._boundingBox&&St(this._boundingBox.style,{top:"",left:"",right:"",bottom:"",height:"",width:"",alignItems:"",justifyContent:""}),this._pane&&this._resetOverlayElementStyles(),this._overlayRef&&this._overlayRef.hostElement.classList.remove(vt),this.detach(),this._positionChanges.complete(),this._overlayRef=this._boundingBox=null,this._isDisposed=!0)}},{key:"reapplyLastPosition",value:function(){if(!this._isDisposed&&(!this._platform||this._platform.isBrowser)){this._originRect=this._getOriginRect(),this._overlayRect=this._pane.getBoundingClientRect(),this._viewportRect=this._getNarrowedViewportRect();var t=this._lastPosition||this._preferredPositions[0],e=this._getOriginPoint(this._originRect,t);this._applyPosition(t,e)}}},{key:"withScrollableContainers",value:function(t){return this._scrollables=t,this}},{key:"withPositions",value:function(t){return this._preferredPositions=t,-1===t.indexOf(this._lastPosition)&&(this._lastPosition=null),this._validatePositions(),this}},{key:"withViewportMargin",value:function(t){return this._viewportMargin=t,this}},{key:"withFlexibleDimensions",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._hasFlexibleDimensions=t,this}},{key:"withGrowAfterOpen",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._growAfterOpen=t,this}},{key:"withPush",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._canPush=t,this}},{key:"withLockedPosition",value:function(){var t=!(arguments.length>0&&void 0!==arguments[0])||arguments[0];return this._positionLocked=t,this}},{key:"setOrigin",value:function(t){return this._origin=t,this}},{key:"withDefaultOffsetX",value:function(t){return this._offsetX=t,this}},{key:"withDefaultOffsetY",value:function(t){return this._offsetY=t,this}},{key:"withTransformOriginOn",value:function(t){return this._transformOriginSelector=t,this}},{key:"_getOriginPoint",value:function(t,e){var i;if("center"==e.originX)i=t.left+t.width/2;else{var o=this._isRtl()?t.right:t.left,n=this._isRtl()?t.left:t.right;i="start"==e.originX?o:n}return{x:i,y:"center"==e.originY?t.top+t.height/2:"top"==e.originY?t.top:t.bottom}}},{key:"_getOverlayPoint",value:function(t,e,i){var o;return o="center"==i.overlayX?-e.width/2:"start"===i.overlayX?this._isRtl()?-e.width:0:this._isRtl()?0:-e.width,{x:t.x+o,y:t.y+("center"==i.overlayY?-e.height/2:"top"==i.overlayY?0:-e.height)}}},{key:"_getOverlayFit",value:function(t,e,i,o){var n=t.x,a=t.y,r=this._getOffset(o,"x"),c=this._getOffset(o,"y");r&&(n+=r),c&&(a+=c);var s=0-a,b=a+e.height-i.height,l=this._subtractOverflows(e.width,0-n,n+e.width-i.width),u=this._subtractOverflows(e.height,s,b),d=l*u;return{visibleArea:d,isCompletelyWithinViewport:e.width*e.height===d,fitsInViewportVertically:u===e.height,fitsInViewportHorizontally:l==e.width}}},{key:"_canFitWithFlexibleDimensions",value:function(t,e,i){if(this._hasFlexibleDimensions){var o=i.bottom-e.y,n=i.right-e.x,a=zt(this._overlayRef.getConfig().minHeight),r=zt(this._overlayRef.getConfig().minWidth);return(t.fitsInViewportVertically||null!=a&&a<=o)&&(t.fitsInViewportHorizontally||null!=r&&r<=n)}return!1}},{key:"_pushOverlayOnScreen",value:function(t,e,i){if(this._previousPushAmount&&this._positionLocked)return{x:t.x+this._previousPushAmount.x,y:t.y+this._previousPushAmount.y};var o,n,a=this._viewportRect,r=Math.max(t.x+e.width-a.width,0),c=Math.max(t.y+e.height-a.height,0),s=Math.max(a.top-i.top-t.y,0),b=Math.max(a.left-i.left-t.x,0);return this._previousPushAmount={x:o=e.width<=a.width?b||-r:t.x<this._viewportMargin?a.left-i.left-t.x:0,y:n=e.height<=a.height?s||-c:t.y<this._viewportMargin?a.top-i.top-t.y:0},{x:t.x+o,y:t.y+n}}},{key:"_applyPosition",value:function(t,e){if(this._setTransformOrigin(t),this._setOverlayElementStyles(e,t),this._setBoundingBoxStyles(e,t),t.panelClass&&this._addPanelClasses(t.panelClass),this._lastPosition=t,this._positionChanges.observers.length){var i=this._getScrollVisibility(),o=new lt(t,i);this._positionChanges.next(o)}this._isInitialRender=!1}},{key:"_setTransformOrigin",value:function(t){if(this._transformOriginSelector){var e,i=this._boundingBox.querySelectorAll(this._transformOriginSelector),o=t.overlayY;e="center"===t.overlayX?"center":this._isRtl()?"start"===t.overlayX?"right":"left":"start"===t.overlayX?"left":"right";for(var n=0;n<i.length;n++)i[n].style.transformOrigin="".concat(e," ").concat(o)}}},{key:"_calculateBoundingBoxRect",value:function(t,e){var i,o,n,a,r,c,s=this._viewportRect,b=this._isRtl();if("top"===e.overlayY)i=s.height-(o=t.y)+this._viewportMargin;else if("bottom"===e.overlayY)i=s.height-(n=s.height-t.y+2*this._viewportMargin)+this._viewportMargin;else{var l=Math.min(s.bottom-t.y+s.top,t.y),u=this._lastBoundingBoxSize.height;o=t.y-l,(i=2*l)>u&&!this._isInitialRender&&!this._growAfterOpen&&(o=t.y-u/2)}if("end"===e.overlayX&&!b||"start"===e.overlayX&&b)c=s.width-t.x+this._viewportMargin,a=t.x-this._viewportMargin;else if("start"===e.overlayX&&!b||"end"===e.overlayX&&b)r=t.x,a=s.right-t.x;else{var d=Math.min(s.right-t.x+s.left,t.x),p=this._lastBoundingBoxSize.width;r=t.x-d,(a=2*d)>p&&!this._isInitialRender&&!this._growAfterOpen&&(r=t.x-p/2)}return{top:o,left:r,bottom:n,right:c,width:a,height:i}}},{key:"_setBoundingBoxStyles",value:function(t,e){var i=this._calculateBoundingBoxRect(t,e);this._isInitialRender||this._growAfterOpen||(i.height=Math.min(i.height,this._lastBoundingBoxSize.height),i.width=Math.min(i.width,this._lastBoundingBoxSize.width));var o={};if(this._hasExactPosition())o.top=o.left="0",o.bottom=o.right=o.maxHeight=o.maxWidth="",o.width=o.height="100%";else{var n=this._overlayRef.getConfig().maxHeight,a=this._overlayRef.getConfig().maxWidth;o.height=Object(y.d)(i.height),o.top=Object(y.d)(i.top),o.bottom=Object(y.d)(i.bottom),o.width=Object(y.d)(i.width),o.left=Object(y.d)(i.left),o.right=Object(y.d)(i.right),o.alignItems="center"===e.overlayX?"center":"end"===e.overlayX?"flex-end":"flex-start",o.justifyContent="center"===e.overlayY?"center":"bottom"===e.overlayY?"flex-end":"flex-start",n&&(o.maxHeight=Object(y.d)(n)),a&&(o.maxWidth=Object(y.d)(a))}this._lastBoundingBoxSize=i,St(this._boundingBox.style,o)}},{key:"_resetBoundingBoxStyles",value:function(){St(this._boundingBox.style,{top:"0",left:"0",right:"0",bottom:"0",height:"",width:"",alignItems:"",justifyContent:""})}},{key:"_resetOverlayElementStyles",value:function(){St(this._pane.style,{top:"",left:"",bottom:"",right:"",position:"",transform:""})}},{key:"_setOverlayElementStyles",value:function(t,e){var i={},o=this._hasExactPosition(),n=this._hasFlexibleDimensions,a=this._overlayRef.getConfig();if(o){var r=this._viewportRuler.getViewportScrollPosition();St(i,this._getExactOverlayY(e,t,r)),St(i,this._getExactOverlayX(e,t,r))}else i.position="static";var c="",s=this._getOffset(e,"x"),b=this._getOffset(e,"y");s&&(c+="translateX(".concat(s,"px) ")),b&&(c+="translateY(".concat(b,"px)")),i.transform=c.trim(),a.maxHeight&&(o?i.maxHeight=Object(y.d)(a.maxHeight):n&&(i.maxHeight="")),a.maxWidth&&(o?i.maxWidth=Object(y.d)(a.maxWidth):n&&(i.maxWidth="")),St(this._pane.style,i)}},{key:"_getExactOverlayY",value:function(t,e,i){var o={top:"",bottom:""},n=this._getOverlayPoint(e,this._overlayRect,t);this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i));var a=this._overlayContainer.getContainerElement().getBoundingClientRect().top;return n.y-=a,"bottom"===t.overlayY?o.bottom="".concat(this._document.documentElement.clientHeight-(n.y+this._overlayRect.height),"px"):o.top=Object(y.d)(n.y),o}},{key:"_getExactOverlayX",value:function(t,e,i){var o={left:"",right:""},n=this._getOverlayPoint(e,this._overlayRect,t);return this._isPushed&&(n=this._pushOverlayOnScreen(n,this._overlayRect,i)),"right"==(this._isRtl()?"end"===t.overlayX?"left":"right":"end"===t.overlayX?"right":"left")?o.right="".concat(this._document.documentElement.clientWidth-(n.x+this._overlayRect.width),"px"):o.left=Object(y.d)(n.x),o}},{key:"_getScrollVisibility",value:function(){var t=this._getOriginRect(),e=this._pane.getBoundingClientRect(),i=this._scrollables.map((function(t){return t.getElementRef().nativeElement.getBoundingClientRect()}));return{isOriginClipped:at(t,i),isOriginOutsideView:nt(t,i),isOverlayClipped:at(e,i),isOverlayOutsideView:nt(e,i)}}},{key:"_subtractOverflows",value:function(t){for(var e=arguments.length,i=new Array(e>1?e-1:0),o=1;o<e;o++)i[o-1]=arguments[o];return i.reduce((function(t,e){return t-Math.max(e,0)}),t)}},{key:"_getNarrowedViewportRect",value:function(){var t=this._document.documentElement.clientWidth,e=this._document.documentElement.clientHeight,i=this._viewportRuler.getViewportScrollPosition();return{top:i.top+this._viewportMargin,left:i.left+this._viewportMargin,right:i.left+t-this._viewportMargin,bottom:i.top+e-this._viewportMargin,width:t-2*this._viewportMargin,height:e-2*this._viewportMargin}}},{key:"_isRtl",value:function(){return"rtl"===this._overlayRef.getDirection()}},{key:"_hasExactPosition",value:function(){return!this._hasFlexibleDimensions||this._isPushed}},{key:"_getOffset",value:function(t,e){return"x"===e?null==t.offsetX?this._offsetX:t.offsetX:null==t.offsetY?this._offsetY:t.offsetY}},{key:"_validatePositions",value:function(){}},{key:"_addPanelClasses",value:function(t){var e=this;this._pane&&Object(y.b)(t).forEach((function(t){""!==t&&-1===e._appliedPanelClasses.indexOf(t)&&(e._appliedPanelClasses.push(t),e._pane.classList.add(t))}))}},{key:"_clearPanelClasses",value:function(){var t=this;this._pane&&(this._appliedPanelClasses.forEach((function(e){t._pane.classList.remove(e)})),this._appliedPanelClasses=[])}},{key:"_getOriginRect",value:function(){var t=this._origin;if(t instanceof r.l)return t.nativeElement.getBoundingClientRect();if(t instanceof Element)return t.getBoundingClientRect();var e=t.width||0,i=t.height||0;return{top:t.y,bottom:t.y+i,left:t.x,right:t.x+e,height:i,width:e}}},{key:"positions",get:function(){return this._preferredPositions}}]),t}();function St(t,e){for(var i in e)e.hasOwnProperty(i)&&(t[i]=e[i]);return t}function zt(t){if("number"!=typeof t&&null!=t){var e=t.split(mt),i=Object(m.a)(e,2),o=i[1];return o&&"px"!==o?null:parseFloat(i[0])}return t||null}var yt=function(){function t(e,i,o,n,a,r,c){Object(v.a)(this,t),this._preferredPositions=[],this._positionStrategy=new Tt(o,n,a,r,c).withFlexibleDimensions(!1).withPush(!1).withViewportMargin(0),this.withFallbackPosition(e,i),this.onPositionChange=this._positionStrategy.positionChanges}return Object(g.a)(t,[{key:"attach",value:function(t){this._overlayRef=t,this._positionStrategy.attach(t),this._direction&&(t.setDirection(this._direction),this._direction=null)}},{key:"dispose",value:function(){this._positionStrategy.dispose()}},{key:"detach",value:function(){this._positionStrategy.detach()}},{key:"apply",value:function(){this._positionStrategy.apply()}},{key:"recalculateLastPosition",value:function(){this._positionStrategy.reapplyLastPosition()}},{key:"withScrollableContainers",value:function(t){this._positionStrategy.withScrollableContainers(t)}},{key:"withFallbackPosition",value:function(t,e,i,o){var n=new bt(t,e,i,o);return this._preferredPositions.push(n),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"withDirection",value:function(t){return this._overlayRef?this._overlayRef.setDirection(t):this._direction=t,this}},{key:"withOffsetX",value:function(t){return this._positionStrategy.withDefaultOffsetX(t),this}},{key:"withOffsetY",value:function(t){return this._positionStrategy.withDefaultOffsetY(t),this}},{key:"withLockedPosition",value:function(t){return this._positionStrategy.withLockedPosition(t),this}},{key:"withPositions",value:function(t){return this._preferredPositions=t.slice(),this._positionStrategy.withPositions(this._preferredPositions),this}},{key:"setOrigin",value:function(t){return this._positionStrategy.setOrigin(t),this}},{key:"positions",get:function(){return this._preferredPositions}}]),t}(),_t="cdk-global-overlay-wrapper",At=function(){function t(){Object(v.a)(this,t),this._cssPosition="static",this._topOffset="",this._bottomOffset="",this._leftOffset="",this._rightOffset="",this._alignItems="",this._justifyContent="",this._width="",this._height=""}return Object(g.a)(t,[{key:"attach",value:function(t){var e=t.getConfig();this._overlayRef=t,this._width&&!e.width&&t.updateSize({width:this._width}),this._height&&!e.height&&t.updateSize({height:this._height}),t.hostElement.classList.add(_t),this._isDisposed=!1}},{key:"top",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._bottomOffset="",this._topOffset=t,this._alignItems="flex-start",this}},{key:"left",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._rightOffset="",this._leftOffset=t,this._justifyContent="flex-start",this}},{key:"bottom",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._topOffset="",this._bottomOffset=t,this._alignItems="flex-end",this}},{key:"right",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._leftOffset="",this._rightOffset=t,this._justifyContent="flex-end",this}},{key:"width",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({width:t}):this._width=t,this}},{key:"height",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this._overlayRef?this._overlayRef.updateSize({height:t}):this._height=t,this}},{key:"centerHorizontally",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.left(t),this._justifyContent="center",this}},{key:"centerVertically",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"";return this.top(t),this._alignItems="center",this}},{key:"apply",value:function(){if(this._overlayRef&&this._overlayRef.hasAttached()){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement.style,i=this._overlayRef.getConfig(),o=i.width,n=i.height,a=i.maxWidth,r=i.maxHeight,c=!("100%"!==o&&"100vw"!==o||a&&"100%"!==a&&"100vw"!==a),s=!("100%"!==n&&"100vh"!==n||r&&"100%"!==r&&"100vh"!==r);t.position=this._cssPosition,t.marginLeft=c?"0":this._leftOffset,t.marginTop=s?"0":this._topOffset,t.marginBottom=this._bottomOffset,t.marginRight=this._rightOffset,c?e.justifyContent="flex-start":"center"===this._justifyContent?e.justifyContent="center":"rtl"===this._overlayRef.getConfig().direction?"flex-start"===this._justifyContent?e.justifyContent="flex-end":"flex-end"===this._justifyContent&&(e.justifyContent="flex-start"):e.justifyContent=this._justifyContent,e.alignItems=s?"flex-start":this._alignItems}}},{key:"dispose",value:function(){if(!this._isDisposed&&this._overlayRef){var t=this._overlayRef.overlayElement.style,e=this._overlayRef.hostElement,i=e.style;e.classList.remove(_t),i.justifyContent=i.alignItems=t.marginTop=t.marginBottom=t.marginLeft=t.marginRight=t.position="",this._overlayRef=null,this._isDisposed=!0}}}]),t}(),Ot=function(){var t=function(){function t(e,i,o,n){Object(v.a)(this,t),this._viewportRuler=e,this._document=i,this._platform=o,this._overlayContainer=n}return Object(g.a)(t,[{key:"global",value:function(){return new At}},{key:"connectedTo",value:function(t,e,i){return new yt(e,i,t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}},{key:"flexibleConnectedTo",value:function(t){return new Tt(t,this._viewportRuler,this._document,this._platform,this._overlayContainer)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(P),r.bc(n.e),r.bc(j.a),r.bc(ft))},t.\u0275prov=Object(r.Jb)({factory:function(){return new t(Object(r.bc)(P),Object(r.bc)(n.e),Object(r.bc)(j.a),Object(r.bc)(ft))},token:t,providedIn:"root"}),t}(),wt=0,kt=function(){var t=function(){function t(e,i,o,n,a,r,c,s,b,l,u){Object(v.a)(this,t),this.scrollStrategies=e,this._overlayContainer=i,this._componentFactoryResolver=o,this._positionBuilder=n,this._keyboardDispatcher=a,this._injector=r,this._ngZone=c,this._document=s,this._directionality=b,this._location=l,this._outsideClickDispatcher=u}return Object(g.a)(t,[{key:"create",value:function(t){var e=this._createHostElement(),i=this._createPaneElement(e),o=this._createPortalOutlet(i),n=new st(t);return n.direction=n.direction||this._directionality.value,new ht(o,e,i,n,this._ngZone,this._keyboardDispatcher,this._document,this._location,this._outsideClickDispatcher)}},{key:"position",value:function(){return this._positionBuilder}},{key:"_createPaneElement",value:function(t){var e=this._document.createElement("div");return e.id="cdk-overlay-".concat(wt++),e.classList.add("cdk-overlay-pane"),t.appendChild(e),e}},{key:"_createHostElement",value:function(){var t=this._document.createElement("div");return this._overlayContainer.getContainerElement().appendChild(t),t}},{key:"_createPortalOutlet",value:function(t){return this._appRef||(this._appRef=this._injector.get(r.g)),new W(t,this._componentFactoryResolver,this._appRef,this._injector,this._document)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.bc(ct),r.bc(ft),r.bc(r.j),r.bc(Ot),r.bc(dt),r.bc(r.s),r.bc(r.A),r.bc(n.e),r.bc(R.b),r.bc(n.k),r.bc(pt))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),Ht={provide:new r.r("cdk-connected-overlay-scroll-strategy"),deps:[kt],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},It=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[kt,Ht],imports:[[R.a,Q,E],E]}),t}(),Ct=i("FKr1"),Mt=i("NXyV"),xt=i("R0Ic"),jt=i("u47x");function Rt(t,e){}var Nt=function t(){Object(v.a)(this,t),this.role="dialog",this.panelClass="",this.hasBackdrop=!0,this.backdropClass="",this.disableClose=!1,this.width="",this.height="",this.maxWidth="80vw",this.data=null,this.ariaDescribedBy=null,this.ariaLabelledBy=null,this.ariaLabel=null,this.autoFocus=!0,this.restoreFocus=!0,this.closeOnNavigation=!0},Dt={dialogContainer:Object(xt.m)("dialogContainer",[Object(xt.j)("void, exit",Object(xt.k)({opacity:0,transform:"scale(0.7)"})),Object(xt.j)("enter",Object(xt.k)({transform:"none"})),Object(xt.l)("* => enter",Object(xt.e)("150ms cubic-bezier(0, 0, 0.2, 1)",Object(xt.k)({transform:"none",opacity:1}))),Object(xt.l)("* => void, * => exit",Object(xt.e)("75ms cubic-bezier(0.4, 0.0, 0.2, 1)",Object(xt.k)({opacity:0})))])},Pt=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a,c,s){var b;return Object(v.a)(this,i),(b=e.call(this))._elementRef=t,b._focusTrapFactory=o,b._changeDetectorRef=n,b._config=c,b._focusMonitor=s,b._animationStateChanged=new r.o,b._elementFocusedBeforeDialogWasOpened=null,b._closeInteractionType=null,b.attachDomPortal=function(t){return b._portalOutlet.hasAttached(),b._portalOutlet.attachDomPortal(t)},b._ariaLabelledBy=c.ariaLabelledBy||null,b._document=a,b}return Object(g.a)(i,[{key:"_initializeWithAttachedContent",value:function(){this._setupFocusTrap(),this._capturePreviouslyFocusedElement(),this._focusDialogContainer()}},{key:"attachComponentPortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachComponentPortal(t)}},{key:"attachTemplatePortal",value:function(t){return this._portalOutlet.hasAttached(),this._portalOutlet.attachTemplatePortal(t)}},{key:"_recaptureFocus",value:function(){this._containsFocus()||(!this._config.autoFocus||!this._focusTrap.focusInitialElement())&&this._elementRef.nativeElement.focus()}},{key:"_trapFocus",value:function(){this._config.autoFocus?this._focusTrap.focusInitialElementWhenReady():this._containsFocus()||this._elementRef.nativeElement.focus()}},{key:"_restoreFocus",value:function(){var t=this._elementFocusedBeforeDialogWasOpened;if(this._config.restoreFocus&&t&&"function"==typeof t.focus){var e=this._document.activeElement,i=this._elementRef.nativeElement;e&&e!==this._document.body&&e!==i&&!i.contains(e)||(this._focusMonitor?(this._focusMonitor.focusVia(t,this._closeInteractionType),this._closeInteractionType=null):t.focus())}this._focusTrap&&this._focusTrap.destroy()}},{key:"_setupFocusTrap",value:function(){this._focusTrap=this._focusTrapFactory.create(this._elementRef.nativeElement)}},{key:"_capturePreviouslyFocusedElement",value:function(){this._document&&(this._elementFocusedBeforeDialogWasOpened=this._document.activeElement)}},{key:"_focusDialogContainer",value:function(){this._elementRef.nativeElement.focus&&this._elementRef.nativeElement.focus()}},{key:"_containsFocus",value:function(){var t=this._elementRef.nativeElement,e=this._document.activeElement;return t===e||t.contains(e)}}]),i}(G);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(jt.g),r.Nb(r.h),r.Nb(n.e,8),r.Nb(Nt),r.Nb(jt.f))},t.\u0275dir=r.Ib({type:t,viewQuery:function(t,e){var i;1&t&&r.Bc(J,!0),2&t&&r.tc(i=r.fc())&&(e._portalOutlet=i.first)},features:[r.xb]}),t}(),Ft=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(){var t;return Object(v.a)(this,i),(t=e.apply(this,arguments))._state="enter",t}return Object(g.a)(i,[{key:"_onAnimationDone",value:function(t){var e=t.toState,i=t.totalTime;"enter"===e?(this._trapFocus(),this._animationStateChanged.next({state:"opened",totalTime:i})):"exit"===e&&(this._restoreFocus(),this._animationStateChanged.next({state:"closed",totalTime:i}))}},{key:"_onAnimationStart",value:function(t){var e=t.toState,i=t.totalTime;"enter"===e?this._animationStateChanged.next({state:"opening",totalTime:i}):"exit"!==e&&"void"!==e||this._animationStateChanged.next({state:"closing",totalTime:i})}},{key:"_startExitAnimation",value:function(){this._state="exit",this._changeDetectorRef.markForCheck()}}]),i}(Pt);return t.\u0275fac=function(e){return Et(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-dialog-container"]],hostAttrs:["tabindex","-1","aria-modal","true",1,"mat-dialog-container"],hostVars:6,hostBindings:function(t,e){1&t&&r.Dc("@dialogContainer.start",(function(t){return e._onAnimationStart(t)}))("@dialogContainer.done",(function(t){return e._onAnimationDone(t)})),2&t&&(r.Wb("id",e._id),r.Bb("role",e._config.role)("aria-labelledby",e._config.ariaLabel?null:e._ariaLabelledBy)("aria-label",e._config.ariaLabel)("aria-describedby",e._config.ariaDescribedBy||null),r.Ec("@dialogContainer",e._state))},features:[r.xb],decls:1,vars:0,consts:[["cdkPortalOutlet",""]],template:function(t,e){1&t&&r.Fc(0,Rt,0,0,"ng-template",0)},directives:[J],styles:[".mat-dialog-container{display:block;padding:24px;border-radius:4px;box-sizing:border-box;overflow:auto;outline:0;width:100%;height:100%;min-height:inherit;max-height:inherit}.cdk-high-contrast-active .mat-dialog-container{outline:solid 1px}.mat-dialog-content{display:block;margin:0 -24px;padding:0 24px;max-height:65vh;overflow:auto;-webkit-overflow-scrolling:touch}.mat-dialog-title{margin:0 0 20px;display:block}.mat-dialog-actions{padding:8px 0;display:flex;flex-wrap:wrap;min-height:52px;align-items:center;margin-bottom:-24px}.mat-dialog-actions[align=end]{justify-content:flex-end}.mat-dialog-actions[align=center]{justify-content:center}.mat-dialog-actions .mat-button-base+.mat-button-base,.mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:8px}[dir=rtl] .mat-dialog-actions .mat-button-base+.mat-button-base,[dir=rtl] .mat-dialog-actions .mat-mdc-button-base+.mat-mdc-button-base{margin-left:0;margin-right:8px}\n"],encapsulation:2,data:{animation:[Dt.dialogContainer]}}),t}(),Et=r.Vb(Ft),qt=0,Vt=function(){function t(e,i){var o=this,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"mat-dialog-".concat(qt++);Object(v.a)(this,t),this._overlayRef=e,this._containerInstance=i,this.id=n,this.disableClose=this._containerInstance._config.disableClose,this._afterOpened=new b.a,this._afterClosed=new b.a,this._beforeClosed=new b.a,this._state=0,i._id=n,i._animationStateChanged.pipe(Object(I.a)((function(t){return"opened"===t.state})),Object(K.a)(1)).subscribe((function(){o._afterOpened.next(),o._afterOpened.complete()})),i._animationStateChanged.pipe(Object(I.a)((function(t){return"closed"===t.state})),Object(K.a)(1)).subscribe((function(){clearTimeout(o._closeFallbackTimeout),o._finishDialogClose()})),e.detachments().subscribe((function(){o._beforeClosed.next(o._result),o._beforeClosed.complete(),o._afterClosed.next(o._result),o._afterClosed.complete(),o.componentInstance=null,o._overlayRef.dispose()})),e.keydownEvents().pipe(Object(I.a)((function(t){return t.keyCode===tt.e&&!o.disableClose&&!Object(tt.o)(t)}))).subscribe((function(t){t.preventDefault(),Lt(o,"keyboard")})),e.backdropClick().subscribe((function(){o.disableClose?o._containerInstance._recaptureFocus():Lt(o,"mouse")}))}return Object(g.a)(t,[{key:"close",value:function(t){var e=this;this._result=t,this._containerInstance._animationStateChanged.pipe(Object(I.a)((function(t){return"closing"===t.state})),Object(K.a)(1)).subscribe((function(i){e._beforeClosed.next(t),e._beforeClosed.complete(),e._overlayRef.detachBackdrop(),e._closeFallbackTimeout=setTimeout((function(){return e._finishDialogClose()}),i.totalTime+100)})),this._state=1,this._containerInstance._startExitAnimation()}},{key:"afterOpened",value:function(){return this._afterOpened}},{key:"afterClosed",value:function(){return this._afterClosed}},{key:"beforeClosed",value:function(){return this._beforeClosed}},{key:"backdropClick",value:function(){return this._overlayRef.backdropClick()}},{key:"keydownEvents",value:function(){return this._overlayRef.keydownEvents()}},{key:"updatePosition",value:function(t){var e=this._getPositionStrategy();return t&&(t.left||t.right)?t.left?e.left(t.left):e.right(t.right):e.centerHorizontally(),t&&(t.top||t.bottom)?t.top?e.top(t.top):e.bottom(t.bottom):e.centerVertically(),this._overlayRef.updatePosition(),this}},{key:"updateSize",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"",e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"";return this._getPositionStrategy().width(t).height(e),this._overlayRef.updatePosition(),this}},{key:"addPanelClass",value:function(t){return this._overlayRef.addPanelClass(t),this}},{key:"removePanelClass",value:function(t){return this._overlayRef.removePanelClass(t),this}},{key:"getState",value:function(){return this._state}},{key:"_finishDialogClose",value:function(){this._state=2,this._overlayRef.dispose()}},{key:"_getPositionStrategy",value:function(){return this._overlayRef.getConfig().positionStrategy}}]),t}();function Lt(t,e,i){return void 0!==t._containerInstance&&(t._containerInstance._closeInteractionType=e),t.close(i)}var Ut=new r.r("MatDialogData"),$t=new r.r("mat-dialog-default-options"),Bt=new r.r("mat-dialog-scroll-strategy"),Gt={provide:Bt,deps:[kt],useFactory:function(t){return function(){return t.scrollStrategies.block()}}},Wt=function(){var t=function(){function t(e,i,o,n,a,r,c,s,l){var u=this;Object(v.a)(this,t),this._overlay=e,this._injector=i,this._defaultOptions=o,this._parentDialog=n,this._overlayContainer=a,this._dialogRefConstructor=c,this._dialogContainerType=s,this._dialogDataToken=l,this._openDialogsAtThisLevel=[],this._afterAllClosedAtThisLevel=new b.a,this._afterOpenedAtThisLevel=new b.a,this._ariaHiddenElements=new Map,this.afterAllClosed=Object(Mt.a)((function(){return u.openDialogs.length?u._getAfterAllClosed():u._getAfterAllClosed().pipe(Object(M.a)(void 0))})),this._scrollStrategy=r}return Object(g.a)(t,[{key:"_getAfterAllClosed",value:function(){var t=this._parentDialog;return t?t._getAfterAllClosed():this._afterAllClosedAtThisLevel}},{key:"open",value:function(t,e){var i=this;(e=function(t,e){return Object.assign(Object.assign({},e),t)}(e,this._defaultOptions||new Nt)).id&&this.getDialogById(e.id);var o=this._createOverlay(e),n=this._attachDialogContainer(o,e),a=this._attachDialogContent(t,n,o,e);return this.openDialogs.length||this._hideNonDialogContentFromAssistiveTechnology(),this.openDialogs.push(a),a.afterClosed().subscribe((function(){return i._removeOpenDialog(a)})),this.afterOpened.next(a),n._initializeWithAttachedContent(),a}},{key:"closeAll",value:function(){this._closeDialogs(this.openDialogs)}},{key:"getDialogById",value:function(t){return this.openDialogs.find((function(e){return e.id===t}))}},{key:"ngOnDestroy",value:function(){this._closeDialogs(this._openDialogsAtThisLevel),this._afterAllClosedAtThisLevel.complete(),this._afterOpenedAtThisLevel.complete()}},{key:"_createOverlay",value:function(t){var e=this._getOverlayConfig(t);return this._overlay.create(e)}},{key:"_getOverlayConfig",value:function(t){var e=new st({positionStrategy:this._overlay.position().global(),scrollStrategy:t.scrollStrategy||this._scrollStrategy(),panelClass:t.panelClass,hasBackdrop:t.hasBackdrop,direction:t.direction,minWidth:t.minWidth,minHeight:t.minHeight,maxWidth:t.maxWidth,maxHeight:t.maxHeight,disposeOnNavigation:t.closeOnNavigation});return t.backdropClass&&(e.backdropClass=t.backdropClass),e}},{key:"_attachDialogContainer",value:function(t,e){var i=r.s.create({parent:e&&e.viewContainerRef&&e.viewContainerRef.injector||this._injector,providers:[{provide:Nt,useValue:e}]}),o=new L(this._dialogContainerType,e.viewContainerRef,i,e.componentFactoryResolver);return t.attach(o).instance}},{key:"_attachDialogContent",value:function(t,e,i,o){var n=new this._dialogRefConstructor(i,e,o.id);if(t instanceof r.M)e.attachTemplatePortal(new U(t,null,{$implicit:o.data,dialogRef:n}));else{var a=this._createInjector(o,n,e),c=e.attachComponentPortal(new L(t,o.viewContainerRef,a));n.componentInstance=c.instance}return n.updateSize(o.width,o.height).updatePosition(o.position),n}},{key:"_createInjector",value:function(t,e,i){var o=t&&t.viewContainerRef&&t.viewContainerRef.injector,n=[{provide:this._dialogContainerType,useValue:i},{provide:this._dialogDataToken,useValue:t.data},{provide:this._dialogRefConstructor,useValue:e}];return!t.direction||o&&o.get(R.b,null)||n.push({provide:R.b,useValue:{value:t.direction,change:Object(_.a)()}}),r.s.create({parent:o||this._injector,providers:n})}},{key:"_removeOpenDialog",value:function(t){var e=this.openDialogs.indexOf(t);e>-1&&(this.openDialogs.splice(e,1),this.openDialogs.length||(this._ariaHiddenElements.forEach((function(t,e){t?e.setAttribute("aria-hidden",t):e.removeAttribute("aria-hidden")})),this._ariaHiddenElements.clear(),this._getAfterAllClosed().next()))}},{key:"_hideNonDialogContentFromAssistiveTechnology",value:function(){var t=this._overlayContainer.getContainerElement();if(t.parentElement)for(var e=t.parentElement.children,i=e.length-1;i>-1;i--){var o=e[i];o===t||"SCRIPT"===o.nodeName||"STYLE"===o.nodeName||o.hasAttribute("aria-live")||(this._ariaHiddenElements.set(o,o.getAttribute("aria-hidden")),o.setAttribute("aria-hidden","true"))}}},{key:"_closeDialogs",value:function(t){for(var e=t.length;e--;)t[e].close()}},{key:"openDialogs",get:function(){return this._parentDialog?this._parentDialog.openDialogs:this._openDialogsAtThisLevel}},{key:"afterOpened",get:function(){return this._parentDialog?this._parentDialog.afterOpened:this._afterOpenedAtThisLevel}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(kt),r.Nb(r.s),r.Nb(void 0),r.Nb(void 0),r.Nb(ft),r.Nb(void 0),r.Nb(r.O),r.Nb(r.O),r.Nb(r.r))},t.\u0275dir=r.Ib({type:t}),t}(),Jt=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a,r,c,s){return Object(v.a)(this,i),e.call(this,t,o,a,c,s,r,Vt,Ft,Ut)}return i}(Wt);return t.\u0275fac=function(e){return new(e||t)(r.bc(kt),r.bc(r.s),r.bc(n.k,8),r.bc($t,8),r.bc(Bt),r.bc(t,12),r.bc(ft))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac}),t}(),Yt=0,Xt=function(){var t=function(){function t(e,i,o){Object(v.a)(this,t),this.dialogRef=e,this._elementRef=i,this._dialog=o,this.type="button"}return Object(g.a)(t,[{key:"ngOnInit",value:function(){this.dialogRef||(this.dialogRef=te(this._elementRef,this._dialog.openDialogs))}},{key:"ngOnChanges",value:function(t){var e=t._matDialogClose||t._matDialogCloseResult;e&&(this.dialogResult=e.currentValue)}},{key:"_onButtonClick",value:function(t){Lt(this.dialogRef,0===t.screenX&&0===t.screenY?"keyboard":"mouse",this.dialogResult)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt,8),r.Nb(r.l),r.Nb(Jt))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-close",""],["","matDialogClose",""]],hostVars:2,hostBindings:function(t,e){1&t&&r.ec("click",(function(t){return e._onButtonClick(t)})),2&t&&r.Bb("aria-label",e.ariaLabel||null)("type",e.type)},inputs:{type:"type",dialogResult:["mat-dialog-close","dialogResult"],ariaLabel:["aria-label","ariaLabel"],_matDialogClose:["matDialogClose","_matDialogClose"]},exportAs:["matDialogClose"],features:[r.yb]}),t}(),Qt=function(){var t=function(){function t(e,i,o){Object(v.a)(this,t),this._dialogRef=e,this._elementRef=i,this._dialog=o,this.id="mat-dialog-title-".concat(Yt++)}return Object(g.a)(t,[{key:"ngOnInit",value:function(){var t=this;this._dialogRef||(this._dialogRef=te(this._elementRef,this._dialog.openDialogs)),this._dialogRef&&Promise.resolve().then((function(){var e=t._dialogRef._containerInstance;e&&!e._ariaLabelledBy&&(e._ariaLabelledBy=t.id)}))}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt,8),r.Nb(r.l),r.Nb(Jt))},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-title",""],["","matDialogTitle",""]],hostAttrs:[1,"mat-dialog-title"],hostVars:1,hostBindings:function(t,e){2&t&&r.Wb("id",e.id)},inputs:{id:"id"},exportAs:["matDialogTitle"]}),t}(),Zt=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-content",""],["mat-dialog-content"],["","matDialogContent",""]],hostAttrs:[1,"mat-dialog-content"]}),t}(),Kt=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275fac=function(e){return new(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["","mat-dialog-actions",""],["mat-dialog-actions"],["","matDialogActions",""]],hostAttrs:[1,"mat-dialog-actions"]}),t}();function te(t,e){for(var i=t.nativeElement.parentElement;i&&!i.classList.contains("mat-dialog-container");)i=i.parentElement;return i?e.find((function(t){return t.id===i.id})):null}var ee=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[Jt,Gt],imports:[[It,Q,Ct.f],Ct.f]}),t}(),ie=i("bTqV"),oe=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-confermadialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"h4",0),r.Hc(1),r.Sb(),r.Tb(2,"div",1),r.Hc(3),r.Sb(),r.Tb(4,"div",2),r.Tb(5,"button",3),r.ec("click",(function(){return e.dialogRef.close(!0)})),r.Hc(6,"Conferma"),r.Sb(),r.Tb(7,"button",4),r.ec("click",(function(){return e.dialogRef.close(!1)})),r.Hc(8,"Annulla"),r.Sb(),r.Sb()),2&t&&(r.Ab(1),r.Ic(e.data.title),r.Ab(2),r.Ic(e.data.message))},directives:[Qt,Zt,Kt,ie.a],styles:[""]}),t}(),ne=i("5eHb");function ae(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",13),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.basedicarico.nomebasedicarico)}}function re(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",13),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(1," Base di carico non inserita"),r.Sb()}}function ce(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",13),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.fornitore.nomefornitore)}}function se(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",13),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(1," Fornitore non inserito"),r.Sb()}}function be(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",12),r.Tb(1,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(2),r.hc(3,"date"),r.Sb(),r.Tb(4,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(5),r.Sb(),r.Fc(6,ae,2,1,"td",14),r.Fc(7,re,2,0,"td",14),r.Fc(8,ce,2,1,"td",14),r.Fc(9,se,2,0,"td",14),r.Tb(10,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(11),r.hc(12,"number"),r.Sb(),r.Tb(13,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(14),r.hc(15,"number"),r.Sb(),r.Tb(16,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(17),r.hc(18,"number"),r.Sb(),r.Tb(19,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(20),r.hc(21,"number"),r.Sb(),r.Tb(22,"td"),r.Tb(23,"button",15),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminafabbisogno(t)})),r.Hc(24,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(r.jc(3,10,o.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.puntoVendita.nome),r.Ab(1),r.mc("ngIf",null!==o.basedicarico),r.Ab(1),r.mc("ngIf",null===o.basedicarico),r.Ab(1),r.mc("ngIf",null!==o.fornitore),r.Ab(1),r.mc("ngIf",null===o.fornitore),r.Ab(2),r.Ic(r.ic(12,13,o.gasolio)),r.Ab(3),r.Ic(r.ic(15,15,o.benzina)),r.Ab(3),r.Ic(r.ic(18,17,o.supreme)),r.Ab(3),r.Ic(r.ic(21,19,o.gpl))}}var le={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},ue=function(){function t(t,e,i,o){this.router=t,this.fabbisognoservice=e,this.toastr=i,this.dialog=o,this.dtTrigger=new b.a,this.dtOptions={},this.listafabbisogni=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:le},this.fabbisognoservice.getallfabbisogni().subscribe((function(e){t.listafabbisogni=e,t.rerender()}))},t.prototype.aggiungifabbisogno=function(){this.router.navigate(["/admin/aggiungimodificafabbisogno"])},t.prototype.vaiapaginafabbisogno=function(t){this.fabbisognoservice.fabbisognoselezionato=t,this.router.navigate(["/admin/aggiungimodificafabbisogno"])},t.prototype.eliminafabbisogno=function(t){var e=this;this.dialog.open(oe,{data:{title:"Vuoi rimuovere il fabbisogno selezionato?",message:"Punto vendita: "+t.puntoVendita.nome}}).afterClosed().subscribe((function(i){!0===i&&e.fabbisognoservice.eliminafabbisogno(t).subscribe((function(t){e.listafabbisogni.length===t.length?e.toastr.error("Errore nell'eliminazione del fabbisogno","Errore"):e.toastr.success("Fabbisogno eliminato!","Eliminato!"),e.listafabbisogni=t,e.rerender()}))}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(p),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-fabbisogno"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:35,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Cliente",1,"fab-bottom-right","btn","btn-warning",3,"click"],[1,"manina"],[3,"click"],[3,"click",4,"ngIf"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Fabbisogni"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"Data"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Cliente"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Base di Carico"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Fornitore"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Gasolio"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"Benzina"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"Supreme"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"GPL"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"tbody"),r.Fc(32,be,25,21,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(33,"button",11),r.ec("click",(function(){return e.aggiungifabbisogno()})),r.Hc(34," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(22),r.mc("ngForOf",e.listafabbisogni))},directives:[c,n.n,ie.a,n.o],pipes:[n.f,n.g],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}(),de=function(){return function(){}}(),pe=function(){function t(t,e,i){this.http=t,this.cookieService=e,this.loginservice=i}return t.prototype.getcliente=function(t){return this.http.get(l.b+"cliente/getcliente/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.aggiungicliente=function(t){return this.http.post(l.b+"cliente/aggiungi?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiornacliente=function(t){return this.http.post(l.b+"cliente/aggiornacliente?access_token="+this.loginservice.gettoken(),t)},t.prototype.getallclienti=function(){return this.http.get(l.b+"cliente/getall?access_token="+this.loginservice.gettoken())},t.prototype.eliminacliente=function(t){return this.http.get(l.b+"cliente/eliminacliente/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.tuttipuntivenditasenzacliente=function(){return this.http.get(l.b+"puntivendita/tuttipuntivenditavuoti?access_token="+this.loginservice.gettoken())},t.prototype.tuttipuntivenditaconcliente=function(){return this.http.get(l.b+"puntivendita/tuttipuntivenditaconcliente?access_token="+this.loginservice.gettoken())},t.prototype.tuttiimieipuntivendita=function(t){return this.http.post(l.b+"puntivendita/tuttiimieipuntivendita?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungipuntovendita=function(t){return this.http.post(l.b+"puntivendita/aggiungipuntovendita?access_token="+this.loginservice.gettoken(),t)},t.prototype.eliminapuntovendita=function(t){return this.http.get(l.b+"puntivendita/eliminapuntovendita/"+t.idpunto+"?access_token="+this.loginservice.gettoken())},t.prototype.getpuntovendita=function(t){return this.http.get(l.b+"puntivendita/getpuntovendita/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.getproprietario=function(t){return this.http.post(l.b+"puntivendita/cercaproprietario?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungivocedirettificaapuntovendita=function(t,e){return this.http.post(l.b+"puntivendita/aggiungivocedirettifica/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.cancellavocedirettificaapuntovendita=function(t,e){return this.http.post(l.b+"puntivendita/cancellavocedirettifica/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungiquotazione=function(t,e){return this.http.post(l.b+"puntivendita/aggiungiquotazione/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.rimuoviquotazione=function(t){return this.http.post(l.b+"puntivendita/eliminaquotazione?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungiconcorrente=function(t,e){return this.http.post(l.b+"puntivendita/aggiungiconcorrente/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.eliminaconcorrente=function(t,e){return this.http.post(l.b+"puntivendita/eliminaconcorrente/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.getprezziconcorrentidipuntovendita=function(t,e){var i=new de;return i.data1=e,this.http.post(l.b+"concorrenti/getprezziconcorrentidipuntovendita/"+t.idpunto+"?access_token="+this.loginservice.gettoken(),i)},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(d.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function ge(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",12),r.Tb(1,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginacliente(t)})),r.Hc(2),r.Sb(),r.Tb(3,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginacliente(t)})),r.Hc(4),r.Sb(),r.Tb(5,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginacliente(t)})),r.Hc(6),r.Sb(),r.Tb(7,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginacliente(t)})),r.Hc(8),r.Sb(),r.Tb(9,"td"),r.Tb(10,"button",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminacliente(t)})),r.Hc(11,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit,n=r.gc();r.Ab(2),r.Ic(o.idcliente),r.Ab(2),r.Ic(o.nomecliente),r.Ab(2),r.Ic(o.partitaiva),r.Ab(2),r.Ic(n.contalista(o.listapuntivendita))}}var fe={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},he=function(){function t(t,e,i,o){this.router=t,this.gestioneclientiservice=e,this.toastr=i,this.dialog=o,this.dtTrigger=new b.a,this.dtOptions={},this.listaclienti=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:fe},this.gestioneclientiservice.getallclienti().subscribe((function(e){t.listaclienti=e,t.rerender()}))},t.prototype.vaiapaginacliente=function(t){this.gestioneclientiservice.clienteselezionato=t,this.router.navigate(["/admin/aggiungimodificacliente"])},t.prototype.aggiungicliente=function(){this.router.navigate(["/admin/aggiungimodificacliente"])},t.prototype.eliminacliente=function(t){var e=this;this.dialog.open(oe,{data:{title:"Rimuovere",message:"Rimuovere il cliente "+t.nomecliente+" ?"}}).afterClosed().subscribe((function(i){!0===i&&e.gestioneclientiservice.eliminacliente(t.idcliente).subscribe((function(t){t.length===e.listaclienti.length?e.toastr.error("C'\xe8 stato un errore nella rimozione","Errore"):e.toastr.success("Cliente rimosso","Rimosso"),e.listaclienti=t,e.rerender()}))}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(pe),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestioneclienti"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:27,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Cliente",1,"fab-bottom-right","btn","btn-warning",3,"click"],[1,"manina"],[3,"click"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Tutti i clienti"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"ID"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Nome"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Partita IVA"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Punti Vendita"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"tbody"),r.Fc(24,ge,12,4,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(25,"button",11),r.ec("click",(function(){return e.aggiungicliente()})),r.Hc(26," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(14),r.mc("ngForOf",e.listaclienti))},directives:[c,n.n,ie.a],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}(),ve=function(){return function(){}}(),me=i("KQm4"),Te=i("GU7r"),Se=i("R1ws"),ze=i("PqYM");function ye(t,e){1&t&&r.kc(0)}var _e=["*"];function Ae(t,e){}var Oe=function(t){return{animationDuration:t}},we=function(t,e){return{value:t,params:e}},ke=["tabBodyWrapper"],He=["tabHeader"];function Ie(t,e){}function Ce(t,e){if(1&t&&r.Fc(0,Ie,0,0,"ng-template",9),2&t){var i=r.gc().$implicit;r.mc("cdkPortalOutlet",i.templateLabel)}}function Me(t,e){if(1&t&&r.Hc(0),2&t){var i=r.gc().$implicit;r.Ic(i.textLabel)}}function xe(t,e){if(1&t){var i=r.Ub();r.Tb(0,"div",6),r.ec("click",(function(){r.wc(i);var t=e.$implicit,o=e.index,n=r.gc(),a=r.uc(1);return n._handleClick(t,a,o)})),r.Tb(1,"div",7),r.Fc(2,Ce,1,1,"ng-template",8),r.Fc(3,Me,1,1,"ng-template",8),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit,n=e.index,a=r.gc();r.Fb("mat-tab-label-active",a.selectedIndex==n),r.mc("id",a._getTabLabelId(n))("disabled",o.disabled)("matRippleDisabled",o.disabled||a.disableRipple),r.Bb("tabIndex",a._getTabIndex(o,n))("aria-posinset",n+1)("aria-setsize",a._tabs.length)("aria-controls",a._getTabContentId(n))("aria-selected",a.selectedIndex==n)("aria-label",o.ariaLabel||null)("aria-labelledby",!o.ariaLabel&&o.ariaLabelledby?o.ariaLabelledby:null),r.Ab(2),r.mc("ngIf",o.templateLabel),r.Ab(1),r.mc("ngIf",!o.templateLabel)}}function je(t,e){if(1&t){var i=r.Ub();r.Tb(0,"mat-tab-body",10),r.ec("_onCentered",(function(){return r.wc(i),r.gc()._removeTabBodyWrapperHeight()}))("_onCentering",(function(t){return r.wc(i),r.gc()._setTabBodyWrapperHeight(t)})),r.Sb()}if(2&t){var o=e.$implicit,n=e.index,a=r.gc();r.Fb("mat-tab-body-active",a.selectedIndex==n),r.mc("id",a._getTabContentId(n))("content",o.content)("position",o.position)("origin",o.origin)("animationDuration",a.animationDuration),r.Bb("aria-labelledby",a._getTabLabelId(n))}}var Re=["tabListContainer"],Ne=["tabList"],De=["nextPaginator"],Pe=["previousPaginator"],Fe=new r.r("MatInkBarPositioner",{providedIn:"root",factory:function(){return function(t){return{left:t?(t.offsetLeft||0)+"px":"0",width:t?(t.offsetWidth||0)+"px":"0"}}}}),Ee=function(){var t=function(){function t(e,i,o,n){Object(v.a)(this,t),this._elementRef=e,this._ngZone=i,this._inkBarPositioner=o,this._animationMode=n}return Object(g.a)(t,[{key:"alignToElement",value:function(t){var e=this;this.show(),"undefined"!=typeof requestAnimationFrame?this._ngZone.runOutsideAngular((function(){requestAnimationFrame((function(){return e._setStyles(t)}))})):this._setStyles(t)}},{key:"show",value:function(){this._elementRef.nativeElement.style.visibility="visible"}},{key:"hide",value:function(){this._elementRef.nativeElement.style.visibility="hidden"}},{key:"_setStyles",value:function(t){var e=this._inkBarPositioner(t),i=this._elementRef.nativeElement;i.style.left=e.left,i.style.width=e.width}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.A),r.Nb(Fe),r.Nb(Se.a,8))},t.\u0275dir=r.Ib({type:t,selectors:[["mat-ink-bar"]],hostAttrs:[1,"mat-ink-bar"],hostVars:2,hostBindings:function(t,e){2&t&&r.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode)}}),t}(),qe=new r.r("MatTabContent"),Ve=new r.r("MatTabLabel"),Le=function t(){Object(v.a)(this,t)},Ue=Object(Ct.q)(Le),$e=new r.r("MAT_TAB_GROUP"),Be=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o){var n;return Object(v.a)(this,i),(n=e.call(this))._viewContainerRef=t,n._closestTabGroup=o,n.textLabel="",n._contentPortal=null,n._stateChanges=new b.a,n.position=null,n.origin=null,n.isActive=!1,n}return Object(g.a)(i,[{key:"ngOnChanges",value:function(t){(t.hasOwnProperty("textLabel")||t.hasOwnProperty("disabled"))&&this._stateChanges.next()}},{key:"ngOnDestroy",value:function(){this._stateChanges.complete()}},{key:"ngOnInit",value:function(){this._contentPortal=new U(this._explicitContent||this._implicitContent,this._viewContainerRef)}},{key:"_setTemplateLabelInput",value:function(t){t&&(this._templateLabel=t)}},{key:"templateLabel",get:function(){return this._templateLabel},set:function(t){this._setTemplateLabelInput(t)}},{key:"content",get:function(){return this._contentPortal}}]),i}(Ue);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.Q),r.Nb($e,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-tab"]],contentQueries:function(t,e,i){var o;1&t&&(r.Gb(i,Ve,!0),r.Ac(i,qe,!0,r.M)),2&t&&(r.tc(o=r.fc())&&(e.templateLabel=o.first),r.tc(o=r.fc())&&(e._explicitContent=o.first))},viewQuery:function(t,e){var i;1&t&&r.Bc(r.M,!0),2&t&&r.tc(i=r.fc())&&(e._implicitContent=i.first)},inputs:{disabled:"disabled",textLabel:["label","textLabel"],ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"]},exportAs:["matTab"],features:[r.xb,r.yb],ngContentSelectors:_e,decls:1,vars:0,template:function(t,e){1&t&&(r.lc(),r.Fc(0,ye,1,0,"ng-template"))},encapsulation:2}),t}(),Ge={translateTab:Object(xt.m)("translateTab",[Object(xt.j)("center, void, left-origin-center, right-origin-center",Object(xt.k)({transform:"none"})),Object(xt.j)("left",Object(xt.k)({transform:"translate3d(-100%, 0, 0)",minHeight:"1px"})),Object(xt.j)("right",Object(xt.k)({transform:"translate3d(100%, 0, 0)",minHeight:"1px"})),Object(xt.l)("* => left, * => right, left => center, right => center",Object(xt.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")),Object(xt.l)("void => left-origin-center",[Object(xt.k)({transform:"translate3d(-100%, 0, 0)"}),Object(xt.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")]),Object(xt.l)("void => right-origin-center",[Object(xt.k)({transform:"translate3d(100%, 0, 0)"}),Object(xt.e)("{{animationDuration}} cubic-bezier(0.35, 0, 0.25, 1)")])])},We=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a){var r;return Object(v.a)(this,i),(r=e.call(this,t,o,a))._host=n,r._centeringSub=w.a.EMPTY,r._leavingSub=w.a.EMPTY,r}return Object(g.a)(i,[{key:"ngOnInit",value:function(){var t=this;Object(S.a)(Object(z.a)(i.prototype),"ngOnInit",this).call(this),this._centeringSub=this._host._beforeCentering.pipe(Object(M.a)(this._host._isCenterPosition(this._host._position))).subscribe((function(e){e&&!t.hasAttached()&&t.attach(t._host._content)})),this._leavingSub=this._host._afterLeavingCenter.subscribe((function(){t.detach()}))}},{key:"ngOnDestroy",value:function(){Object(S.a)(Object(z.a)(i.prototype),"ngOnDestroy",this).call(this),this._centeringSub.unsubscribe(),this._leavingSub.unsubscribe()}}]),i}(J);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.j),r.Nb(r.Q),r.Nb(Object(r.U)((function(){return Ye}))),r.Nb(n.e))},t.\u0275dir=r.Ib({type:t,selectors:[["","matTabBodyHost",""]],features:[r.xb]}),t}(),Je=function(){var t=function(){function t(e,i,o){var n=this;Object(v.a)(this,t),this._elementRef=e,this._dir=i,this._dirChangeSubscription=w.a.EMPTY,this._translateTabComplete=new b.a,this._onCentering=new r.o,this._beforeCentering=new r.o,this._afterLeavingCenter=new r.o,this._onCentered=new r.o(!0),this.animationDuration="500ms",i&&(this._dirChangeSubscription=i.change.subscribe((function(t){n._computePositionAnimationState(t),o.markForCheck()}))),this._translateTabComplete.pipe(Object(k.a)((function(t,e){return t.fromState===e.fromState&&t.toState===e.toState}))).subscribe((function(t){n._isCenterPosition(t.toState)&&n._isCenterPosition(n._position)&&n._onCentered.emit(),n._isCenterPosition(t.fromState)&&!n._isCenterPosition(n._position)&&n._afterLeavingCenter.emit()}))}return Object(g.a)(t,[{key:"ngOnInit",value:function(){"center"==this._position&&null!=this.origin&&(this._position=this._computePositionFromOrigin(this.origin))}},{key:"ngOnDestroy",value:function(){this._dirChangeSubscription.unsubscribe(),this._translateTabComplete.complete()}},{key:"_onTranslateTabStarted",value:function(t){var e=this._isCenterPosition(t.toState);this._beforeCentering.emit(e),e&&this._onCentering.emit(this._elementRef.nativeElement.clientHeight)}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_isCenterPosition",value:function(t){return"center"==t||"left-origin-center"==t||"right-origin-center"==t}},{key:"_computePositionAnimationState",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:this._getLayoutDirection();this._position=this._positionIndex<0?"ltr"==t?"left":"right":this._positionIndex>0?"ltr"==t?"right":"left":"center"}},{key:"_computePositionFromOrigin",value:function(t){var e=this._getLayoutDirection();return"ltr"==e&&t<=0||"rtl"==e&&t>0?"left-origin-center":"right-origin-center"}},{key:"position",set:function(t){this._positionIndex=t,this._computePositionAnimationState()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(R.b,8),r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,inputs:{animationDuration:"animationDuration",position:"position",_content:["content","_content"],origin:"origin"},outputs:{_onCentering:"_onCentering",_beforeCentering:"_beforeCentering",_afterLeavingCenter:"_afterLeavingCenter",_onCentered:"_onCentered"}}),t}(),Ye=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n){return Object(v.a)(this,i),e.call(this,t,o,n)}return i}(Je);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(R.b,8),r.Nb(r.h))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-tab-body"]],viewQuery:function(t,e){var i;1&t&&r.Nc(Y,!0),2&t&&r.tc(i=r.fc())&&(e._portalHost=i.first)},hostAttrs:[1,"mat-tab-body"],features:[r.xb],decls:3,vars:6,consts:[[1,"mat-tab-body-content"],["content",""],["matTabBodyHost",""]],template:function(t,e){1&t&&(r.Tb(0,"div",0,1),r.ec("@translateTab.start",(function(t){return e._onTranslateTabStarted(t)}))("@translateTab.done",(function(t){return e._translateTabComplete.next(t)})),r.Fc(2,Ae,0,0,"ng-template",2),r.Sb()),2&t&&r.mc("@translateTab",r.rc(3,we,e._position,r.qc(1,Oe,e.animationDuration)))},directives:[We],styles:[".mat-tab-body-content{height:100%;overflow:auto}.mat-tab-group-dynamic-height .mat-tab-body-content{overflow:hidden}\n"],encapsulation:2,data:{animation:[Ge.translateTab]}}),t}(),Xe=new r.r("MAT_TABS_CONFIG"),Qe=0,Ze=function t(){Object(v.a)(this,t)},Ke=function t(e){Object(v.a)(this,t),this._elementRef=e},ti=Object(Ct.o)(Object(Ct.p)(Ke),"primary"),ei=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a){var c;return Object(v.a)(this,i),(c=e.call(this,t))._changeDetectorRef=o,c._animationMode=a,c._tabs=new r.E,c._indexToSelect=0,c._tabBodyWrapperHeight=0,c._tabsSubscription=w.a.EMPTY,c._tabLabelSubscription=w.a.EMPTY,c._dynamicHeight=!1,c._selectedIndex=null,c.headerPosition="above",c.selectedIndexChange=new r.o,c.focusChange=new r.o,c.animationDone=new r.o,c.selectedTabChange=new r.o(!0),c._groupId=Qe++,c.animationDuration=n&&n.animationDuration?n.animationDuration:"500ms",c.disablePagination=!(!n||null==n.disablePagination)&&n.disablePagination,c}return Object(g.a)(i,[{key:"ngAfterContentChecked",value:function(){var t=this,e=this._indexToSelect=this._clampTabIndex(this._indexToSelect);if(this._selectedIndex!=e){var i=null==this._selectedIndex;i||this.selectedTabChange.emit(this._createChangeEvent(e)),Promise.resolve().then((function(){t._tabs.forEach((function(t,i){return t.isActive=i===e})),i||t.selectedIndexChange.emit(e)}))}this._tabs.forEach((function(i,o){i.position=o-e,null==t._selectedIndex||0!=i.position||i.origin||(i.origin=e-t._selectedIndex)})),this._selectedIndex!==e&&(this._selectedIndex=e,this._changeDetectorRef.markForCheck())}},{key:"ngAfterContentInit",value:function(){var t=this;this._subscribeToAllTabChanges(),this._subscribeToTabLabels(),this._tabsSubscription=this._tabs.changes.subscribe((function(){if(t._clampTabIndex(t._indexToSelect)===t._selectedIndex)for(var e=t._tabs.toArray(),i=0;i<e.length;i++)if(e[i].isActive){t._indexToSelect=t._selectedIndex=i;break}t._changeDetectorRef.markForCheck()}))}},{key:"_subscribeToAllTabChanges",value:function(){var t=this;this._allTabs.changes.pipe(Object(M.a)(this._allTabs)).subscribe((function(e){t._tabs.reset(e.filter((function(e){return!e._closestTabGroup||e._closestTabGroup===t}))),t._tabs.notifyOnChanges()}))}},{key:"ngOnDestroy",value:function(){this._tabs.destroy(),this._tabsSubscription.unsubscribe(),this._tabLabelSubscription.unsubscribe()}},{key:"realignInkBar",value:function(){this._tabHeader&&this._tabHeader._alignInkBarToSelectedTab()}},{key:"_focusChanged",value:function(t){this.focusChange.emit(this._createChangeEvent(t))}},{key:"_createChangeEvent",value:function(t){var e=new Ze;return e.index=t,this._tabs&&this._tabs.length&&(e.tab=this._tabs.toArray()[t]),e}},{key:"_subscribeToTabLabels",value:function(){var t=this;this._tabLabelSubscription&&this._tabLabelSubscription.unsubscribe(),this._tabLabelSubscription=Z.a.apply(void 0,Object(me.a)(this._tabs.map((function(t){return t._stateChanges})))).subscribe((function(){return t._changeDetectorRef.markForCheck()}))}},{key:"_clampTabIndex",value:function(t){return Math.min(this._tabs.length-1,Math.max(t||0,0))}},{key:"_getTabLabelId",value:function(t){return"mat-tab-label-".concat(this._groupId,"-").concat(t)}},{key:"_getTabContentId",value:function(t){return"mat-tab-content-".concat(this._groupId,"-").concat(t)}},{key:"_setTabBodyWrapperHeight",value:function(t){if(this._dynamicHeight&&this._tabBodyWrapperHeight){var e=this._tabBodyWrapper.nativeElement;e.style.height=this._tabBodyWrapperHeight+"px",this._tabBodyWrapper.nativeElement.offsetHeight&&(e.style.height=t+"px")}}},{key:"_removeTabBodyWrapperHeight",value:function(){var t=this._tabBodyWrapper.nativeElement;this._tabBodyWrapperHeight=t.clientHeight,t.style.height="",this.animationDone.emit()}},{key:"_handleClick",value:function(t,e,i){t.disabled||(this.selectedIndex=e.focusIndex=i)}},{key:"_getTabIndex",value:function(t,e){return t.disabled?null:this.selectedIndex===e?0:-1}},{key:"dynamicHeight",get:function(){return this._dynamicHeight},set:function(t){this._dynamicHeight=Object(y.c)(t)}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){this._indexToSelect=Object(y.f)(t,null)}},{key:"animationDuration",get:function(){return this._animationDuration},set:function(t){this._animationDuration=/^\d+$/.test(t)?t+"ms":t}},{key:"backgroundColor",get:function(){return this._backgroundColor},set:function(t){var e=this._elementRef.nativeElement;e.classList.remove("mat-background-".concat(this.backgroundColor)),t&&e.classList.add("mat-background-".concat(t)),this._backgroundColor=t}}]),i}(ti);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(Xe,8),r.Nb(Se.a,8))},t.\u0275dir=r.Ib({type:t,inputs:{headerPosition:"headerPosition",animationDuration:"animationDuration",disablePagination:"disablePagination",dynamicHeight:"dynamicHeight",selectedIndex:"selectedIndex",backgroundColor:"backgroundColor"},outputs:{selectedIndexChange:"selectedIndexChange",focusChange:"focusChange",animationDone:"animationDone",selectedTabChange:"selectedTabChange"},features:[r.xb]}),t}(),ii=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a){return Object(v.a)(this,i),e.call(this,t,o,n,a)}return i}(ei);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(Xe,8),r.Nb(Se.a,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-tab-group"]],contentQueries:function(t,e,i){var o;1&t&&r.Gb(i,Be,!0),2&t&&r.tc(o=r.fc())&&(e._allTabs=o)},viewQuery:function(t,e){var i;1&t&&(r.Nc(ke,!0),r.Nc(He,!0)),2&t&&(r.tc(i=r.fc())&&(e._tabBodyWrapper=i.first),r.tc(i=r.fc())&&(e._tabHeader=i.first))},hostAttrs:[1,"mat-tab-group"],hostVars:4,hostBindings:function(t,e){2&t&&r.Fb("mat-tab-group-dynamic-height",e.dynamicHeight)("mat-tab-group-inverted-header","below"===e.headerPosition)},inputs:{color:"color",disableRipple:"disableRipple"},exportAs:["matTabGroup"],features:[r.zb([{provide:$e,useExisting:t}]),r.xb],decls:6,vars:7,consts:[[3,"selectedIndex","disableRipple","disablePagination","indexFocused","selectFocusedIndex"],["tabHeader",""],["class","mat-tab-label mat-focus-indicator","role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",3,"id","mat-tab-label-active","disabled","matRippleDisabled","click",4,"ngFor","ngForOf"],[1,"mat-tab-body-wrapper"],["tabBodyWrapper",""],["role","tabpanel",3,"id","mat-tab-body-active","content","position","origin","animationDuration","_onCentered","_onCentering",4,"ngFor","ngForOf"],["role","tab","matTabLabelWrapper","","mat-ripple","","cdkMonitorElementFocus","",1,"mat-tab-label","mat-focus-indicator",3,"id","disabled","matRippleDisabled","click"],[1,"mat-tab-label-content"],[3,"ngIf"],[3,"cdkPortalOutlet"],["role","tabpanel",3,"id","content","position","origin","animationDuration","_onCentered","_onCentering"]],template:function(t,e){1&t&&(r.Tb(0,"mat-tab-header",0,1),r.ec("indexFocused",(function(t){return e._focusChanged(t)}))("selectFocusedIndex",(function(t){return e.selectedIndex=t})),r.Fc(2,xe,4,14,"div",2),r.Sb(),r.Tb(3,"div",3,4),r.Fc(5,je,1,8,"mat-tab-body",5),r.Sb()),2&t&&(r.mc("selectedIndex",e.selectedIndex||0)("disableRipple",e.disableRipple)("disablePagination",e.disablePagination),r.Ab(2),r.mc("ngForOf",e._tabs),r.Ab(1),r.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Ab(2),r.mc("ngForOf",e._tabs))},directives:function(){return[bi,n.n,ai,Ct.j,jt.d,n.o,J,Ye]},styles:[".mat-tab-group{display:flex;flex-direction:column}.mat-tab-group.mat-tab-group-inverted-header{flex-direction:column-reverse}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{padding:0 12px}}@media(max-width: 959px){.mat-tab-label{padding:0 12px}}.mat-tab-group[mat-stretch-tabs]>.mat-tab-header .mat-tab-label{flex-basis:0;flex-grow:1}.mat-tab-body-wrapper{position:relative;overflow:hidden;display:flex;transition:height 500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-tab-body-wrapper{transition:none;animation:none}.mat-tab-body{top:0;left:0;right:0;bottom:0;position:absolute;display:block;overflow:hidden;flex-basis:100%}.mat-tab-body.mat-tab-body-active{position:relative;overflow-x:hidden;overflow-y:auto;z-index:1;flex-grow:1}.mat-tab-group.mat-tab-group-dynamic-height .mat-tab-body.mat-tab-body-active{overflow-y:hidden}\n"],encapsulation:2}),t}(),oi=function t(){Object(v.a)(this,t)},ni=Object(Ct.q)(oi),ai=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t){var o;return Object(v.a)(this,i),(o=e.call(this)).elementRef=t,o}return Object(g.a)(i,[{key:"focus",value:function(){this.elementRef.nativeElement.focus()}},{key:"getOffsetLeft",value:function(){return this.elementRef.nativeElement.offsetLeft}},{key:"getOffsetWidth",value:function(){return this.elementRef.nativeElement.offsetWidth}}]),i}(ni);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l))},t.\u0275dir=r.Ib({type:t,selectors:[["","matTabLabelWrapper",""]],hostVars:3,hostBindings:function(t,e){2&t&&(r.Bb("aria-disabled",!!e.disabled),r.Fb("mat-tab-disabled",e.disabled))},inputs:{disabled:"disabled"},features:[r.xb]}),t}(),ri=Object(j.f)({passive:!0}),ci=function(){var t=function(){function t(e,i,o,n,a,c,s){var l=this;Object(v.a)(this,t),this._elementRef=e,this._changeDetectorRef=i,this._viewportRuler=o,this._dir=n,this._ngZone=a,this._platform=c,this._animationMode=s,this._scrollDistance=0,this._selectedIndexChanged=!1,this._destroyed=new b.a,this._showPaginationControls=!1,this._disableScrollAfter=!0,this._disableScrollBefore=!0,this._stopScrolling=new b.a,this.disablePagination=!1,this._selectedIndex=0,this.selectFocusedIndex=new r.o,this.indexFocused=new r.o,a.runOutsideAngular((function(){Object(O.a)(e.nativeElement,"mouseleave").pipe(Object(C.a)(l._destroyed)).subscribe((function(){l._stopInterval()}))}))}return Object(g.a)(t,[{key:"ngAfterViewInit",value:function(){var t=this;Object(O.a)(this._previousPaginator.nativeElement,"touchstart",ri).pipe(Object(C.a)(this._destroyed)).subscribe((function(){t._handlePaginatorPress("before")})),Object(O.a)(this._nextPaginator.nativeElement,"touchstart",ri).pipe(Object(C.a)(this._destroyed)).subscribe((function(){t._handlePaginatorPress("after")}))}},{key:"ngAfterContentInit",value:function(){var t=this,e=this._dir?this._dir.change:Object(_.a)(null),i=this._viewportRuler.change(150),o=function(){t.updatePagination(),t._alignInkBarToSelectedTab()};this._keyManager=new jt.e(this._items).withHorizontalOrientation(this._getLayoutDirection()).withHomeAndEnd().withWrap(),this._keyManager.updateActiveItem(this._selectedIndex),"undefined"!=typeof requestAnimationFrame?requestAnimationFrame(o):o(),Object(Z.a)(e,i,this._items.changes).pipe(Object(C.a)(this._destroyed)).subscribe((function(){Promise.resolve().then(o),t._keyManager.withHorizontalOrientation(t._getLayoutDirection())})),this._keyManager.change.pipe(Object(C.a)(this._destroyed)).subscribe((function(e){t.indexFocused.emit(e),t._setTabFocus(e)}))}},{key:"ngAfterContentChecked",value:function(){this._tabLabelCount!=this._items.length&&(this.updatePagination(),this._tabLabelCount=this._items.length,this._changeDetectorRef.markForCheck()),this._selectedIndexChanged&&(this._scrollToLabel(this._selectedIndex),this._checkScrollingControls(),this._alignInkBarToSelectedTab(),this._selectedIndexChanged=!1,this._changeDetectorRef.markForCheck()),this._scrollDistanceChanged&&(this._updateTabScrollPosition(),this._scrollDistanceChanged=!1,this._changeDetectorRef.markForCheck())}},{key:"ngOnDestroy",value:function(){this._destroyed.next(),this._destroyed.complete(),this._stopScrolling.complete()}},{key:"_handleKeydown",value:function(t){if(!Object(tt.o)(t))switch(t.keyCode){case tt.d:case tt.j:this.focusIndex!==this.selectedIndex&&(this.selectFocusedIndex.emit(this.focusIndex),this._itemSelected(t));break;default:this._keyManager.onKeydown(t)}}},{key:"_onContentChanges",value:function(){var t=this,e=this._elementRef.nativeElement.textContent;e!==this._currentTextContent&&(this._currentTextContent=e||"",this._ngZone.run((function(){t.updatePagination(),t._alignInkBarToSelectedTab(),t._changeDetectorRef.markForCheck()})))}},{key:"updatePagination",value:function(){this._checkPaginationEnabled(),this._checkScrollingControls(),this._updateTabScrollPosition()}},{key:"_isValidIndex",value:function(t){if(!this._items)return!0;var e=this._items?this._items.toArray()[t]:null;return!!e&&!e.disabled}},{key:"_setTabFocus",value:function(t){if(this._showPaginationControls&&this._scrollToLabel(t),this._items&&this._items.length){this._items.toArray()[t].focus();var e=this._tabListContainer.nativeElement,i=this._getLayoutDirection();e.scrollLeft="ltr"==i?0:e.scrollWidth-e.offsetWidth}}},{key:"_getLayoutDirection",value:function(){return this._dir&&"rtl"===this._dir.value?"rtl":"ltr"}},{key:"_updateTabScrollPosition",value:function(){if(!this.disablePagination){var t=this.scrollDistance,e=this._platform,i="ltr"===this._getLayoutDirection()?-t:t;this._tabList.nativeElement.style.transform="translateX(".concat(Math.round(i),"px)"),e&&(e.TRIDENT||e.EDGE)&&(this._tabListContainer.nativeElement.scrollLeft=0)}}},{key:"_scrollHeader",value:function(t){return this._scrollTo(this._scrollDistance+("before"==t?-1:1)*this._tabListContainer.nativeElement.offsetWidth/3)}},{key:"_handlePaginatorClick",value:function(t){this._stopInterval(),this._scrollHeader(t)}},{key:"_scrollToLabel",value:function(t){if(!this.disablePagination){var e=this._items?this._items.toArray()[t]:null;if(e){var i,o,n=this._tabListContainer.nativeElement.offsetWidth,a=e.elementRef.nativeElement,r=a.offsetLeft,c=a.offsetWidth;"ltr"==this._getLayoutDirection()?o=(i=r)+c:i=(o=this._tabList.nativeElement.offsetWidth-r)-c;var s=this.scrollDistance,b=this.scrollDistance+n;i<s?this.scrollDistance-=s-i+60:o>b&&(this.scrollDistance+=o-b+60)}}}},{key:"_checkPaginationEnabled",value:function(){if(this.disablePagination)this._showPaginationControls=!1;else{var t=this._tabList.nativeElement.scrollWidth>this._elementRef.nativeElement.offsetWidth;t||(this.scrollDistance=0),t!==this._showPaginationControls&&this._changeDetectorRef.markForCheck(),this._showPaginationControls=t}}},{key:"_checkScrollingControls",value:function(){this.disablePagination?this._disableScrollAfter=this._disableScrollBefore=!0:(this._disableScrollBefore=0==this.scrollDistance,this._disableScrollAfter=this.scrollDistance==this._getMaxScrollDistance(),this._changeDetectorRef.markForCheck())}},{key:"_getMaxScrollDistance",value:function(){return this._tabList.nativeElement.scrollWidth-this._tabListContainer.nativeElement.offsetWidth||0}},{key:"_alignInkBarToSelectedTab",value:function(){var t=this._items&&this._items.length?this._items.toArray()[this.selectedIndex]:null,e=t?t.elementRef.nativeElement:null;e?this._inkBar.alignToElement(e):this._inkBar.hide()}},{key:"_stopInterval",value:function(){this._stopScrolling.next()}},{key:"_handlePaginatorPress",value:function(t,e){var i=this;e&&null!=e.button&&0!==e.button||(this._stopInterval(),Object(ze.a)(650,100).pipe(Object(C.a)(Object(Z.a)(this._stopScrolling,this._destroyed))).subscribe((function(){var e=i._scrollHeader(t),o=e.distance;(0===o||o>=e.maxScrollDistance)&&i._stopInterval()})))}},{key:"_scrollTo",value:function(t){if(this.disablePagination)return{maxScrollDistance:0,distance:0};var e=this._getMaxScrollDistance();return this._scrollDistance=Math.max(0,Math.min(e,t)),this._scrollDistanceChanged=!0,this._checkScrollingControls(),{maxScrollDistance:e,distance:this._scrollDistance}}},{key:"selectedIndex",get:function(){return this._selectedIndex},set:function(t){t=Object(y.f)(t),this._selectedIndex!=t&&(this._selectedIndexChanged=!0,this._selectedIndex=t,this._keyManager&&this._keyManager.updateActiveItem(t))}},{key:"focusIndex",get:function(){return this._keyManager?this._keyManager.activeItemIndex:0},set:function(t){this._isValidIndex(t)&&this.focusIndex!==t&&this._keyManager&&this._keyManager.setActiveItem(t)}},{key:"scrollDistance",get:function(){return this._scrollDistance},set:function(t){this._scrollTo(t)}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(P),r.Nb(R.b,8),r.Nb(r.A),r.Nb(j.a),r.Nb(Se.a,8))},t.\u0275dir=r.Ib({type:t,inputs:{disablePagination:"disablePagination"}}),t}(),si=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a,r,c,s){var b;return Object(v.a)(this,i),(b=e.call(this,t,o,n,a,r,c,s))._disableRipple=!1,b}return Object(g.a)(i,[{key:"_itemSelected",value:function(t){t.preventDefault()}},{key:"disableRipple",get:function(){return this._disableRipple},set:function(t){this._disableRipple=Object(y.c)(t)}}]),i}(ci);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(P),r.Nb(R.b,8),r.Nb(r.A),r.Nb(j.a),r.Nb(Se.a,8))},t.\u0275dir=r.Ib({type:t,inputs:{disableRipple:"disableRipple"},features:[r.xb]}),t}(),bi=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a,r,c,s){return Object(v.a)(this,i),e.call(this,t,o,n,a,r,c,s)}return i}(si);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(r.h),r.Nb(P),r.Nb(R.b,8),r.Nb(r.A),r.Nb(j.a),r.Nb(Se.a,8))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-tab-header"]],contentQueries:function(t,e,i){var o;1&t&&r.Gb(i,ai,!1),2&t&&r.tc(o=r.fc())&&(e._items=o)},viewQuery:function(t,e){var i;1&t&&(r.Bc(Ee,!0),r.Bc(Re,!0),r.Bc(Ne,!0),r.Nc(De,!0),r.Nc(Pe,!0)),2&t&&(r.tc(i=r.fc())&&(e._inkBar=i.first),r.tc(i=r.fc())&&(e._tabListContainer=i.first),r.tc(i=r.fc())&&(e._tabList=i.first),r.tc(i=r.fc())&&(e._nextPaginator=i.first),r.tc(i=r.fc())&&(e._previousPaginator=i.first))},hostAttrs:[1,"mat-tab-header"],hostVars:4,hostBindings:function(t,e){2&t&&r.Fb("mat-tab-header-pagination-controls-enabled",e._showPaginationControls)("mat-tab-header-rtl","rtl"==e._getLayoutDirection())},inputs:{selectedIndex:"selectedIndex"},outputs:{selectFocusedIndex:"selectFocusedIndex",indexFocused:"indexFocused"},features:[r.xb],ngContentSelectors:_e,decls:13,vars:8,consts:[["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-before","mat-elevation-z4",3,"matRippleDisabled","click","mousedown","touchend"],["previousPaginator",""],[1,"mat-tab-header-pagination-chevron"],[1,"mat-tab-label-container",3,"keydown"],["tabListContainer",""],["role","tablist",1,"mat-tab-list",3,"cdkObserveContent"],["tabList",""],[1,"mat-tab-labels"],["aria-hidden","true","mat-ripple","",1,"mat-tab-header-pagination","mat-tab-header-pagination-after","mat-elevation-z4",3,"matRippleDisabled","mousedown","click","touchend"],["nextPaginator",""]],template:function(t,e){1&t&&(r.lc(),r.Tb(0,"div",0,1),r.ec("click",(function(){return e._handlePaginatorClick("before")}))("mousedown",(function(t){return e._handlePaginatorPress("before",t)}))("touchend",(function(){return e._stopInterval()})),r.Ob(2,"div",2),r.Sb(),r.Tb(3,"div",3,4),r.ec("keydown",(function(t){return e._handleKeydown(t)})),r.Tb(5,"div",5,6),r.ec("cdkObserveContent",(function(){return e._onContentChanges()})),r.Tb(7,"div",7),r.kc(8),r.Sb(),r.Ob(9,"mat-ink-bar"),r.Sb(),r.Sb(),r.Tb(10,"div",8,9),r.ec("mousedown",(function(t){return e._handlePaginatorPress("after",t)}))("click",(function(){return e._handlePaginatorClick("after")}))("touchend",(function(){return e._stopInterval()})),r.Ob(12,"div",2),r.Sb()),2&t&&(r.Fb("mat-tab-header-pagination-disabled",e._disableScrollBefore),r.mc("matRippleDisabled",e._disableScrollBefore||e.disableRipple),r.Ab(5),r.Fb("_mat-animation-noopable","NoopAnimations"===e._animationMode),r.Ab(5),r.Fb("mat-tab-header-pagination-disabled",e._disableScrollAfter),r.mc("matRippleDisabled",e._disableScrollAfter||e.disableRipple))},directives:[Ct.j,Te.a,Ee],styles:['.mat-tab-header{display:flex;overflow:hidden;position:relative;flex-shrink:0}.mat-tab-header-pagination{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;position:relative;display:none;justify-content:center;align-items:center;min-width:32px;cursor:pointer;z-index:2;-webkit-tap-highlight-color:transparent;touch-action:none}.mat-tab-header-pagination-controls-enabled .mat-tab-header-pagination{display:flex}.mat-tab-header-pagination-before,.mat-tab-header-rtl .mat-tab-header-pagination-after{padding-left:4px}.mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-rtl .mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(-135deg)}.mat-tab-header-rtl .mat-tab-header-pagination-before,.mat-tab-header-pagination-after{padding-right:4px}.mat-tab-header-rtl .mat-tab-header-pagination-before .mat-tab-header-pagination-chevron,.mat-tab-header-pagination-after .mat-tab-header-pagination-chevron{transform:rotate(45deg)}.mat-tab-header-pagination-chevron{border-style:solid;border-width:2px 2px 0 0;content:"";height:8px;width:8px}.mat-tab-header-pagination-disabled{box-shadow:none;cursor:default}.mat-tab-list{flex-grow:1;position:relative;transition:transform 500ms cubic-bezier(0.35, 0, 0.25, 1)}.mat-ink-bar{position:absolute;bottom:0;height:2px;transition:500ms cubic-bezier(0.35, 0, 0.25, 1)}._mat-animation-noopable.mat-ink-bar{transition:none;animation:none}.mat-tab-group-inverted-header .mat-ink-bar{bottom:auto;top:0}.cdk-high-contrast-active .mat-ink-bar{outline:solid 2px;height:0}.mat-tab-labels{display:flex}[mat-align-tabs=center]>.mat-tab-header .mat-tab-labels{justify-content:center}[mat-align-tabs=end]>.mat-tab-header .mat-tab-labels{justify-content:flex-end}.mat-tab-label-container{display:flex;flex-grow:1;overflow:hidden;z-index:1}._mat-animation-noopable.mat-tab-list{transition:none;animation:none}.mat-tab-label{height:48px;padding:0 24px;cursor:pointer;box-sizing:border-box;opacity:.6;min-width:160px;text-align:center;display:inline-flex;justify-content:center;align-items:center;white-space:nowrap;position:relative}.mat-tab-label:focus{outline:none}.mat-tab-label:focus:not(.mat-tab-disabled){opacity:1}.cdk-high-contrast-active .mat-tab-label:focus{outline:dotted 2px;outline-offset:-2px}.mat-tab-label.mat-tab-disabled{cursor:default}.cdk-high-contrast-active .mat-tab-label.mat-tab-disabled{opacity:.5}.mat-tab-label .mat-tab-label-content{display:inline-flex;justify-content:center;align-items:center;white-space:nowrap}.cdk-high-contrast-active .mat-tab-label{opacity:1}@media(max-width: 599px){.mat-tab-label{min-width:72px}}\n'],encapsulation:2}),t}(),li=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[n.c,Ct.f,Q,Ct.k,Te.c,jt.a],Ct.f]}),t}(),ui=i("kmnG"),di=i("qFsG"),pi=i("1kSV");function gi(t,e){if(1&t&&(r.Tb(0,"button",13),r.Hc(1),r.Sb()),2&t){var i=r.gc();r.Ab(1),r.Ic(i.valore.nome)}}function fi(t,e){1&t&&(r.Tb(0,"button",13),r.Hc(1,"Seleziona punto vendita"),r.Sb())}function hi(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().cambiavalore(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.nome)}}var vi=function(){function t(t,e,i){var o=this;this.gestioneclientiservice=t,this.dialogRef=e,this.data=i,this.listavalori=[],this.gestioneclientiservice.tuttipuntivenditasenzacliente().subscribe((function(t){o.listavalori=t}))}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.cambiavalore=function(t){this.valore=t,this.data=t},t.\u0275fac=function(e){return new(e||t)(r.Nb(pe),r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungipuntovenditadialog"]],decls:40,vars:11,consts:[["mat-dialog-title",""],["label","Aggiungi nuovo"],["mat-dialog-content",""],["matInput","",3,"ngModel","autofocus","ngModelChange"],["matInput","",3,"ngModel","ngModelChange"],["label","Associa esistente"],["ngbDropdown","",1,"d-inline-block",2,"min-height","200px"],["class","btn btn-outline-primary","id","dropdownBasic1","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownItem","",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"h1",0),r.Hc(1,"Aggiungi punto vendita"),r.Sb(),r.Tb(2,"mat-tab-group"),r.Tb(3,"mat-tab",1),r.Tb(4,"div",2),r.Tb(5,"mat-form-field"),r.Tb(6,"mat-label"),r.Hc(7,"Nome"),r.Sb(),r.Tb(8,"input",3),r.ec("ngModelChange",(function(t){return e.data.nome=t})),r.Sb(),r.Sb(),r.Tb(9,"mat-form-field"),r.Tb(10,"mat-label"),r.Hc(11,"Via"),r.Sb(),r.Tb(12,"input",4),r.ec("ngModelChange",(function(t){return e.data.via=t})),r.Sb(),r.Sb(),r.Tb(13,"mat-form-field"),r.Tb(14,"mat-label"),r.Hc(15,"Codice destinazione"),r.Sb(),r.Tb(16,"input",4),r.ec("ngModelChange",(function(t){return e.data.codicedestinazione=t})),r.Sb(),r.Sb(),r.Tb(17,"mat-form-field"),r.Tb(18,"mat-label"),r.Hc(19,"Citt\xe0"),r.Sb(),r.Tb(20,"input",4),r.ec("ngModelChange",(function(t){return e.data.citta=t})),r.Sb(),r.Sb(),r.Tb(21,"mat-form-field"),r.Tb(22,"mat-label"),r.Hc(23,"Provincia"),r.Sb(),r.Tb(24,"input",4),r.ec("ngModelChange",(function(t){return e.data.provincia=t})),r.Sb(),r.Sb(),r.Tb(25,"mat-form-field"),r.Tb(26,"mat-label"),r.Hc(27,"CAP"),r.Sb(),r.Tb(28,"input",4),r.ec("ngModelChange",(function(t){return e.data.cap=t})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(29,"mat-tab",5),r.Tb(30,"div",6),r.Fc(31,gi,2,1,"button",7),r.Fc(32,fi,2,0,"button",7),r.Tb(33,"div",8),r.Fc(34,hi,2,1,"button",9),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(35,"div",10),r.Tb(36,"button",11),r.ec("click",(function(){return e.onNoClick()})),r.Hc(37,"Annulla"),r.Sb(),r.Tb(38,"button",12),r.Hc(39,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(8),r.mc("ngModel",e.data.nome)("autofocus",!0),r.Ab(4),r.mc("ngModel",e.data.via),r.Ab(4),r.mc("ngModel",e.data.codicedestinazione),r.Ab(4),r.mc("ngModel",e.data.citta),r.Ab(4),r.mc("ngModel",e.data.provincia),r.Ab(4),r.mc("ngModel",e.data.cap),r.Ab(3),r.mc("ngIf",null!=e.valore),r.Ab(1),r.mc("ngIf",null==e.valore),r.Ab(2),r.mc("ngForOf",e.listavalori),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,ii,Be,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,pi.a,n.o,pi.c,n.n,Kt,ie.a,Xt,pi.d,pi.b],styles:[""]}),t}(),mi=function(){return function(){this.listapuntivendita=[]}}();function Ti(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",31),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Hc(6),r.Sb(),r.Tb(7,"td"),r.Hc(8),r.Sb(),r.Tb(9,"td"),r.Hc(10),r.Sb(),r.Tb(11,"td"),r.Hc(12),r.Sb(),r.Tb(13,"td"),r.Tb(14,"button",32),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminapuntovendita(t)})),r.Hc(15,"Dissocia"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.nome),r.Ab(2),r.Ic(o.via),r.Ab(2),r.Ic(o.citta),r.Ab(2),r.Ic(o.provincia),r.Ab(2),r.Ic(o.cap),r.Ab(2),r.Ic(o.codicedestinazione)}}function Si(t,e){1&t&&(r.Tb(0,"button",33),r.Hc(1,"Crea cliente"),r.Sb())}function zi(t,e){1&t&&(r.Tb(0,"button",33),r.Hc(1,"Aggiorna cliente"),r.Sb())}var yi={emptyTable:"Non ci sono dati!",search:"cerca",searchPlaceholder:"cerca nella tabella"},_i=function(){function t(t,e,i,o,n){this.router=t,this.toastr=e,this.dialog=i,this.gestioneclienteservice=o,this.formBuilder=n,this.dtTrigger=new b.a,this.dtOptions={},this.tableHeaders=["nome","via","azioni"],this.tableRows=[],this.cliente=this.gestioneclienteservice.clienteselezionato}return t.prototype.ngOnInit=function(){this.aggiungiclienteform=this.formBuilder.group({nomecliente:["",a.s.compose([a.s.required])],partitaiva:["",a.s.required],marginegasolioservito:["",a.s.required],marginegasolioself:["",a.s.required],marginebenzinaservito:["",a.s.required],marginebenzinaself:["",a.s.required],marginesupremeservito:["",a.s.required],marginesupremeself:["",a.s.required],marginegplservito:["",a.s.required],marginegplself:["",a.s.required]}),this.dtOptions={paging:!1,searching:!1,info:!1,ordering:!1,language:yi},null!=this.cliente&&(this.tableRows=this.cliente.listapuntivendita,this.aggiungiclienteform.controls.nomecliente.setValue(this.cliente.nomecliente),this.aggiungiclienteform.controls.partitaiva.setValue(this.cliente.partitaiva),this.aggiungiclienteform.controls.marginegasolioservito.setValue(this.cliente.marginegasolioservito),this.aggiungiclienteform.controls.marginegasolioself.setValue(this.cliente.marginegasolioself),this.aggiungiclienteform.controls.marginebenzinaservito.setValue(this.cliente.marginebenzinaservito),this.aggiungiclienteform.controls.marginebenzinaself.setValue(this.cliente.marginebenzinaself),this.aggiungiclienteform.controls.marginesupremeservito.setValue(this.cliente.marginesupremeservito),this.aggiungiclienteform.controls.marginesupremeself.setValue(this.cliente.marginesupremeself),this.aggiungiclienteform.controls.marginegplservito.setValue(this.cliente.marginegplservito),this.aggiungiclienteform.controls.marginegplself.setValue(this.cliente.marginegplself))},t.prototype.tornaindietro=function(){this.gestioneclienteservice.clienteselezionato=void 0,this.router.navigate(["/admin/gestioneclienti"])},t.prototype.eliminapuntovendita=function(t){console.log("ELIMINO PUNTO VENDITA");var e=this.tableRows.indexOf(t);console.log("INDICE = "),console.log(e),-1!==e&&(this.tableRows.splice(e,1),this.rerender())},t.prototype.aggiungipuntovendita=function(){var t=this;this.dialog.open(vi,{width:"450px",data:new ve}).afterClosed().subscribe((function(e){console.log("PUNTO VENDITA ASSOCIATO = "),console.log(e),void 0!==e&&(t.tableRows.push(e),t.rerender())}))},t.prototype.aggiungicliente=function(){var t=this,e=this.aggiungiclienteform.controls.nomecliente.value,i=this.aggiungiclienteform.controls.partitaiva.value,o=this.aggiungiclienteform.controls.marginegasolioservito.value,n=this.aggiungiclienteform.controls.marginegasolioself.value,a=this.aggiungiclienteform.controls.marginebenzinaservito.value,r=this.aggiungiclienteform.controls.marginebenzinaself.value,c=this.aggiungiclienteform.controls.marginesupremeservito.value,s=this.aggiungiclienteform.controls.marginesupremeself.value,b=this.aggiungiclienteform.controls.marginegplservito.value,l=this.aggiungiclienteform.controls.marginegplself.value,u=new mi;u.nomecliente=e,u.partitaiva=i,u.listapuntivendita=this.tableRows,u.marginegasolioservito=o,u.marginegasolioself=n,u.marginebenzinaservito=a,u.marginebenzinaself=r,u.marginesupremeservito=c,u.marginesupremeself=s,u.marginegplservito=b,u.marginegplself=l,void 0===this.cliente?this.gestioneclienteservice.aggiungicliente(u).subscribe((function(e){t.toastr.success("Cliente aggiunto!","Aggiunto"),t.tornaindietro()}),(function(e){t.toastr.error("C'\xe8 stato un errore!","Errore"),console.log("C'\xe8 stato un errore")})):(u.idcliente=this.cliente.idcliente,this.gestioneclienteservice.aggiornacliente(u).subscribe((function(e){t.toastr.success("Cliente modificato!","Modificato"),t.tornaindietro()}),(function(e){t.toastr.error("C'\xe8 stato un errore!","Errore"),console.log("C'\xe8 stato un errore")})))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(ne.b),r.Nb(Jt),r.Nb(pe),r.Nb(a.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungimodificacliente"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:84,vars:11,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","Nome cliente","formControlName","nomecliente",3,"autofocus"],["matInput","","placeholder","Partita IVA","type","text","formControlName","partitaiva"],[1,"col-md-3"],["matInput","","placeholder","Margine gasolio servito","formControlName","marginegasolioservito",3,"autofocus"],["matInput","","placeholder","Margine gasolio self","type","text","formControlName","marginegasolioself"],["matInput","","placeholder","Margine benzina servito","formControlName","marginebenzinaservito",3,"autofocus"],["matInput","","placeholder","Margine benzina self","type","text","formControlName","marginebenzinaself"],["matInput","","placeholder","Margine supreme servito","formControlName","marginesupremeservito",3,"autofocus"],["matInput","","placeholder","Margine supreme self","type","text","formControlName","marginesupremeself"],["matInput","","placeholder","Margine GPL servito","formControlName","marginegplservito",3,"autofocus"],["matInput","","placeholder","Margine GPL self","type","text","formControlName","marginegplself"],[1,"col-md-6","text-center"],[1,"col-md-1"],[1,"col-md-10"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],["mat-raised-button","","type","submit","class","btn btn-rose pull-right",4,"ngIf"],[1,"clearfix"],[1,"manina"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"],["mat-raised-button","","type","submit",1,"btn","btn-rose","pull-right"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Scheda Cliente"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"form",9),r.ec("ngSubmit",(function(){return e.aggiungicliente()})),r.Tb(12,"div",3),r.Tb(13,"div",10),r.Tb(14,"mat-form-field",11),r.Ob(15,"input",12),r.Sb(),r.Sb(),r.Tb(16,"div",10),r.Tb(17,"mat-form-field",11),r.Ob(18,"input",13),r.Sb(),r.Sb(),r.Sb(),r.Tb(19,"div",3),r.Tb(20,"div",14),r.Tb(21,"mat-form-field",11),r.Ob(22,"input",15),r.Sb(),r.Sb(),r.Tb(23,"div",14),r.Tb(24,"mat-form-field",11),r.Ob(25,"input",16),r.Sb(),r.Sb(),r.Tb(26,"div",14),r.Tb(27,"mat-form-field",11),r.Ob(28,"input",17),r.Sb(),r.Sb(),r.Tb(29,"div",14),r.Tb(30,"mat-form-field",11),r.Ob(31,"input",18),r.Sb(),r.Sb(),r.Sb(),r.Tb(32,"div",3),r.Tb(33,"div",14),r.Tb(34,"mat-form-field",11),r.Ob(35,"input",19),r.Sb(),r.Sb(),r.Tb(36,"div",14),r.Tb(37,"mat-form-field",11),r.Ob(38,"input",20),r.Sb(),r.Sb(),r.Tb(39,"div",14),r.Tb(40,"mat-form-field",11),r.Ob(41,"input",21),r.Sb(),r.Sb(),r.Tb(42,"div",14),r.Tb(43,"mat-form-field",11),r.Ob(44,"input",22),r.Sb(),r.Sb(),r.Sb(),r.Tb(45,"div",3),r.Ob(46,"div",14),r.Tb(47,"div",23),r.Tb(48,"h3"),r.Hc(49,"Punti Vendita"),r.Sb(),r.Sb(),r.Ob(50,"div",14),r.Sb(),r.Tb(51,"div",3),r.Ob(52,"div",24),r.Tb(53,"div",25),r.Tb(54,"table",26),r.Tb(55,"thead"),r.Tb(56,"tr"),r.Tb(57,"th"),r.Hc(58,"Nome"),r.Sb(),r.Tb(59,"th"),r.Hc(60,"Via"),r.Sb(),r.Tb(61,"th"),r.Hc(62,"Citt\xe0"),r.Sb(),r.Tb(63,"th"),r.Hc(64,"Provincia"),r.Sb(),r.Tb(65,"th"),r.Hc(66,"CAP"),r.Sb(),r.Tb(67,"th"),r.Hc(68,"Codice destinazione"),r.Sb(),r.Tb(69,"th"),r.Hc(70,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(71,"tbody"),r.Fc(72,Ti,16,6,"tr",27),r.Sb(),r.Sb(),r.Sb(),r.Ob(73,"div",24),r.Sb(),r.Ob(74,"br"),r.Tb(75,"div",3),r.Ob(76,"div",14),r.Tb(77,"div",23),r.Tb(78,"button",28),r.ec("click",(function(){return e.aggiungipuntovendita()})),r.Hc(79,"Aggiungi Punto Vendita"),r.Sb(),r.Sb(),r.Ob(80,"div",14),r.Sb(),r.Fc(81,Si,2,0,"button",29),r.Fc(82,zi,2,0,"button",29),r.Ob(83,"div",30),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(11),r.mc("formGroup",e.aggiungiclienteform),r.Ab(4),r.mc("autofocus",!0),r.Ab(7),r.mc("autofocus",!0),r.Ab(6),r.mc("autofocus",!0),r.Ab(7),r.mc("autofocus",!0),r.Ab(6),r.mc("autofocus",!0),r.Ab(13),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(18),r.mc("ngForOf",e.tableRows),r.Ab(9),r.mc("ngIf",void 0===e.cliente),r.Ab(1),r.mc("ngIf",void 0!==e.cliente))},directives:[ie.a,a.u,a.m,a.g,ui.b,di.a,a.b,a.l,a.f,c,n.n,n.o],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}(),Ai=function(){function t(t,e){this.http=t,this.loginservice=e}return t.prototype.getvocidirettifica=function(){return this.http.get(l.b+"vocidirettifica/getall?access_token="+this.loginservice.gettoken())},t.prototype.getvocedirettifica=function(t){return this.http.get(l.b+"vocidirettifica/getvocedirettifica/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.aggiungivocedirettifica=function(t){return this.http.post(l.b+"vocidirettifica/aggiungi?access_token="+this.loginservice.gettoken(),t)},t.prototype.rimuovivocedirettifica=function(t){return this.http.get(l.b+"vocidirettifica/delete/"+t+"?access_token="+this.loginservice.gettoken())},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Oi=function(){return function(){}}(),wi=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungivocedirettificadialog"]],decls:14,vars:4,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","autofocus","ngModelChange"],["type","checkbox",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Voce di Rettifica"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Nome"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.nomevoce=t})),r.Sb(),r.Sb(),r.Tb(7,"input",3),r.ec("ngModelChange",(function(t){return e.data.aggiuntasottratta=t})),r.Sb(),r.Hc(8," Aggiunta "),r.Sb(),r.Tb(9,"div",4),r.Tb(10,"button",5),r.ec("click",(function(){return e.onNoClick()})),r.Hc(11,"Annulla"),r.Sb(),r.Tb(12,"button",6),r.Hc(13,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.nomevoce)("autofocus",!0),r.Ab(1),r.mc("ngModel",e.data.aggiuntasottratta),r.Ab(5),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,a.a,Kt,ie.a,Xt],styles:[""]}),t}();function ki(t,e){1&t&&(r.Tb(0,"td"),r.Hc(1," + "),r.Sb())}function Hi(t,e){1&t&&(r.Tb(0,"td"),r.Hc(1," - "),r.Sb())}function Ii(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr"),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Fc(5,ki,2,0,"td",12),r.Fc(6,Hi,2,0,"td",12),r.Tb(7,"td"),r.Tb(8,"button",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminavoce(t)})),r.Hc(9,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.idvocedirettifica),r.Ab(2),r.Ic(o.nomevoce),r.Ab(1),r.mc("ngIf",o.aggiuntasottratta),r.Ab(1),r.mc("ngIf",!o.aggiuntasottratta)}}var Ci={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Mi=function(){function t(t,e,i){this.vocedirettificaservice=t,this.toastr=e,this.dialog=i,this.dtTrigger=new b.a,this.dtOptions={},this.listavocidirettifica=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:Ci},this.vocedirettificaservice.getvocidirettifica().subscribe((function(e){t.listavocidirettifica=e,t.rerender()}))},t.prototype.eliminavoce=function(t){var e=this;this.dialog.open(oe,{data:{title:"Rimuovere",message:"Rimuovere la voce di rettifica "+t.nomevoce+" ?"}}).afterClosed().subscribe((function(i){!0===i&&e.vocedirettificaservice.rimuovivocedirettifica(t.idvocedirettifica).subscribe((function(t){t.length===e.listavocidirettifica.length?e.toastr.error("C'\xe8 stato un errore nella rimozione","Errore"):e.toastr.success("Voce di rettifica rimossa","Rimosso"),e.listavocidirettifica=t,e.rerender()}))}))},t.prototype.aggiungivocedirettifica=function(){var t=this;this.dialog.open(wi,{width:"450px",data:new Oi}).afterClosed().subscribe((function(e){t.vocedirettificaservice.aggiungivocedirettifica(e).subscribe((function(i){e.length===t.listavocidirettifica.length?t.toastr.error("C'\xe8 stato un errore nell'aggiunta","Errore"):t.toastr.success("Voce di rettifica aggiunta!","Aggiunto"),t.listavocidirettifica=i,t.rerender()}))}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(Ai),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestionevocidirettifica"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:25,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Cliente",1,"fab-bottom-right","btn","btn-warning",3,"click"],[4,"ngIf"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Voci di rettifica"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"ID"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Nome"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Aggiunta/Sottratta"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(21,"tbody"),r.Fc(22,Ii,10,4,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"button",11),r.ec("click",(function(){return e.aggiungivocedirettifica()})),r.Hc(24," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(12),r.mc("ngForOf",e.listavocidirettifica))},directives:[c,n.n,ie.a,n.o],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}(),xi=function(){return function(){}}(),ji=function(){function t(t,e){this.http=t,this.loginservice=e}return t.prototype.getbasidicarico=function(){return this.http.get(l.b+"basidicarico/getall?access_token="+this.loginservice.gettoken())},t.prototype.getbasedicarico=function(t){return this.http.get(l.b+"basidicarico/getbasedicarico/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.aggiungibasedicarico=function(t){return this.http.post(l.b+"basidicarico/aggiungi?access_token="+this.loginservice.gettoken(),t)},t.prototype.rimuovibasedicarico=function(t){return this.http.get(l.b+"basidicarico/delete/"+t+"?access_token="+this.loginservice.gettoken())},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),Ri=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungibasedicaricodialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","autofocus","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Base di Carico"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Nome"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.nomebasedicarico=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(7,"div",3),r.Tb(8,"button",4),r.ec("click",(function(){return e.onNoClick()})),r.Hc(9,"Annulla"),r.Sb(),r.Tb(10,"button",5),r.Hc(11,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.nomebasedicarico)("autofocus",!0),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,Kt,ie.a,Xt],styles:[""]}),t}();function Ni(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr"),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Tb(6,"button",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminabase(t)})),r.Hc(7,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.idbasedicarico),r.Ab(2),r.Ic(o.nomebasedicarico)}}var Di={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Pi=function(){function t(t,e,i){this.basidicaricoservice=t,this.toastr=e,this.dialog=i,this.dtTrigger=new b.a,this.dtOptions={},this.listabasidicarico=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:Di},this.basidicaricoservice.getbasidicarico().subscribe((function(e){t.listabasidicarico=e,t.rerender()}))},t.prototype.eliminabase=function(t){var e=this;this.dialog.open(oe,{data:{title:"Rimuovere",message:"Rimuovere la base di carico "+t.nomebasedicarico+" ?"}}).afterClosed().subscribe((function(i){!0===i&&e.basidicaricoservice.rimuovibasedicarico(t.idbasedicarico).subscribe((function(t){t.length===e.listabasidicarico.length?e.toastr.error("C'\xe8 stato un errore nella rimozione","Errore"):e.toastr.success("Base di carico rimossa","Rimosso"),e.listabasidicarico=t,e.rerender()}))}))},t.prototype.aggiungibasedicarico=function(){var t=this;this.dialog.open(Ri,{width:"450px",data:new xi}).afterClosed().subscribe((function(e){t.basidicaricoservice.aggiungibasedicarico(e).subscribe((function(i){e.length===t.listabasidicarico.length?t.toastr.error("C'\xe8 stato un errore nell'aggiunta della base di carico","Errore"):t.toastr.success("Base di carico aggiunta!","Aggiunta"),t.listabasidicarico=i,t.rerender()}))}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(ji),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestionebasidicarico"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:23,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Cliente",1,"fab-bottom-right","btn","btn-warning",3,"click"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Basi di Carico"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"ID"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Nome"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(19,"tbody"),r.Fc(20,Ni,8,2,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(21,"button",11),r.ec("click",(function(){return e.aggiungibasedicarico()})),r.Hc(22," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(10),r.mc("ngForOf",e.listabasidicarico))},directives:[c,n.n,ie.a],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}(),Fi=function(){function t(t,e){this.http=t,this.loginservice=e}return t.prototype.getfornitori=function(){return this.http.get(l.b+"fornitori/getall?access_token="+this.loginservice.gettoken())},t.prototype.getfornitore=function(t){return this.http.get(l.b+"fornitori/getfornitore/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.aggiungifornitore=function(t){return this.http.post(l.b+"fornitori/aggiungi?access_token="+this.loginservice.gettoken(),t)},t.prototype.rimuovifornitore=function(t){return this.http.get(l.b+"fornitori/delete/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.rimuoviquotazione=function(t){return this.http.post(l.b+"fornitori/eliminaquotazione?access_token="+this.loginservice.gettoken(),t)},t.prototype.generaexcelfornitore=function(t){return this.http.get(l.b+"fornitori/generaexcel/"+t+"?access_token="+this.loginservice.gettoken(),{responseType:"blob"})},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Ei(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",12),r.Tb(1,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificafornitore(t)})),r.Hc(2),r.Sb(),r.Tb(3,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificafornitore(t)})),r.Hc(4),r.Sb(),r.Tb(5,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificafornitore(t)})),r.Hc(6),r.hc(7,"date"),r.Sb(),r.Tb(8,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificafornitore(t)})),r.Hc(9),r.hc(10,"date"),r.Sb(),r.Tb(11,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificafornitore(t)})),r.Hc(12),r.Sb(),r.Tb(13,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificafornitore(t)})),r.Hc(14),r.Sb(),r.Tb(15,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificafornitore(t)})),r.Hc(16),r.Sb(),r.Tb(17,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificafornitore(t)})),r.Hc(18),r.Sb(),r.Tb(19,"td"),r.Tb(20,"button",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminafornitore(t)})),r.Hc(21,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit,n=r.gc();r.Ab(2),r.Ic(o.idfornitore),r.Ab(2),r.Ic(o.nomefornitore),r.Ab(2),r.Ic(r.jc(7,8,o.datainiziocontratto,"dd-MM-yyyy")),r.Ab(3),r.Ic(r.jc(10,11,o.datafinecontratto,"dd-MM-yyyy")),r.Ab(3),r.Ic(n.prezzogasoliodioggi(o)),r.Ab(2),r.Ic(n.prezzobenzinadioggi(o)),r.Ab(2),r.Ic(n.prezzosupremedioggi(o)),r.Ab(2),r.Ic(n.prezzogpldioggi(o))}}var qi={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Vi=function(){function t(t,e){this.fornitoriservice=t,this.router=e,this.dtTrigger=new b.a,this.dtOptions={},this.listafornitori=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:qi},this.fornitoriservice.getfornitori().subscribe((function(e){t.listafornitori=e,t.rerender()}))},t.prototype.eliminafornitore=function(t){var e=this;this.fornitoriservice.rimuovifornitore(t.idfornitore).subscribe((function(t){e.listafornitori=t,e.rerender()}))},t.prototype.aggiungifornitore=function(){this.router.navigate(["/admin/aggiungimodificafornitore"])},t.prototype.modificafornitore=function(t){this.fornitoriservice.fornitoreselezionato=t,this.router.navigate(["/admin/aggiungimodificafornitore"])},t.prototype.prezzogasoliodioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.isToday(o.data))return o.prezzogasolio}},t.prototype.prezzobenzinadioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.isToday(o.data))return o.prezzobenzina}},t.prototype.prezzosupremedioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.isToday(o.data))return o.prezzosupreme}},t.prototype.prezzogpldioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.isToday(o.data))return o.prezzogpl}},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.isToday=function(t){return(new Date).toDateString()===new Date(t).toDateString()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Fi),r.Nb(o.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestionefornitori"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:35,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Cliente",1,"fab-bottom-right","btn","btn-warning",3,"click"],[1,"manina"],[3,"click"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Fornitori"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"ID"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Nome"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Inizio contratto"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Fine contratto"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Prezzo benzina"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"Prezzo gasolio"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"Prezzo supreme"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"Prezzo gpl"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"tbody"),r.Fc(32,Ei,22,14,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(33,"button",11),r.ec("click",(function(){return e.aggiungifornitore()})),r.Hc(34," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(22),r.mc("ngForOf",e.listafornitori))},directives:[c,n.n,ie.a],pipes:[n.f],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}(),Li=function(){return function(){}}(),Ui=function(){return function(){}}(),$i=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungiquotazionedialog"]],decls:28,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","type","date",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Quotazione"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Data"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.data=t})),r.Sb(),r.Sb(),r.Tb(7,"mat-form-field"),r.Tb(8,"mat-label"),r.Hc(9,"Prezzo gasolio"),r.Sb(),r.Tb(10,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzogasolio=t})),r.Sb(),r.Sb(),r.Tb(11,"mat-form-field"),r.Tb(12,"mat-label"),r.Hc(13,"Prezzo benzina"),r.Sb(),r.Tb(14,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzobenzina=t})),r.Sb(),r.Sb(),r.Tb(15,"mat-form-field"),r.Tb(16,"mat-label"),r.Hc(17,"Prezzo supreme"),r.Sb(),r.Tb(18,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzosupreme=t})),r.Sb(),r.Sb(),r.Tb(19,"mat-form-field"),r.Tb(20,"mat-label"),r.Hc(21,"Prezzo GPL"),r.Sb(),r.Tb(22,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzogpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"div",4),r.Tb(24,"button",5),r.ec("click",(function(){return e.onNoClick()})),r.Hc(25,"Annulla"),r.Sb(),r.Tb(26,"button",6),r.Hc(27,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.data),r.Ab(4),r.mc("ngModel",e.data.prezzogasolio),r.Ab(4),r.mc("ngModel",e.data.prezzobenzina),r.Ab(4),r.mc("ngModel",e.data.prezzosupreme),r.Ab(4),r.mc("ngModel",e.data.prezzogpl),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,a.q,Kt,ie.a,Xt],styles:[""]}),t}(),Bi=i("Iab2");function Gi(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",27),r.Tb(1,"td"),r.Hc(2),r.hc(3,"date"),r.Sb(),r.Tb(4,"td"),r.Hc(5),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.Sb(),r.Tb(8,"td"),r.Hc(9),r.Sb(),r.Tb(10,"td"),r.Hc(11),r.Sb(),r.Tb(12,"td"),r.Tb(13,"button",18),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminaquotazione(t)})),r.Hc(14,"Elimina quotazione"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(r.jc(3,5,o.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.prezzogasolio),r.Ab(2),r.Ic(o.prezzobenzina),r.Ab(2),r.Ic(o.prezzosupreme),r.Ab(2),r.Ic(o.prezzogpl)}}function Wi(t,e){1&t&&(r.Tb(0,"button",28),r.Hc(1,"Crea Fornitore"),r.Sb())}function Ji(t,e){1&t&&(r.Tb(0,"button",28),r.Hc(1,"Aggiorna Fornitore"),r.Sb())}var Yi={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Xi=function(){function t(t,e,i,o,n){this.router=t,this.dialog=e,this.gestionefornitoreservice=i,this.formBuilder=o,this.toastr=n,this.dtTrigger=new b.a,this.dtOptions={},this.tableRows=[],this.fornitore=this.gestionefornitoreservice.fornitoreselezionato}return t.prototype.ngOnInit=function(){if(this.aggiungifornitoreform=this.formBuilder.group({nomefornitore:["",a.s.compose([a.s.required])],datainiziocontratto:[""],datafinecontratto:[""],prezzobenzina:[""],prezzogasolio:[""],prezzosupreme:[""],prezzogpl:[""]}),this.dtOptions={paging:!0,searching:!0,info:!0,ordering:!0,language:Yi},void 0!==this.fornitore){var t=Object(n.y)(this.fornitore.datainiziocontratto,"yyyy-MM-dd","en-EN"),e=Object(n.y)(this.fornitore.datafinecontratto,"yyyy-MM-dd","en-EN");this.aggiungifornitoreform.controls.nomefornitore.setValue(this.fornitore.nomefornitore),this.aggiungifornitoreform.controls.datainiziocontratto.setValue(t),this.aggiungifornitoreform.controls.datafinecontratto.setValue(e),this.tableRows=this.fornitore.quotazioni}},t.prototype.tornaindietro=function(){this.gestionefornitoreservice.fornitoreselezionato=void 0,this.router.navigate(["/admin/gestionefornitori"])},t.prototype.aggiungifornitore=function(){var t=this,e=this.aggiungifornitoreform.controls.nomefornitore.value,i=this.aggiungifornitoreform.controls.datainiziocontratto.value,o=this.aggiungifornitoreform.controls.datafinecontratto.value,n=new Li;void 0!==this.fornitore&&(n.idfornitore=this.fornitore.idfornitore),n.nomefornitore=e,n.datainiziocontratto=i,n.datafinecontratto=o,n.quotazioni=this.tableRows,this.gestionefornitoreservice.aggiungifornitore(n).subscribe((function(e){t.toastr.success("Fornitore modificato!","Modificato"),t.tornaindietro()}))},t.prototype.aggiungiquotazione=function(){var t=this;this.dialog.open($i,{width:"450px",data:new Ui}).afterClosed().subscribe((function(e){void 0!==e&&(t.tableRows.push(e),t.rerender())}))},t.prototype.eliminaquotazione=function(t){var e=this;this.gestionefornitoreservice.rimuoviquotazione(t).subscribe((function(i){var o=e.tableRows.indexOf(t);-1!==o&&(e.tableRows.splice(o,1),e.rerender()),i?e.toastr.success("Quotazione rimossa dal database!","Rimosso"):e.toastr.error("La quotazione non \xe8 presente nel database","Errore")}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.stampaexcel=function(){var t=this;void 0!==this.fornitore?this.gestionefornitoreservice.generaexcelfornitore(this.fornitore.idfornitore).subscribe((function(e){var i=new Blob([e],{type:"application/octet-stream"}),o="quotazioni_";o+=t.fornitore.nomefornitore,o+=".xlsx",Object(Bi.saveAs)(i,o)})):this.toastr.error("Il fornitore non \xe8 ancora stato salvato. Salvare e poi richiedere l'esportazione!","Errore")},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(Fi),r.Nb(a.c),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungimodificafornitore"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:60,vars:7,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col-md-4"],[1,"example-full-width"],["matInput","","placeholder","Nome fornitore","formControlName","nomefornitore",3,"autofocus"],["matInput","","placeholder","Inizio contratto","type","date","formControlName","datainiziocontratto"],["matInput","","placeholder","Fine contratto","type","date","formControlName","datafinecontratto"],[1,"row","align-content-center"],[1,"col-md-5"],[1,"col-md-2"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],[1,"col-md-1"],[1,"col-md-10"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],[1,"col-md-3"],[1,"col-md-6","text-center"],["mat-raised-button","","type","submit","class","btn btn-rose pull-right",4,"ngIf"],[1,"clearfix"],[1,"manina"],["mat-raised-button","","type","submit",1,"btn","btn-rose","pull-right"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Aggiungi fornitore"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"form",9),r.ec("ngSubmit",(function(){return e.aggiungifornitore()})),r.Tb(12,"div",3),r.Tb(13,"div",10),r.Tb(14,"mat-form-field",11),r.Ob(15,"input",12),r.Sb(),r.Sb(),r.Tb(16,"div",10),r.Tb(17,"mat-form-field",11),r.Ob(18,"input",13),r.Sb(),r.Sb(),r.Tb(19,"div",10),r.Tb(20,"mat-form-field",11),r.Ob(21,"input",14),r.Sb(),r.Sb(),r.Sb(),r.Tb(22,"div",15),r.Ob(23,"div",16),r.Tb(24,"div",17),r.Tb(25,"td"),r.Tb(26,"button",18),r.ec("click",(function(){return e.stampaexcel()})),r.Hc(27,"Esporta quotazioni (.XSLX)"),r.Sb(),r.Sb(),r.Sb(),r.Ob(28,"div",16),r.Sb(),r.Tb(29,"div",3),r.Ob(30,"div",19),r.Tb(31,"div",20),r.Tb(32,"table",21),r.Tb(33,"thead"),r.Tb(34,"tr"),r.Tb(35,"th"),r.Hc(36,"Date"),r.Sb(),r.Tb(37,"th"),r.Hc(38,"Prezzo Gasolio"),r.Sb(),r.Tb(39,"th"),r.Hc(40,"Prezzo Benzina"),r.Sb(),r.Tb(41,"th"),r.Hc(42,"Prezzo Supreme"),r.Sb(),r.Tb(43,"th"),r.Hc(44,"Prezzo GPL"),r.Sb(),r.Tb(45,"th"),r.Hc(46,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(47,"tbody"),r.Fc(48,Gi,15,8,"tr",22),r.Sb(),r.Sb(),r.Sb(),r.Ob(49,"div",19),r.Sb(),r.Ob(50,"br"),r.Tb(51,"div",3),r.Ob(52,"div",23),r.Tb(53,"div",24),r.Tb(54,"button",18),r.ec("click",(function(){return e.aggiungiquotazione()})),r.Hc(55,"Aggiungi Quotazione"),r.Sb(),r.Sb(),r.Ob(56,"div",23),r.Sb(),r.Fc(57,Wi,2,0,"button",25),r.Fc(58,Ji,2,0,"button",25),r.Ob(59,"div",26),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(11),r.mc("formGroup",e.aggiungifornitoreform),r.Ab(4),r.mc("autofocus",!0),r.Ab(17),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(16),r.mc("ngForOf",e.tableRows),r.Ab(9),r.mc("ngIf",void 0===e.fornitore),r.Ab(1),r.mc("ngIf",void 0!==e.fornitore))},directives:[ie.a,a.u,a.m,a.g,ui.b,di.a,a.b,a.l,a.f,c,n.n,n.o],pipes:[n.f],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}.top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}(),Qi=function(){function t(t,e){this.http=t,this.loginservice=e,this.listarimorchiperdialog=[]}return t.prototype.getalltrasportatori=function(){return this.http.get(l.b+"trasportatori/getall?access_token="+this.loginservice.gettoken())},t.prototype.gettrasportatore=function(t){return this.http.get(l.b+"trasportatori/gettrasportatore/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.aggiungitrasportatore=function(t){return this.http.post(l.b+"trasportatori/aggiungitrasportatore?access_token="+this.loginservice.gettoken(),t)},t.prototype.rimuovitrasportatore=function(t){return this.http.get(l.b+"trasportatori/rimuovitrasportatore/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.rimuoviatk=function(t){return this.http.get(l.b+"trasportatori/rimuoviatk/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.rimuovirimorchio=function(t){return this.http.get(l.b+"trasportatori/rimuovirimorchio/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.rimuoviautista=function(t){return this.http.get(l.b+"trasportatori/rimuoviautista/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.getallatk=function(){return this.http.get(l.b+"trasportatori/getallatk?access_token="+this.loginservice.gettoken())},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Zi(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",12),r.Tb(1,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginatrasportatore(t)})),r.Hc(2),r.Sb(),r.Tb(3,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginatrasportatore(t)})),r.Hc(4),r.Sb(),r.Tb(5,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginatrasportatore(t)})),r.Hc(6),r.Sb(),r.Tb(7,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginatrasportatore(t)})),r.Hc(8),r.Sb(),r.Tb(9,"td"),r.Tb(10,"button",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminatrasportatore(t)})),r.Hc(11,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit,n=r.gc();r.Ab(2),r.Ic(o.nometrasportatore),r.Ab(2),r.Ic(n.contalista(o.listaatk)),r.Ab(2),r.Ic(n.contalista(o.listarimorchi)),r.Ab(2),r.Ic(n.contalista(o.listaautisti))}}var Ki={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},to=function(){function t(t,e){this.router=t,this.gestionetrasportatori=e,this.dtTrigger=new b.a,this.dtOptions={},this.listatrasportatori=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={paging:!0,searching:!0,info:!0,ordering:!0,language:Ki},this.gestionetrasportatori.getalltrasportatori().subscribe((function(e){t.listatrasportatori=e,t.rerender()}))},t.prototype.vaiapaginatrasportatore=function(t){this.gestionetrasportatori.trasportatoreselezionato=t,this.router.navigate(["/admin/aggiungimodificatrasportatore"])},t.prototype.aggiungitrasportatore=function(){this.router.navigate(["/admin/aggiungimodificatrasportatore"])},t.prototype.eliminatrasportatore=function(t){var e=this;this.gestionetrasportatori.rimuovitrasportatore(t.nometrasportatore).subscribe((function(t){e.listatrasportatori=t,e.rerender()}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Qi))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestionetrasportatori"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:27,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Cliente",1,"fab-bottom-right","btn","btn-warning",3,"click"],[1,"manina"],[3,"click"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Tutti i Trasportatori"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"Nome"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Atk"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Rimorchi"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Autisti"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"tbody"),r.Fc(24,Zi,12,4,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(25,"button",11),r.ec("click",(function(){return e.aggiungitrasportatore()})),r.Hc(26," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(14),r.mc("ngForOf",e.listatrasportatori))},directives:[c,n.n,ie.a],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}(),eo=function(){return function(){}}(),io=function(){return function(){}}(),oo=function(){return function(){}}();function no(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",11),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc(2).cambiavalore(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.targa)}}function ao(t,e){if(1&t){var i=r.Ub();r.Tb(0,"mat-form-field"),r.Tb(1,"mat-label"),r.Hc(2,"Rimorchio suggerito"),r.Sb(),r.Tb(3,"div",7),r.Tb(4,"input",8),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().valore.targa=t})),r.Sb(),r.Tb(5,"div",9),r.Fc(6,no,2,1,"button",10),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=r.gc();r.Ab(4),r.mc("ngModel",o.valore.targa),r.Ab(2),r.mc("ngForOf",o.listavalori)}}function ro(t,e){1&t&&(r.Tb(0,"div"),r.Hc(1," Non ci sono rimorchi da suggerire "),r.Sb())}var co=function(){function t(t,e,i){this.gestionetrasportatori=t,this.dialogRef=e,this.data=i,this.listavalori=[],this.listavalori=t.listarimorchiperdialog,this.listavalori.length>0&&(this.valore=this.listavalori[0])}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.cambiavalore=function(t){this.valore=t,this.data.suggerito=t.targa},t.\u0275fac=function(e){return new(e||t)(r.Nb(Qi),r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungiatkdialog"]],decls:18,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","autofocus","ngModelChange"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"],["ngbDropdown","",1,"d-inline-block",2,"height","160px"],["matInput","","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary",3,"ngModel","ngModelChange"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["ngbDropdownItem","",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Atk"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Codice"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.codice=t})),r.Sb(),r.Sb(),r.Tb(7,"mat-form-field"),r.Tb(8,"mat-label"),r.Hc(9,"Targa"),r.Sb(),r.Tb(10,"input",2),r.ec("ngModelChange",(function(t){return e.data.targa=t})),r.Sb(),r.Sb(),r.Fc(11,ao,7,2,"mat-form-field",3),r.Fc(12,ro,2,0,"div",3),r.Sb(),r.Tb(13,"div",4),r.Tb(14,"button",5),r.ec("click",(function(){return e.onNoClick()})),r.Hc(15,"Annulla"),r.Sb(),r.Tb(16,"button",6),r.Hc(17,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.codice)("autofocus",!0),r.Ab(4),r.mc("ngModel",e.data.targa)("autofocus",!0),r.Ab(1),r.mc("ngIf",null!=e.valore),r.Ab(1),r.mc("ngIf",null==e.valore),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,n.o,Kt,ie.a,Xt,pi.a,pi.d,pi.c,n.n,pi.b],styles:[""]}),t}(),so=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungirimorchiodialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","autofocus","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Rimorchio"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Targa"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.targa=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(7,"div",3),r.Tb(8,"button",4),r.ec("click",(function(){return e.onNoClick()})),r.Hc(9,"Annulla"),r.Sb(),r.Tb(10,"button",5),r.Hc(11,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.targa)("autofocus",!0),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,Kt,ie.a,Xt],styles:[""]}),t}(),bo=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungiautistadialog"]],decls:12,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","",3,"ngModel","autofocus","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Autista"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Nome"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.nomeautista=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(7,"div",3),r.Tb(8,"button",4),r.ec("click",(function(){return e.onNoClick()})),r.Hc(9,"Annulla"),r.Sb(),r.Tb(10,"button",5),r.Hc(11,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.nomeautista)("autofocus",!0),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,Kt,ie.a,Xt],styles:[""]}),t}(),lo=function(){return function(){this.listaatk=[],this.listarimorchi=[],this.listaautisti=[]}}();function uo(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",24),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Hc(6),r.Sb(),r.Tb(7,"td"),r.Tb(8,"button",17),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminaatk(t)})),r.Hc(9,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.codice),r.Ab(2),r.Ic(o.targa),r.Ab(2),r.Ic(o.suggerito)}}function po(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",24),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Tb(4,"button",17),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminarimorchio(t)})),r.Hc(5,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.targa)}}function go(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",24),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Tb(4,"button",17),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminaautista(t)})),r.Hc(5,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.nomeautista)}}function fo(t,e){1&t&&(r.Tb(0,"button",25),r.Hc(1,"Crea trasportatore"),r.Sb())}function ho(t,e){1&t&&(r.Tb(0,"button",25),r.Hc(1,"Aggiorna trasportatore"),r.Sb())}var vo={emptyTable:"Non ci sono dati!",search:"cerca",searchPlaceholder:"cerca nella tabella"},mo=function(){function t(t,e,i,o,n){this.router=t,this.dialog=e,this.gestionetrasportatore=i,this.formBuilder=o,this.toastr=n,this.dtTrigger=new b.a,this.dtOptions={},this.dtTriggerrimorchi=new b.a,this.dtOptionsrimorchi={},this.dtTriggerautisti=new b.a,this.dtOptionsautisti={},this.trasportatore=this.gestionetrasportatore.trasportatoreselezionato,this.listaatk=[],this.listarimorchi=[],this.listaautisti=[]}return t.prototype.ngOnInit=function(){this.aggiungitrasportatoreform=this.formBuilder.group({nometrasportatore:["",a.s.compose([a.s.required])]}),this.dtOptions={paging:!1,searching:!1,info:!1,ordering:!1,language:vo},this.dtOptionsrimorchi={paging:!1,searching:!1,info:!1,ordering:!1,language:vo},this.dtOptionsautisti={paging:!1,searching:!1,info:!1,ordering:!1,language:vo},void 0!==this.trasportatore&&(this.listaatk=this.trasportatore.listaatk,this.listarimorchi=this.trasportatore.listarimorchi,this.listaautisti=this.trasportatore.listaautisti,this.aggiungitrasportatoreform.controls.nometrasportatore.setValue(this.trasportatore.nometrasportatore))},t.prototype.aggiungitrasportatore=function(){var t=this,e=new lo;e.listaautisti=this.listaautisti,e.listaatk=this.listaatk,e.listarimorchi=this.listarimorchi,e.nometrasportatore=this.aggiungitrasportatoreform.controls.nometrasportatore.value,this.gestionetrasportatore.aggiungitrasportatore(e).subscribe((function(e){void 0!==t.trasportatore?t.toastr.success("Trasportatore aggiornato!","Aggiornato"):t.toastr.success("Trasportatore aggiunto!","Aggiunto"),t.tornaindietro()}))},t.prototype.aggiungiatk=function(){var t=this;this.gestionetrasportatore.listarimorchiperdialog=this.listarimorchi,this.dialog.open(co,{width:"450px",height:"600px",data:new eo}).afterClosed().subscribe((function(e){void 0!==e&&(t.listaatk.push(e),t.rerender(),t.gestionetrasportatore.listarimorchiperdialog=void 0)}))},t.prototype.aggiungirimorchio=function(){var t=this;this.dialog.open(so,{width:"450px",data:new io}).afterClosed().subscribe((function(e){void 0!==e&&(t.listarimorchi.push(e),t.rerender())}))},t.prototype.aggiungiautista=function(){var t=this;this.dialog.open(bo,{width:"450px",data:new oo}).afterClosed().subscribe((function(e){void 0!==e&&(t.listaautisti.push(e),t.rerender())}))},t.prototype.eliminaatk=function(t){var e=this,i=this.listaatk.indexOf(t);-1!==i&&(this.listaatk.splice(i,1),void 0!==t.idatk&&this.gestionetrasportatore.rimuoviatk(t.idatk).subscribe((function(t){t&&e.toastr.info("Rimosso Atk dal database","Rimosso")})),this.rerender())},t.prototype.eliminarimorchio=function(t){var e=this,i=this.listarimorchi.indexOf(t);console.log(i),-1!==i&&(this.listarimorchi.splice(i,1),void 0!==t.targa&&this.gestionetrasportatore.rimuovirimorchio(t.targa).subscribe((function(t){t&&e.toastr.info("Rimosso Rimorchio dal database","Rimosso")})),this.rerender())},t.prototype.eliminaautista=function(t){var e=this,i=this.listaautisti.indexOf(t);-1!==i&&(this.listaautisti.splice(i,1),void 0!==t.idautista&&this.gestionetrasportatore.rimuoviautista(t.idautista).subscribe((function(t){t&&e.toastr.info("Rimosso Autista dal database","Rimosso")})),this.rerender())},t.prototype.tornaindietro=function(){this.gestionetrasportatore.trasportatoreselezionato=void 0,this.router.navigate(["/admin/gestionetrasportatori"])},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next(),this.dtTriggerautisti.next(),this.dtTriggerrimorchi.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe(),this.dtTriggerautisti.unsubscribe(),this.dtTriggerrimorchi.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElements.forEach((function(e,i){e.dtInstance.then((function(e){e.destroy(),0==i&&t.dtTrigger.next(),1==i&&t.dtTriggerrimorchi.next(),2==i&&t.dtTriggerautisti.next()}))}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(Qi),r.Nb(a.c),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungimodificatrasportatore"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElements=i)},decls:76,vars:13,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","Nome Trasportatore","formControlName","nometrasportatore",3,"autofocus"],[1,"col-md-5"],[1,"text-center"],["datatable","","id","tabellaatk",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],[1,"col-md-1"],[1,"col-md-3"],["datatable","","id","tabellarimorchi",1,"row-border","hover",3,"dtOptions","dtTrigger"],["datatable","","id","tabellaautisti",1,"row-border","hover",3,"dtOptions","dtTrigger"],["mat-raised-button","","type","submit","class","btn btn-rose pull-right",4,"ngIf"],[1,"clearfix"],[1,"manina"],["mat-raised-button","","type","submit",1,"btn","btn-rose","pull-right"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Scheda Trasportatore"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"form",9),r.ec("ngSubmit",(function(){return e.aggiungitrasportatore()})),r.Tb(12,"div",3),r.Tb(13,"div",10),r.Tb(14,"mat-form-field",11),r.Ob(15,"input",12),r.Sb(),r.Sb(),r.Sb(),r.Tb(16,"div",3),r.Tb(17,"div",13),r.Tb(18,"div",14),r.Tb(19,"h3"),r.Hc(20,"ATK"),r.Sb(),r.Sb(),r.Tb(21,"table",15),r.Tb(22,"thead"),r.Tb(23,"tr"),r.Tb(24,"th"),r.Hc(25,"Codice"),r.Sb(),r.Tb(26,"th"),r.Hc(27,"Targa"),r.Sb(),r.Tb(28,"th"),r.Hc(29,"Suggerito"),r.Sb(),r.Tb(30,"th"),r.Hc(31,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(32,"tbody"),r.Fc(33,uo,10,3,"tr",16),r.Sb(),r.Sb(),r.Ob(34,"br"),r.Tb(35,"div",14),r.Tb(36,"button",17),r.ec("click",(function(){return e.aggiungiatk()})),r.Hc(37,"Aggiungi ATK"),r.Sb(),r.Sb(),r.Sb(),r.Ob(38,"div",18),r.Tb(39,"div",19),r.Tb(40,"div",14),r.Tb(41,"h3"),r.Hc(42,"Rimorchi"),r.Sb(),r.Sb(),r.Tb(43,"table",20),r.Tb(44,"thead"),r.Tb(45,"tr"),r.Tb(46,"th"),r.Hc(47,"Targa"),r.Sb(),r.Tb(48,"th"),r.Hc(49,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(50,"tbody"),r.Fc(51,po,6,1,"tr",16),r.Sb(),r.Sb(),r.Ob(52,"br"),r.Tb(53,"div",14),r.Tb(54,"button",17),r.ec("click",(function(){return e.aggiungirimorchio()})),r.Hc(55,"Aggiungi Rimorchio"),r.Sb(),r.Sb(),r.Sb(),r.Tb(56,"div",19),r.Tb(57,"div",14),r.Tb(58,"h3"),r.Hc(59,"Autisti"),r.Sb(),r.Sb(),r.Tb(60,"table",21),r.Tb(61,"thead"),r.Tb(62,"tr"),r.Tb(63,"th"),r.Hc(64,"Nome"),r.Sb(),r.Tb(65,"th"),r.Hc(66,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(67,"tbody"),r.Fc(68,go,6,1,"tr",16),r.Sb(),r.Sb(),r.Ob(69,"br"),r.Tb(70,"div",14),r.Tb(71,"button",17),r.ec("click",(function(){return e.aggiungiautista()})),r.Hc(72,"Aggiungi Autista"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Fc(73,fo,2,0,"button",22),r.Fc(74,ho,2,0,"button",22),r.Ob(75,"div",23),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(11),r.mc("formGroup",e.aggiungitrasportatoreform),r.Ab(4),r.mc("autofocus",!0),r.Ab(6),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(12),r.mc("ngForOf",e.listaatk),r.Ab(10),r.mc("dtOptions",e.dtOptionsrimorchi)("dtTrigger",e.dtTriggerrimorchi),r.Ab(8),r.mc("ngForOf",e.listarimorchi),r.Ab(9),r.mc("dtOptions",e.dtOptionsautisti)("dtTrigger",e.dtTriggerautisti),r.Ab(8),r.mc("ngForOf",e.listaautisti),r.Ab(5),r.mc("ngIf",void 0===e.trasportatore),r.Ab(1),r.mc("ngIf",void 0!==e.trasportatore))},directives:[ie.a,a.u,a.m,a.g,ui.b,di.a,a.b,a.l,a.f,c,n.n,n.o],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}();function To(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",12),r.Tb(1,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(2),r.Sb(),r.Tb(3,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(4),r.Sb(),r.Tb(5,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(6),r.Sb(),r.Tb(7,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(8),r.Sb(),r.Tb(9,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(10),r.Sb(),r.Tb(11,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(12),r.Sb(),r.Tb(13,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(14),r.Sb(),r.Tb(15,"td",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(16),r.Sb(),r.Tb(17,"td"),r.Tb(18,"button",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminapuntovendita(t)})),r.Hc(19,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.puntovendita.idpunto),r.Ab(2),r.Ic(o.puntovendita.nome),r.Ab(2),r.Ic(o.puntovendita.codicedestinazione),r.Ab(2),r.Ic(o.puntovendita.via),r.Ab(2),r.Ic(o.puntovendita.citta),r.Ab(2),r.Ic(o.puntovendita.provincia),r.Ab(2),r.Ic(o.puntovendita.cap),r.Ab(2),r.Ic(o.nomecliente)}}var So={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},zo=function(){function t(t,e){this.router=t,this.gestioneclientiservice=e,this.dtTrigger=new b.a,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={paging:!0,searching:!0,info:!0,ordering:!0,language:So},this.gestioneclientiservice.tuttipuntivenditaconcliente().subscribe((function(e){t.listapuntivendita=e,t.rerender()}))},t.prototype.vaiapaginapuntovendita=function(t){this.gestioneclientiservice.puntovenditaselezionato=t,this.router.navigate(["/admin/aggiungimodificapuntovendita"])},t.prototype.aggiungipuntovendita=function(){},t.prototype.eliminapuntovendita=function(t){var e=this;this.gestioneclientiservice.eliminapuntovendita(t.puntovendita).subscribe((function(t){e.listapuntivendita=t,e.rerender()}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(pe))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestionepuntivendita"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:35,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Punto Vendita",1,"fab-bottom-right","btn","btn-warning",3,"click"],[1,"manina"],[3,"click"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Tutti i punti vendita"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"ID"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Nome"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Codice destinazione"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Via"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Citt\xe0"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"Provincia"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"CAP"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"Cliente"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"tbody"),r.Fc(32,To,20,8,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(33,"button",11),r.ec("click",(function(){return e.aggiungipuntovendita()})),r.Hc(34," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(22),r.mc("ngForOf",e.listapuntivendita))},directives:[c,n.n,ie.a],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}(),yo=function(){return function(){}}();function _o(t,e){if(1&t&&(r.Tb(0,"button",11),r.Hc(1),r.Sb()),2&t){var i=r.gc();r.Ab(1),r.Ic(i.valore.vocedirettifica)}}function Ao(t,e){1&t&&(r.Tb(0,"button",11),r.Hc(1,"Seleziona voce di rettifica"),r.Sb())}function Oo(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().cambiavalore(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.nomevoce)}}var wo=function(){function t(t,e,i){var o=this;this.vocidirettifica=t,this.dialogRef=e,this.data=i,this.valore=new yo,this.listavalori=[],this.vocidirettifica.getvocidirettifica().subscribe((function(t){o.listavalori=t}))}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.cambiavalore=function(t){this.valore.vocedirettifica=t.nomevoce,this.valore.segno=t.aggiuntasottratta,this.data=this.valore},t.\u0275fac=function(e){return new(e||t)(r.Nb(Ai),r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungivocedirettificaconvaloredialog"]],decls:21,vars:6,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["ngbDropdown","",1,"d-inline-block",2,"min-height","40px"],["class","btn btn-outline-primary","id","dropdownBasic1","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],["matInput","","placeholder","Valore","type","number",3,"ngModel","ngModelChange"],["matInput","","placeholder","Descrizione","type","text",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownItem","",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"h1",0),r.Hc(1,"Aggiungi voce di rettifica"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Fc(4,_o,2,1,"button",3),r.Fc(5,Ao,2,0,"button",3),r.Tb(6,"div",4),r.Fc(7,Oo,2,1,"button",5),r.Sb(),r.Sb(),r.Ob(8,"br"),r.Ob(9,"br"),r.Tb(10,"input",6),r.ec("ngModelChange",(function(t){return e.valore.valore=t})),r.Sb(),r.Ob(11,"br"),r.Ob(12,"br"),r.Tb(13,"input",7),r.ec("ngModelChange",(function(t){return e.valore.descrizione=t})),r.Sb(),r.Ob(14,"br"),r.Ob(15,"br"),r.Sb(),r.Tb(16,"div",8),r.Tb(17,"button",9),r.ec("click",(function(){return e.onNoClick()})),r.Hc(18,"Annulla"),r.Sb(),r.Tb(19,"button",10),r.Hc(20,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(4),r.mc("ngIf",null!=e.valore.vocedirettifica),r.Ab(1),r.mc("ngIf",null==e.valore.vocedirettifica),r.Ab(2),r.mc("ngForOf",e.listavalori),r.Ab(3),r.mc("ngModel",e.valore.valore),r.Ab(3),r.mc("ngModel",e.valore.descrizione),r.Ab(6),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,pi.a,n.o,pi.c,n.n,di.a,a.q,a.b,a.l,a.o,Kt,ie.a,Xt,pi.d,pi.b],styles:[""]}),t}(),ko=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungiquotazionepuntovenditadialog"]],decls:56,vars:13,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","type","date",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Quotazione Punto Vendita"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Data"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.data=t})),r.Sb(),r.Sb(),r.Tb(7,"mat-form-field"),r.Tb(8,"mat-label"),r.Hc(9,"Prezzo gasolio"),r.Sb(),r.Tb(10,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzogasolio=t})),r.Sb(),r.Sb(),r.Tb(11,"mat-form-field"),r.Tb(12,"mat-label"),r.Hc(13,"Prezzo benzina"),r.Sb(),r.Tb(14,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzobenzina=t})),r.Sb(),r.Sb(),r.Tb(15,"mat-form-field"),r.Tb(16,"mat-label"),r.Hc(17,"Prezzo supreme"),r.Sb(),r.Tb(18,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzosupreme=t})),r.Sb(),r.Sb(),r.Tb(19,"mat-form-field"),r.Tb(20,"mat-label"),r.Hc(21,"Prezzo GPL"),r.Sb(),r.Tb(22,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzogpl=t})),r.Sb(),r.Sb(),r.Tb(23,"mat-form-field"),r.Tb(24,"mat-label"),r.Hc(25,"Prezzo gasolio Self"),r.Sb(),r.Tb(26,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzogasolioself=t})),r.Sb(),r.Sb(),r.Tb(27,"mat-form-field"),r.Tb(28,"mat-label"),r.Hc(29,"Prezzo benzina Self"),r.Sb(),r.Tb(30,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzobenzinaself=t})),r.Sb(),r.Sb(),r.Tb(31,"mat-form-field"),r.Tb(32,"mat-label"),r.Hc(33,"Prezzo supreme Self"),r.Sb(),r.Tb(34,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzosupremeself=t})),r.Sb(),r.Sb(),r.Tb(35,"mat-form-field"),r.Tb(36,"mat-label"),r.Hc(37,"Margine gasolio (%)"),r.Sb(),r.Tb(38,"input",3),r.ec("ngModelChange",(function(t){return e.data.marginecessionegasolio=t})),r.Sb(),r.Sb(),r.Tb(39,"mat-form-field"),r.Tb(40,"mat-label"),r.Hc(41,"Margine benzina (%)"),r.Sb(),r.Tb(42,"input",3),r.ec("ngModelChange",(function(t){return e.data.marginecessionebenzina=t})),r.Sb(),r.Sb(),r.Tb(43,"mat-form-field"),r.Tb(44,"mat-label"),r.Hc(45,"Margine supreme (%)"),r.Sb(),r.Tb(46,"input",3),r.ec("ngModelChange",(function(t){return e.data.marginecessionesupreme=t})),r.Sb(),r.Sb(),r.Tb(47,"mat-form-field"),r.Tb(48,"mat-label"),r.Hc(49,"Margine gpl (%)"),r.Sb(),r.Tb(50,"input",3),r.ec("ngModelChange",(function(t){return e.data.marginecessionegpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(51,"div",4),r.Tb(52,"button",5),r.ec("click",(function(){return e.onNoClick()})),r.Hc(53,"Annulla"),r.Sb(),r.Tb(54,"button",6),r.Hc(55,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.data),r.Ab(4),r.mc("ngModel",e.data.prezzogasolio),r.Ab(4),r.mc("ngModel",e.data.prezzobenzina),r.Ab(4),r.mc("ngModel",e.data.prezzosupreme),r.Ab(4),r.mc("ngModel",e.data.prezzogpl),r.Ab(4),r.mc("ngModel",e.data.prezzogasolioself),r.Ab(4),r.mc("ngModel",e.data.prezzobenzinaself),r.Ab(4),r.mc("ngModel",e.data.prezzosupremeself),r.Ab(4),r.mc("ngModel",e.data.marginecessionegasolio),r.Ab(4),r.mc("ngModel",e.data.marginecessionebenzina),r.Ab(4),r.mc("ngModel",e.data.marginecessionesupreme),r.Ab(4),r.mc("ngModel",e.data.marginecessionegpl),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,a.q,Kt,ie.a,Xt],styles:[""]}),t}(),Ho=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungiquotazionepuntovenditasoloservitodialog"]],decls:44,vars:10,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","type","date",3,"ngModel","ngModelChange"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Quotazione Punto Vendita (Solo servito)"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Data"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.data=t})),r.Sb(),r.Sb(),r.Tb(7,"mat-form-field"),r.Tb(8,"mat-label"),r.Hc(9,"Prezzo gasolio"),r.Sb(),r.Tb(10,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzogasolio=t})),r.Sb(),r.Sb(),r.Tb(11,"mat-form-field"),r.Tb(12,"mat-label"),r.Hc(13,"Prezzo benzina"),r.Sb(),r.Tb(14,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzobenzina=t})),r.Sb(),r.Sb(),r.Tb(15,"mat-form-field"),r.Tb(16,"mat-label"),r.Hc(17,"Prezzo supreme"),r.Sb(),r.Tb(18,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzosupreme=t})),r.Sb(),r.Sb(),r.Tb(19,"mat-form-field"),r.Tb(20,"mat-label"),r.Hc(21,"Prezzo GPL"),r.Sb(),r.Tb(22,"input",3),r.ec("ngModelChange",(function(t){return e.data.prezzogpl=t})),r.Sb(),r.Sb(),r.Tb(23,"mat-form-field"),r.Tb(24,"mat-label"),r.Hc(25,"Margine gasolio (%)"),r.Sb(),r.Tb(26,"input",3),r.ec("ngModelChange",(function(t){return e.data.marginecessionegasolio=t})),r.Sb(),r.Sb(),r.Tb(27,"mat-form-field"),r.Tb(28,"mat-label"),r.Hc(29,"Margine benzina (%)"),r.Sb(),r.Tb(30,"input",3),r.ec("ngModelChange",(function(t){return e.data.marginecessionebenzina=t})),r.Sb(),r.Sb(),r.Tb(31,"mat-form-field"),r.Tb(32,"mat-label"),r.Hc(33,"Margine supreme (%)"),r.Sb(),r.Tb(34,"input",3),r.ec("ngModelChange",(function(t){return e.data.marginecessionesupreme=t})),r.Sb(),r.Sb(),r.Tb(35,"mat-form-field"),r.Tb(36,"mat-label"),r.Hc(37,"Margine gpl (%)"),r.Sb(),r.Tb(38,"input",3),r.ec("ngModelChange",(function(t){return e.data.marginecessionegpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(39,"div",4),r.Tb(40,"button",5),r.ec("click",(function(){return e.onNoClick()})),r.Hc(41,"Annulla"),r.Sb(),r.Tb(42,"button",6),r.Hc(43,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.data),r.Ab(4),r.mc("ngModel",e.data.prezzogasolio),r.Ab(4),r.mc("ngModel",e.data.prezzobenzina),r.Ab(4),r.mc("ngModel",e.data.prezzosupreme),r.Ab(4),r.mc("ngModel",e.data.prezzogpl),r.Ab(4),r.mc("ngModel",e.data.marginecessionegasolio),r.Ab(4),r.mc("ngModel",e.data.marginecessionebenzina),r.Ab(4),r.mc("ngModel",e.data.marginecessionesupreme),r.Ab(4),r.mc("ngModel",e.data.marginecessionegpl),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,a.q,Kt,ie.a,Xt],styles:[""]}),t}(),Io=["input"],Co=function(){return{enterDuration:150}},Mo=["*"],xo=new r.r("mat-radio-default-options",{providedIn:"root",factory:function(){return{color:"accent"}}}),jo=0,Ro={provide:a.j,useExisting:Object(r.U)((function(){return Fo})),multi:!0},No=function t(e,i){Object(v.a)(this,t),this.source=e,this.value=i},Do=new r.r("MatRadioGroup"),Po=function(){var t=function(){function t(e){Object(v.a)(this,t),this._changeDetector=e,this._value=null,this._name="mat-radio-group-".concat(jo++),this._selected=null,this._isInitialized=!1,this._labelPosition="after",this._disabled=!1,this._required=!1,this._controlValueAccessorChangeFn=function(){},this.onTouched=function(){},this.change=new r.o}return Object(g.a)(t,[{key:"_checkSelectedRadioButton",value:function(){this._selected&&!this._selected.checked&&(this._selected.checked=!0)}},{key:"ngAfterContentInit",value:function(){this._isInitialized=!0}},{key:"_touch",value:function(){this.onTouched&&this.onTouched()}},{key:"_updateRadioButtonNames",value:function(){var t=this;this._radios&&this._radios.forEach((function(e){e.name=t.name,e._markForCheck()}))}},{key:"_updateSelectedRadioFromValue",value:function(){var t=this;this._radios&&(null===this._selected||this._selected.value!==this._value)&&(this._selected=null,this._radios.forEach((function(e){e.checked=t.value===e.value,e.checked&&(t._selected=e)})))}},{key:"_emitChangeEvent",value:function(){this._isInitialized&&this.change.emit(new No(this._selected,this._value))}},{key:"_markRadiosForCheck",value:function(){this._radios&&this._radios.forEach((function(t){return t._markForCheck()}))}},{key:"writeValue",value:function(t){this.value=t,this._changeDetector.markForCheck()}},{key:"registerOnChange",value:function(t){this._controlValueAccessorChangeFn=t}},{key:"registerOnTouched",value:function(t){this.onTouched=t}},{key:"setDisabledState",value:function(t){this.disabled=t,this._changeDetector.markForCheck()}},{key:"name",get:function(){return this._name},set:function(t){this._name=t,this._updateRadioButtonNames()}},{key:"labelPosition",get:function(){return this._labelPosition},set:function(t){this._labelPosition="before"===t?"before":"after",this._markRadiosForCheck()}},{key:"value",get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,this._updateSelectedRadioFromValue(),this._checkSelectedRadioButton())}},{key:"selected",get:function(){return this._selected},set:function(t){this._selected=t,this.value=t?t.value:null,this._checkSelectedRadioButton()}},{key:"disabled",get:function(){return this._disabled},set:function(t){this._disabled=Object(y.c)(t),this._markRadiosForCheck()}},{key:"required",get:function(){return this._required},set:function(t){this._required=Object(y.c)(t),this._markRadiosForCheck()}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.h))},t.\u0275dir=r.Ib({type:t,inputs:{name:"name",labelPosition:"labelPosition",value:"value",selected:"selected",disabled:"disabled",required:"required",color:"color"},outputs:{change:"change"}}),t}(),Fo=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(){return Object(v.a)(this,i),e.apply(this,arguments)}return i}(Po);return t.\u0275fac=function(e){return Eo(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["mat-radio-group"]],contentQueries:function(t,e,i){var o;1&t&&r.Gb(i,Uo,!0),2&t&&r.tc(o=r.fc())&&(e._radios=o)},hostAttrs:["role","radiogroup",1,"mat-radio-group"],exportAs:["matRadioGroup"],features:[r.zb([Ro,{provide:Do,useExisting:t}]),r.xb]}),t}(),Eo=r.Vb(Fo),qo=function t(e){Object(v.a)(this,t),this._elementRef=e},Vo=Object(Ct.p)(Object(Ct.s)(qo)),Lo=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a,c,s,b,l){var u;return Object(v.a)(this,i),(u=e.call(this,o))._changeDetector=n,u._focusMonitor=a,u._radioDispatcher=c,u._animationMode=s,u._providerOverride=b,u._uniqueId="mat-radio-".concat(++jo),u.id=u._uniqueId,u.change=new r.o,u._checked=!1,u._value=null,u._removeUniqueSelectionListener=function(){},u.radioGroup=t,l&&(u.tabIndex=Object(y.f)(l,0)),u._removeUniqueSelectionListener=c.listen((function(t,e){t!==u.id&&e===u.name&&(u.checked=!1)})),u}return Object(g.a)(i,[{key:"focus",value:function(t){this._focusMonitor.focusVia(this._inputElement,"keyboard",t)}},{key:"_markForCheck",value:function(){this._changeDetector.markForCheck()}},{key:"ngOnInit",value:function(){this.radioGroup&&(this.checked=this.radioGroup.value===this._value,this.name=this.radioGroup.name)}},{key:"ngAfterViewInit",value:function(){var t=this;this._focusMonitor.monitor(this._elementRef,!0).subscribe((function(e){!e&&t.radioGroup&&t.radioGroup._touch()}))}},{key:"ngOnDestroy",value:function(){this._focusMonitor.stopMonitoring(this._elementRef),this._removeUniqueSelectionListener()}},{key:"_emitChangeEvent",value:function(){this.change.emit(new No(this,this._value))}},{key:"_isRippleDisabled",value:function(){return this.disableRipple||this.disabled}},{key:"_onInputClick",value:function(t){t.stopPropagation()}},{key:"_onInputChange",value:function(t){t.stopPropagation();var e=this.radioGroup&&this.value!==this.radioGroup.value;this.checked=!0,this._emitChangeEvent(),this.radioGroup&&(this.radioGroup._controlValueAccessorChangeFn(this.value),e&&this.radioGroup._emitChangeEvent())}},{key:"_setDisabled",value:function(t){this._disabled!==t&&(this._disabled=t,this._changeDetector.markForCheck())}},{key:"checked",get:function(){return this._checked},set:function(t){var e=Object(y.c)(t);this._checked!==e&&(this._checked=e,e&&this.radioGroup&&this.radioGroup.value!==this.value?this.radioGroup.selected=this:!e&&this.radioGroup&&this.radioGroup.value===this.value&&(this.radioGroup.selected=null),e&&this._radioDispatcher.notify(this.id,this.name),this._changeDetector.markForCheck())}},{key:"value",get:function(){return this._value},set:function(t){this._value!==t&&(this._value=t,null!==this.radioGroup&&(this.checked||(this.checked=this.radioGroup.value===t),this.checked&&(this.radioGroup.selected=this)))}},{key:"labelPosition",get:function(){return this._labelPosition||this.radioGroup&&this.radioGroup.labelPosition||"after"},set:function(t){this._labelPosition=t}},{key:"disabled",get:function(){return this._disabled||null!==this.radioGroup&&this.radioGroup.disabled},set:function(t){this._setDisabled(Object(y.c)(t))}},{key:"required",get:function(){return this._required||this.radioGroup&&this.radioGroup.required},set:function(t){this._required=Object(y.c)(t)}},{key:"color",get:function(){return this._color||this.radioGroup&&this.radioGroup.color||this._providerOverride&&this._providerOverride.color||"accent"},set:function(t){this._color=t}},{key:"inputId",get:function(){return"".concat(this.id||this._uniqueId,"-input")}}]),i}(Vo);return t.\u0275fac=function(e){return new(e||t)(r.Nb(Po),r.Nb(r.l),r.Nb(r.h),r.Nb(jt.f),r.Nb(N),r.Nb(String),r.Nb(void 0),r.Nb(String))},t.\u0275dir=r.Ib({type:t,viewQuery:function(t,e){var i;1&t&&r.Nc(Io,!0),2&t&&r.tc(i=r.fc())&&(e._inputElement=i.first)},inputs:{id:"id",checked:"checked",value:"value",labelPosition:"labelPosition",disabled:"disabled",required:"required",color:"color",name:"name",ariaLabel:["aria-label","ariaLabel"],ariaLabelledby:["aria-labelledby","ariaLabelledby"],ariaDescribedby:["aria-describedby","ariaDescribedby"]},outputs:{change:"change"},features:[r.xb]}),t}(),Uo=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n,a,r,c,s,b){return Object(v.a)(this,i),e.call(this,t,o,n,a,r,c,s,b)}return i}(Lo);return t.\u0275fac=function(e){return new(e||t)(r.Nb(Do,8),r.Nb(r.l),r.Nb(r.h),r.Nb(jt.f),r.Nb(N),r.Nb(Se.a,8),r.Nb(xo,8),r.cc("tabindex"))},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-radio-button"]],hostAttrs:[1,"mat-radio-button"],hostVars:17,hostBindings:function(t,e){1&t&&r.ec("focus",(function(){return e._inputElement.nativeElement.focus()})),2&t&&(r.Bb("tabindex",-1)("id",e.id)("aria-label",null)("aria-labelledby",null)("aria-describedby",null),r.Fb("mat-radio-checked",e.checked)("mat-radio-disabled",e.disabled)("_mat-animation-noopable","NoopAnimations"===e._animationMode)("mat-primary","primary"===e.color)("mat-accent","accent"===e.color)("mat-warn","warn"===e.color))},inputs:{disableRipple:"disableRipple",tabIndex:"tabIndex"},exportAs:["matRadioButton"],features:[r.xb],ngContentSelectors:Mo,decls:13,vars:19,consts:[[1,"mat-radio-label"],["label",""],[1,"mat-radio-container"],[1,"mat-radio-outer-circle"],[1,"mat-radio-inner-circle"],["type","radio",1,"mat-radio-input","cdk-visually-hidden",3,"id","checked","disabled","tabIndex","required","change","click"],["input",""],["mat-ripple","",1,"mat-radio-ripple","mat-focus-indicator",3,"matRippleTrigger","matRippleDisabled","matRippleCentered","matRippleRadius","matRippleAnimation"],[1,"mat-ripple-element","mat-radio-persistent-ripple"],[1,"mat-radio-label-content"],[2,"display","none"]],template:function(t,e){if(1&t&&(r.lc(),r.Tb(0,"label",0,1),r.Tb(2,"div",2),r.Ob(3,"div",3),r.Ob(4,"div",4),r.Tb(5,"input",5,6),r.ec("change",(function(t){return e._onInputChange(t)}))("click",(function(t){return e._onInputClick(t)})),r.Sb(),r.Tb(7,"div",7),r.Ob(8,"div",8),r.Sb(),r.Sb(),r.Tb(9,"div",9),r.Tb(10,"span",10),r.Hc(11,"\xa0"),r.Sb(),r.kc(12),r.Sb(),r.Sb()),2&t){var i=r.uc(1);r.Bb("for",e.inputId),r.Ab(5),r.mc("id",e.inputId)("checked",e.checked)("disabled",e.disabled)("tabIndex",e.tabIndex)("required",e.required),r.Bb("name",e.name)("value",e.value)("aria-label",e.ariaLabel)("aria-labelledby",e.ariaLabelledby)("aria-describedby",e.ariaDescribedby),r.Ab(2),r.mc("matRippleTrigger",i)("matRippleDisabled",e._isRippleDisabled())("matRippleCentered",!0)("matRippleRadius",20)("matRippleAnimation",r.pc(18,Co)),r.Ab(2),r.Fb("mat-radio-label-before","before"==e.labelPosition)}},directives:[Ct.j],styles:[".mat-radio-button{display:inline-block;-webkit-tap-highlight-color:transparent;outline:0}.mat-radio-label{-webkit-user-select:none;-moz-user-select:none;-ms-user-select:none;user-select:none;cursor:pointer;display:inline-flex;align-items:center;white-space:nowrap;vertical-align:middle;width:100%}.mat-radio-container{box-sizing:border-box;display:inline-block;position:relative;width:20px;height:20px;flex-shrink:0}.mat-radio-outer-circle{box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:border-color ease 280ms;width:20px;border-width:2px;border-style:solid;border-radius:50%}._mat-animation-noopable .mat-radio-outer-circle{transition:none}.mat-radio-inner-circle{border-radius:50%;box-sizing:border-box;height:20px;left:0;position:absolute;top:0;transition:transform ease 280ms,background-color ease 280ms;width:20px;transform:scale(0.001)}._mat-animation-noopable .mat-radio-inner-circle{transition:none}.mat-radio-checked .mat-radio-inner-circle{transform:scale(0.5)}.cdk-high-contrast-active .mat-radio-checked .mat-radio-inner-circle{border:solid 10px}.mat-radio-label-content{-webkit-user-select:auto;-moz-user-select:auto;-ms-user-select:auto;user-select:auto;display:inline-block;order:0;line-height:inherit;padding-left:8px;padding-right:0}[dir=rtl] .mat-radio-label-content{padding-right:8px;padding-left:0}.mat-radio-label-content.mat-radio-label-before{order:-1;padding-left:0;padding-right:8px}[dir=rtl] .mat-radio-label-content.mat-radio-label-before{padding-right:0;padding-left:8px}.mat-radio-disabled,.mat-radio-disabled .mat-radio-label{cursor:default}.mat-radio-button .mat-radio-ripple{position:absolute;left:calc(50% - 20px);top:calc(50% - 20px);height:40px;width:40px;z-index:1;pointer-events:none}.mat-radio-button .mat-radio-ripple .mat-ripple-element:not(.mat-radio-persistent-ripple){opacity:.16}.mat-radio-persistent-ripple{width:100%;height:100%;transform:none}.mat-radio-container:hover .mat-radio-persistent-ripple{opacity:.04}.mat-radio-button:not(.mat-radio-disabled).cdk-keyboard-focused .mat-radio-persistent-ripple,.mat-radio-button:not(.mat-radio-disabled).cdk-program-focused .mat-radio-persistent-ripple{opacity:.12}.mat-radio-persistent-ripple,.mat-radio-disabled .mat-radio-container:hover .mat-radio-persistent-ripple{opacity:0}@media(hover: none){.mat-radio-container:hover .mat-radio-persistent-ripple{display:none}}.mat-radio-input{bottom:0;left:50%}.cdk-high-contrast-active .mat-radio-disabled{opacity:.5}\n"],encapsulation:2,changeDetection:0}),t}(),$o=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[Ct.k,Ct.f],Ct.f]}),t}();function Bo(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",31),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Hc(6),r.Sb(),r.Tb(7,"td"),r.Tb(8,"button",27),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminavocedirettifica(t)})),r.Hc(9,"Dissocia"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.vocedirettifica),r.Ab(2),r.Ic(o.valore),r.Ab(2),r.Ic(o.descrizione)}}function Go(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",31),r.Tb(1,"td"),r.Hc(2),r.hc(3,"date"),r.Sb(),r.Tb(4,"td"),r.Hc(5),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.Sb(),r.Tb(8,"td"),r.Hc(9),r.Sb(),r.Tb(10,"td"),r.Hc(11),r.Sb(),r.Tb(12,"td"),r.Hc(13),r.Sb(),r.Tb(14,"td"),r.Hc(15),r.Sb(),r.Tb(16,"td"),r.Hc(17),r.Sb(),r.Tb(18,"td"),r.Hc(19),r.Sb(),r.Tb(20,"td"),r.Tb(21,"button",27),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminaquotazione(t)})),r.Hc(22,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(r.jc(3,12,o.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.prezzogasolioself),r.Ab(2),r.Ic(o.prezzobenzinaself),r.Ab(2),r.Ic(o.prezzosupremeself),r.Ab(2),r.Ic(o.prezzogasolio),r.Ab(2),r.Ic(o.prezzobenzina),r.Ab(2),r.Ic(o.prezzosupreme),r.Ab(2),r.Ic(o.prezzogpl),r.Ab(2),r.Mc("",o.marginecessionegasolio,"%, ",o.marginecessionebenzina,"%, ",o.marginecessionesupreme,"%, ",o.marginecessionegpl,"%,")}}function Wo(t,e){1&t&&(r.Tb(0,"button",32),r.Hc(1,"Crea Punto Vendita"),r.Sb())}function Jo(t,e){1&t&&(r.Tb(0,"button",32),r.Hc(1,"Aggiorna Punto Vendita"),r.Sb())}var Yo={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Xo=function(){function t(t,e,i,o,n){this.router=t,this.dialog=e,this.toastr=i,this.gestioneclienteservice=o,this.formBuilder=n,this.dtTrigger=new b.a,this.dtOptions={},this.tableRows=[],this.dtTriggerquotazioni=new b.a,this.dtOptionsquotazioni={},this.tableRowsquotazioni=[],this.puntovendita=this.gestioneclienteservice.puntovenditaselezionato}return t.prototype.ngOnInit=function(){this.aggiungipuntovenditaform=this.formBuilder.group({nome:["",a.s.compose([a.s.required])],via:[""],citta:[""],provincia:[""],cap:[""],codicedestinazione:[""],email:[""],allservito:!1}),this.dtOptions={paging:!1,searching:!1,info:!1,ordering:!1,language:Yo},this.dtOptionsquotazioni={language:Yo},void 0!==this.puntovendita&&(this.tableRows=this.puntovendita.puntovendita.listavocidirettifica,this.tableRowsquotazioni=this.puntovendita.puntovendita.quotazioni,this.aggiungipuntovenditaform.controls.nome.setValue(this.puntovendita.puntovendita.nome),this.aggiungipuntovenditaform.controls.via.setValue(this.puntovendita.puntovendita.via),this.aggiungipuntovenditaform.controls.citta.setValue(this.puntovendita.puntovendita.citta),this.aggiungipuntovenditaform.controls.provincia.setValue(this.puntovendita.puntovendita.provincia),this.aggiungipuntovenditaform.controls.cap.setValue(this.puntovendita.puntovendita.cap),this.aggiungipuntovenditaform.controls.codicedestinazione.setValue(this.puntovendita.puntovendita.codicedestinazione),this.aggiungipuntovenditaform.controls.email.setValue(this.puntovendita.puntovendita.email),this.aggiungipuntovenditaform.controls.allservito.setValue(this.puntovendita.puntovendita.allservito))},t.prototype.tornaindietro=function(){this.gestioneclienteservice.puntovenditaselezionato=void 0,this.router.navigate(["/admin/gestionepuntivendita"])},t.prototype.eliminavocedirettifica=function(t){var e=this,i=this.tableRows.indexOf(t);-1!==i&&this.gestioneclienteservice.cancellavocedirettificaapuntovendita(this.puntovendita.puntovendita,t.id).subscribe((function(t){t&&(e.tableRows.splice(i,1),e.rerender())}))},t.prototype.aggiungivocedirettifica=function(){var t=this;this.dialog.open(wo,{width:"450px",data:new yo}).afterClosed().subscribe((function(e){void 0!==e&&t.gestioneclienteservice.aggiungivocedirettificaapuntovendita(e,t.puntovendita.puntovendita.idpunto).subscribe((function(i){i&&(t.tableRows.push(e),t.rerender())}))}))},t.prototype.aggiungipuntovendita=function(){var t=this,e=new ve;void 0!==this.puntovendita&&(e.idpunto=this.puntovendita.puntovendita.idpunto);var i=this.aggiungipuntovenditaform.controls.via.value,o=this.aggiungipuntovenditaform.controls.citta.value,n=this.aggiungipuntovenditaform.controls.provincia.value,a=this.aggiungipuntovenditaform.controls.cap.value,r=this.aggiungipuntovenditaform.controls.codicedestinazione.value,c=this.aggiungipuntovenditaform.controls.email.value,s=this.aggiungipuntovenditaform.controls.allservito.value;e.nome=this.aggiungipuntovenditaform.controls.nome.value,e.via=i,e.citta=o,e.provincia=n,e.cap=a,e.codicedestinazione=r,e.listavocidirettifica=this.tableRows,e.quotazioni=this.tableRowsquotazioni,e.email=c,e.allservito=s,this.gestioneclienteservice.aggiungipuntovendita(e).subscribe((function(e){t.tornaindietro()}))},t.prototype.issolovendita=function(){return!!this.aggiungipuntovenditaform.controls.allservito.value},t.prototype.aggiungiquotazione=function(){var t=this,e=this.getprezzodipuntovenditapergiornopreventivo();void 0===e&&(e=new Ui),e.data=new Date,e.id=void 0,this.dialog.open(this.aggiungipuntovenditaform.controls.allservito.value?Ho:ko,{width:"450px",data:e}).afterClosed().subscribe((function(e){void 0!==e&&t.gestioneclienteservice.aggiungiquotazione(e,t.puntovendita.puntovendita.idpunto).subscribe((function(e){t.puntovendita.puntovendita=e,t.tableRowsquotazioni=e.quotazioni,t.tableRows=e.listavocidirettifica,t.rerender()}))}))},t.prototype.getprezzodipuntovenditapergiornopreventivo=function(){for(var t=0,e=this.puntovendita.puntovendita.quotazioni;t<e.length;t++){var i=e[t];if(this.sameDay(i.data,new Date))return i}return this.getdatapassatapiuvicina()},t.prototype.getdatapassatapiuvicina=function(){for(var t=0,e=void 0,i=0,o=this.puntovendita.puntovendita.quotazioni;i<o.length;i++){var n=o[i],a=this.getdifferenzadate(n.data,new Date);(0===t||a<t)&&(t=a,e=n)}return e},t.prototype.getdifferenzadate=function(t,e){var i=new Date(t),o=new Date(e);return Math.abs(i.getTime()-o.getTime())},t.prototype.sameDay=function(t,e){var i=new Date(t),o=new Date(e);return i.getFullYear()===o.getFullYear()&&i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()},t.prototype.eliminaquotazione=function(t){var e=this;this.gestioneclienteservice.rimuoviquotazione(t).subscribe((function(t){e.puntovendita.puntovendita=t,e.tableRowsquotazioni=t.quotazioni,e.tableRows=t.listavocidirettifica,e.rerender()}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next(),this.dtTriggerquotazioni.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe(),this.dtTriggerquotazioni.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElements.forEach((function(e,i){e.dtInstance.then((function(e){e.destroy(),0===i&&t.dtTrigger.next(),1===i&&t.dtTriggerquotazioni.next()}))}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(ne.b),r.Nb(pe),r.Nb(a.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungimodificapuntovendita"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElements=i)},decls:112,vars:16,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col-md-6"],[1,"example-full-width"],["matInput","","placeholder","Nome","formControlName","nome",3,"autofocus"],["matInput","","placeholder","Via","type","text","formControlName","via"],["matInput","","placeholder","Citt\xe0","formControlName","citta",3,"autofocus"],["matInput","","placeholder","Provincia","type","text","formControlName","provincia"],["matInput","","placeholder","CAP","formControlName","cap",3,"autofocus"],["matInput","","placeholder","Codice destinazione","type","text","formControlName","codicedestinazione"],["matInput","","placeholder","Email","formControlName","email",3,"autofocus"],["aria-label","All servito","formControlName","allservito"],[3,"value"],[2,"text-align","center"],[1,"col-md-1"],[1,"col-md-10"],["datatable","","id","tabellavoci",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],[1,"col-md-10","text-center"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],["datatable","","id","tabellaquotazioni",1,"row-border","hover",3,"dtOptions","dtTrigger"],["mat-raised-button","","type","submit","class","btn btn-rose pull-right",4,"ngIf"],[1,"clearfix"],[1,"manina"],["mat-raised-button","","type","submit",1,"btn","btn-rose","pull-right"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Scheda Punto Vendita"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"form",9),r.ec("ngSubmit",(function(){return e.aggiungipuntovendita()})),r.Tb(12,"div",3),r.Tb(13,"div",10),r.Tb(14,"mat-form-field",11),r.Ob(15,"input",12),r.Sb(),r.Sb(),r.Tb(16,"div",10),r.Tb(17,"mat-form-field",11),r.Ob(18,"input",13),r.Sb(),r.Sb(),r.Sb(),r.Tb(19,"div",3),r.Tb(20,"div",10),r.Tb(21,"mat-form-field",11),r.Ob(22,"input",14),r.Sb(),r.Sb(),r.Tb(23,"div",10),r.Tb(24,"mat-form-field",11),r.Ob(25,"input",15),r.Sb(),r.Sb(),r.Sb(),r.Tb(26,"div",3),r.Tb(27,"div",10),r.Tb(28,"mat-form-field",11),r.Ob(29,"input",16),r.Sb(),r.Sb(),r.Tb(30,"div",10),r.Tb(31,"mat-form-field",11),r.Ob(32,"input",17),r.Sb(),r.Sb(),r.Sb(),r.Tb(33,"div",3),r.Tb(34,"div",10),r.Tb(35,"mat-form-field",11),r.Ob(36,"input",18),r.Sb(),r.Sb(),r.Tb(37,"div",10),r.Tb(38,"mat-radio-group",19),r.Tb(39,"mat-radio-button",20),r.Hc(40,"Solo servito"),r.Sb(),r.Tb(41,"mat-radio-button",20),r.Hc(42,"Misto"),r.Sb(),r.Tb(43,"mat-radio-button",20),r.Hc(44,"Gestione diretta"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(45,"br"),r.Tb(46,"h3",21),r.Hc(47,"Voci di rettifica"),r.Sb(),r.Tb(48,"div",3),r.Ob(49,"div",22),r.Tb(50,"div",23),r.Tb(51,"table",24),r.Tb(52,"thead"),r.Tb(53,"tr"),r.Tb(54,"th"),r.Hc(55,"Voce di rettifica"),r.Sb(),r.Tb(56,"th"),r.Hc(57,"Valore"),r.Sb(),r.Tb(58,"th"),r.Hc(59,"Descrizione"),r.Sb(),r.Tb(60,"th"),r.Hc(61,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(62,"tbody"),r.Fc(63,Bo,10,3,"tr",25),r.Sb(),r.Sb(),r.Sb(),r.Ob(64,"div",22),r.Sb(),r.Ob(65,"br"),r.Tb(66,"div",3),r.Ob(67,"div",22),r.Tb(68,"div",26),r.Tb(69,"button",27),r.ec("click",(function(){return e.aggiungivocedirettifica()})),r.Hc(70,"Aggiungi Voce di rettifica"),r.Sb(),r.Sb(),r.Ob(71,"div",22),r.Sb(),r.Ob(72,"br"),r.Tb(73,"h3",21),r.Hc(74,"Prezzi giornalieri"),r.Sb(),r.Tb(75,"div",3),r.Tb(76,"div",4),r.Tb(77,"table",28),r.Tb(78,"thead"),r.Tb(79,"tr"),r.Tb(80,"th"),r.Hc(81,"Data"),r.Sb(),r.Tb(82,"th"),r.Hc(83,"Prezzo Gasolio Self"),r.Sb(),r.Tb(84,"th"),r.Hc(85,"Prezzo Benzina Self"),r.Sb(),r.Tb(86,"th"),r.Hc(87,"Prezzo Supreme Self"),r.Sb(),r.Tb(88,"th"),r.Hc(89,"Prezzo Gasolio"),r.Sb(),r.Tb(90,"th"),r.Hc(91,"Prezzo Benzina"),r.Sb(),r.Tb(92,"th"),r.Hc(93,"Prezzo Supreme"),r.Sb(),r.Tb(94,"th"),r.Hc(95,"Prezzo GPL"),r.Sb(),r.Tb(96,"th"),r.Hc(97,"Margini (Gasolio - Benzina - Supreme - GPL)"),r.Sb(),r.Tb(98,"th"),r.Hc(99,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(100,"tbody"),r.Fc(101,Go,23,15,"tr",25),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(102,"br"),r.Tb(103,"div",3),r.Ob(104,"div",22),r.Tb(105,"div",26),r.Tb(106,"button",27),r.ec("click",(function(){return e.aggiungiquotazione()})),r.Hc(107,"Aggiungi Prezzo"),r.Sb(),r.Sb(),r.Ob(108,"div",22),r.Sb(),r.Fc(109,Wo,2,0,"button",29),r.Fc(110,Jo,2,0,"button",29),r.Ob(111,"div",30),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(11),r.mc("formGroup",e.aggiungipuntovenditaform),r.Ab(4),r.mc("autofocus",!0),r.Ab(7),r.mc("autofocus",!0),r.Ab(7),r.mc("autofocus",!0),r.Ab(7),r.mc("autofocus",!0),r.Ab(3),r.mc("value",1),r.Ab(2),r.mc("value",2),r.Ab(2),r.mc("value",3),r.Ab(8),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(12),r.mc("ngForOf",e.tableRows),r.Ab(14),r.mc("dtOptions",e.dtOptionsquotazioni)("dtTrigger",e.dtTriggerquotazioni),r.Ab(24),r.mc("ngForOf",e.tableRowsquotazioni),r.Ab(8),r.mc("ngIf",void 0===e.puntovendita),r.Ab(1),r.mc("ngIf",void 0!==e.puntovendita))},directives:[ie.a,a.u,a.m,a.g,ui.b,di.a,a.b,a.l,a.f,Fo,Uo,c,n.n,n.o],pipes:[n.f],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}.mat-radio-button[_ngcontent-%COMP%] ~ .mat-radio-button[_ngcontent-%COMP%]{margin-left:16px;margin-top:10px}"]}),t}(),Qo=function(){return function(){}}(),Zo=i("lJxs"),Ko=function(){return function(){}}(),tn=i("vkgz"),en=i("3E0/"),on=["panel"];function nn(t,e){if(1&t&&(r.Tb(0,"div",0,1),r.kc(2),r.Sb()),2&t){var i=r.gc();r.mc("id",i.id)("ngClass",i._classList)}}var an=["*"],rn=0,cn=function t(e,i){Object(v.a)(this,t),this.source=e,this.option=i},sn=function t(){Object(v.a)(this,t)},bn=Object(Ct.p)(sn),ln=new r.r("mat-autocomplete-default-options",{providedIn:"root",factory:function(){return{autoActiveFirstOption:!1}}}),un=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(t,o,n){var a;return Object(v.a)(this,i),(a=e.call(this))._changeDetectorRef=t,a._elementRef=o,a._activeOptionChanges=w.a.EMPTY,a.showPanel=!1,a._isOpen=!1,a.displayWith=null,a.optionSelected=new r.o,a.opened=new r.o,a.closed=new r.o,a.optionActivated=new r.o,a._classList={},a.id="mat-autocomplete-".concat(rn++),a._autoActiveFirstOption=!!n.autoActiveFirstOption,a}return Object(g.a)(i,[{key:"ngAfterContentInit",value:function(){var t=this;this._keyManager=new jt.b(this.options).withWrap(),this._activeOptionChanges=this._keyManager.change.subscribe((function(e){t.optionActivated.emit({source:t,option:t.options.toArray()[e]||null})})),this._setVisibility()}},{key:"ngOnDestroy",value:function(){this._activeOptionChanges.unsubscribe()}},{key:"_setScrollTop",value:function(t){this.panel&&(this.panel.nativeElement.scrollTop=t)}},{key:"_getScrollTop",value:function(){return this.panel?this.panel.nativeElement.scrollTop:0}},{key:"_setVisibility",value:function(){this.showPanel=!!this.options.length,this._setVisibilityClasses(this._classList),this._changeDetectorRef.markForCheck()}},{key:"_emitSelectEvent",value:function(t){var e=new cn(this,t);this.optionSelected.emit(e)}},{key:"_setVisibilityClasses",value:function(t){t[this._visibleClass]=this.showPanel,t[this._hiddenClass]=!this.showPanel}},{key:"isOpen",get:function(){return this._isOpen&&this.showPanel}},{key:"autoActiveFirstOption",get:function(){return this._autoActiveFirstOption},set:function(t){this._autoActiveFirstOption=Object(y.c)(t)}},{key:"classList",set:function(t){this._classList=t&&t.length?t.split(" ").reduce((function(t,e){return t[e.trim()]=!0,t}),{}):{},this._setVisibilityClasses(this._classList),this._elementRef.nativeElement.className=""}}]),i}(bn);return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.h),r.Nb(r.l),r.Nb(ln))},t.\u0275dir=r.Ib({type:t,viewQuery:function(t,e){var i;1&t&&(r.Bc(r.M,!0),r.Nc(on,!0)),2&t&&(r.tc(i=r.fc())&&(e.template=i.first),r.tc(i=r.fc())&&(e.panel=i.first))},inputs:{displayWith:"displayWith",autoActiveFirstOption:"autoActiveFirstOption",classList:["class","classList"],panelWidth:"panelWidth"},outputs:{optionSelected:"optionSelected",opened:"opened",closed:"closed",optionActivated:"optionActivated"},features:[r.xb]}),t}(),dn=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(){var t;return Object(v.a)(this,i),(t=e.apply(this,arguments))._visibleClass="mat-autocomplete-visible",t._hiddenClass="mat-autocomplete-hidden",t}return i}(un);return t.\u0275fac=function(e){return pn(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["mat-autocomplete"]],contentQueries:function(t,e,i){var o;1&t&&(r.Gb(i,Ct.c,!0),r.Gb(i,Ct.g,!0)),2&t&&(r.tc(o=r.fc())&&(e.optionGroups=o),r.tc(o=r.fc())&&(e.options=o))},hostAttrs:[1,"mat-autocomplete"],inputs:{disableRipple:"disableRipple"},exportAs:["matAutocomplete"],features:[r.zb([{provide:Ct.d,useExisting:t}]),r.xb],ngContentSelectors:an,decls:1,vars:0,consts:[["role","listbox",1,"mat-autocomplete-panel",3,"id","ngClass"],["panel",""]],template:function(t,e){1&t&&(r.lc(),r.Fc(0,nn,3,2,"ng-template"))},directives:[n.m],styles:[".mat-autocomplete-panel{min-width:112px;max-width:280px;overflow:auto;-webkit-overflow-scrolling:touch;visibility:hidden;max-width:none;max-height:256px;position:relative;width:100%;border-bottom-left-radius:4px;border-bottom-right-radius:4px}.mat-autocomplete-panel.mat-autocomplete-visible{visibility:visible}.mat-autocomplete-panel.mat-autocomplete-hidden{visibility:hidden}.mat-autocomplete-panel-above .mat-autocomplete-panel{border-radius:0;border-top-left-radius:4px;border-top-right-radius:4px}.mat-autocomplete-panel .mat-divider-horizontal{margin-top:-1px}.cdk-high-contrast-active .mat-autocomplete-panel{outline:solid 1px}\n"],encapsulation:2,changeDetection:0}),t}(),pn=r.Vb(dn),gn=new r.r("mat-autocomplete-scroll-strategy"),fn={provide:gn,deps:[kt],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},hn={provide:a.j,useExisting:Object(r.U)((function(){return mn})),multi:!0},vn=function(){var t=function(){function t(e,i,o,n,a,r,c,s,l,u){var d=this;Object(v.a)(this,t),this._element=e,this._overlay=i,this._viewContainerRef=o,this._zone=n,this._changeDetectorRef=a,this._dir=c,this._formField=s,this._document=l,this._viewportRuler=u,this._componentDestroyed=!1,this._autocompleteDisabled=!1,this._manuallyFloatingLabel=!1,this._viewportSubscription=w.a.EMPTY,this._canOpenOnNextFocus=!0,this._closeKeyEventStream=new b.a,this._windowBlurHandler=function(){d._canOpenOnNextFocus=d._document.activeElement!==d._element.nativeElement||d.panelOpen},this._onChange=function(){},this._onTouched=function(){},this.position="auto",this.autocompleteAttribute="off",this._overlayAttached=!1,this.optionSelections=Object(Mt.a)((function(){return d.autocomplete&&d.autocomplete.options?Z.a.apply(void 0,Object(me.a)(d.autocomplete.options.map((function(t){return t.onSelectionChange})))):d._zone.onStable.pipe(Object(K.a)(1),Object(x.a)((function(){return d.optionSelections})))})),this._scrollStrategy=r}return Object(g.a)(t,[{key:"ngAfterViewInit",value:function(){var t=this,e=this._getWindow();void 0!==e&&this._zone.runOutsideAngular((function(){return e.addEventListener("blur",t._windowBlurHandler)}))}},{key:"ngOnChanges",value:function(t){t.position&&this._positionStrategy&&(this._setStrategyPositions(this._positionStrategy),this.panelOpen&&this._overlayRef.updatePosition())}},{key:"ngOnDestroy",value:function(){var t=this._getWindow();void 0!==t&&t.removeEventListener("blur",this._windowBlurHandler),this._viewportSubscription.unsubscribe(),this._componentDestroyed=!0,this._destroyPanel(),this._closeKeyEventStream.complete()}},{key:"openPanel",value:function(){this._attachOverlay(),this._floatLabel()}},{key:"closePanel",value:function(){this._resetLabel(),this._overlayAttached&&(this.panelOpen&&this.autocomplete.closed.emit(),this.autocomplete._isOpen=this._overlayAttached=!1,this._overlayRef&&this._overlayRef.hasAttached()&&(this._overlayRef.detach(),this._closingActionsSubscription.unsubscribe()),this._componentDestroyed||this._changeDetectorRef.detectChanges())}},{key:"updatePosition",value:function(){this._overlayAttached&&this._overlayRef.updatePosition()}},{key:"_getOutsideClickStream",value:function(){var t=this;return Object(Z.a)(Object(O.a)(this._document,"click"),Object(O.a)(this._document,"touchend")).pipe(Object(I.a)((function(e){var i=t._isInsideShadowRoot&&e.composedPath?e.composedPath()[0]:e.target,o=t._formField?t._formField._elementRef.nativeElement:null,n=t.connectedTo?t.connectedTo.elementRef.nativeElement:null;return t._overlayAttached&&i!==t._element.nativeElement&&(!o||!o.contains(i))&&(!n||!n.contains(i))&&!!t._overlayRef&&!t._overlayRef.overlayElement.contains(i)})))}},{key:"writeValue",value:function(t){var e=this;Promise.resolve(null).then((function(){return e._setTriggerValue(t)}))}},{key:"registerOnChange",value:function(t){this._onChange=t}},{key:"registerOnTouched",value:function(t){this._onTouched=t}},{key:"setDisabledState",value:function(t){this._element.nativeElement.disabled=t}},{key:"_handleKeydown",value:function(t){var e=t.keyCode;if(e===tt.e&&t.preventDefault(),this.activeOption&&e===tt.d&&this.panelOpen)this.activeOption._selectViaInteraction(),this._resetActiveItem(),t.preventDefault();else if(this.autocomplete){var i=this.autocomplete._keyManager.activeItem,o=e===tt.l||e===tt.b;this.panelOpen||e===tt.k?this.autocomplete._keyManager.onKeydown(t):o&&this._canOpen()&&this.openPanel(),(o||this.autocomplete._keyManager.activeItem!==i)&&this._scrollToOption(this.autocomplete._keyManager.activeItemIndex||0)}}},{key:"_handleInput",value:function(t){var e=t.target,i=e.value;"number"===e.type&&(i=""==i?null:parseFloat(i)),this._previousValue!==i&&(this._previousValue=i,this._onChange(i),this._canOpen()&&this._document.activeElement===t.target&&this.openPanel())}},{key:"_handleFocus",value:function(){this._canOpenOnNextFocus?this._canOpen()&&(this._previousValue=this._element.nativeElement.value,this._attachOverlay(),this._floatLabel(!0)):this._canOpenOnNextFocus=!0}},{key:"_floatLabel",value:function(){var t=arguments.length>0&&void 0!==arguments[0]&&arguments[0];this._formField&&"auto"===this._formField.floatLabel&&(t?this._formField._animateAndLockLabel():this._formField.floatLabel="always",this._manuallyFloatingLabel=!0)}},{key:"_resetLabel",value:function(){this._manuallyFloatingLabel&&(this._formField.floatLabel="auto",this._manuallyFloatingLabel=!1)}},{key:"_subscribeToClosingActions",value:function(){var t=this,e=this._zone.onStable.pipe(Object(K.a)(1)),i=this.autocomplete.options.changes.pipe(Object(tn.a)((function(){return t._positionStrategy.reapplyLastPosition()})),Object(en.a)(0));return Object(Z.a)(e,i).pipe(Object(x.a)((function(){var e=t.panelOpen;return t._resetActiveItem(),t.autocomplete._setVisibility(),t.panelOpen&&(t._overlayRef.updatePosition(),e!==t.panelOpen&&t.autocomplete.opened.emit()),t.panelClosingActions})),Object(K.a)(1)).subscribe((function(e){return t._setValueAndClose(e)}))}},{key:"_destroyPanel",value:function(){this._overlayRef&&(this.closePanel(),this._overlayRef.dispose(),this._overlayRef=null)}},{key:"_setTriggerValue",value:function(t){var e=this.autocomplete&&this.autocomplete.displayWith?this.autocomplete.displayWith(t):t,i=null!=e?e:"";this._formField?this._formField._control.value=i:this._element.nativeElement.value=i,this._previousValue=i}},{key:"_setValueAndClose",value:function(t){t&&t.source&&(this._clearPreviousSelectedOption(t.source),this._setTriggerValue(t.source.value),this._onChange(t.source.value),this._element.nativeElement.focus(),this.autocomplete._emitSelectEvent(t.source)),this.closePanel()}},{key:"_clearPreviousSelectedOption",value:function(t){this.autocomplete.options.forEach((function(e){e!=t&&e.selected&&e.deselect()}))}},{key:"_attachOverlay",value:function(){var t=this;null==this._isInsideShadowRoot&&(this._isInsideShadowRoot=!!Object(j.c)(this._element.nativeElement));var e=this._overlayRef;e?(this._positionStrategy.setOrigin(this._getConnectedElement()),e.updateSize({width:this._getPanelWidth()})):(this._portal=new U(this.autocomplete.template,this._viewContainerRef),e=this._overlay.create(this._getOverlayConfig()),this._overlayRef=e,e.keydownEvents().subscribe((function(e){(e.keyCode===tt.e||e.keyCode===tt.l&&e.altKey)&&(t._resetActiveItem(),t._closeKeyEventStream.next(),e.stopPropagation(),e.preventDefault())})),this._viewportSubscription=this._viewportRuler.change().subscribe((function(){t.panelOpen&&e&&e.updateSize({width:t._getPanelWidth()})}))),e&&!e.hasAttached()&&(e.attach(this._portal),this._closingActionsSubscription=this._subscribeToClosingActions());var i=this.panelOpen;this.autocomplete._setVisibility(),this.autocomplete._isOpen=this._overlayAttached=!0,this.panelOpen&&i!==this.panelOpen&&this.autocomplete.opened.emit()}},{key:"_getOverlayConfig",value:function(){return new st({positionStrategy:this._getOverlayPosition(),scrollStrategy:this._scrollStrategy(),width:this._getPanelWidth(),direction:this._dir})}},{key:"_getOverlayPosition",value:function(){var t=this._overlay.position().flexibleConnectedTo(this._getConnectedElement()).withFlexibleDimensions(!1).withPush(!1);return this._setStrategyPositions(t),this._positionStrategy=t,t}},{key:"_setStrategyPositions",value:function(t){var e,i=[{originX:"start",originY:"bottom",overlayX:"start",overlayY:"top"},{originX:"end",originY:"bottom",overlayX:"end",overlayY:"top"}],o=this._aboveClass,n=[{originX:"start",originY:"top",overlayX:"start",overlayY:"bottom",panelClass:o},{originX:"end",originY:"top",overlayX:"end",overlayY:"bottom",panelClass:o}];e="above"===this.position?n:"below"===this.position?i:[].concat(i,n),t.withPositions(e)}},{key:"_getConnectedElement",value:function(){return this.connectedTo?this.connectedTo.elementRef:this._formField?this._formField.getConnectedOverlayOrigin():this._element}},{key:"_getPanelWidth",value:function(){return this.autocomplete.panelWidth||this._getHostWidth()}},{key:"_getHostWidth",value:function(){return this._getConnectedElement().nativeElement.getBoundingClientRect().width}},{key:"_resetActiveItem",value:function(){this.autocomplete._keyManager.setActiveItem(this.autocomplete.autoActiveFirstOption?0:-1)}},{key:"_canOpen",value:function(){var t=this._element.nativeElement;return!t.readOnly&&!t.disabled&&!this._autocompleteDisabled}},{key:"_getWindow",value:function(){var t;return(null===(t=this._document)||void 0===t?void 0:t.defaultView)||window}},{key:"_scrollToOption",value:function(t){var e=this.autocomplete,i=Object(Ct.m)(t,e.options,e.optionGroups);if(0===t&&1===i)e._setScrollTop(0);else{var o=e.options.toArray()[t];if(o){var n=o._getHostElement(),a=Object(Ct.n)(n.offsetTop,n.offsetHeight,e._getScrollTop(),e.panel.nativeElement.offsetHeight);e._setScrollTop(a)}}}},{key:"autocompleteDisabled",get:function(){return this._autocompleteDisabled},set:function(t){this._autocompleteDisabled=Object(y.c)(t)}},{key:"panelOpen",get:function(){return this._overlayAttached&&this.autocomplete.showPanel}},{key:"panelClosingActions",get:function(){var t=this;return Object(Z.a)(this.optionSelections,this.autocomplete._keyManager.tabOut.pipe(Object(I.a)((function(){return t._overlayAttached}))),this._closeKeyEventStream,this._getOutsideClickStream(),this._overlayRef?this._overlayRef.detachments().pipe(Object(I.a)((function(){return t._overlayAttached}))):Object(_.a)()).pipe(Object(Zo.a)((function(t){return t instanceof Ct.i?t:null})))}},{key:"activeOption",get:function(){return this.autocomplete&&this.autocomplete._keyManager?this.autocomplete._keyManager.activeItem:null}}]),t}();return t.\u0275fac=function(e){return new(e||t)(r.Nb(r.l),r.Nb(kt),r.Nb(r.Q),r.Nb(r.A),r.Nb(r.h),r.Nb(gn),r.Nb(R.b,8),r.Nb(ui.a,9),r.Nb(n.e,8),r.Nb(P))},t.\u0275dir=r.Ib({type:t,inputs:{position:["matAutocompletePosition","position"],autocompleteAttribute:["autocomplete","autocompleteAttribute"],autocompleteDisabled:["matAutocompleteDisabled","autocompleteDisabled"],autocomplete:["matAutocomplete","autocomplete"],connectedTo:["matAutocompleteConnectedTo","connectedTo"]},features:[r.yb]}),t}(),mn=function(){var t=function(t){Object(f.a)(i,t);var e=Object(h.a)(i);function i(){var t;return Object(v.a)(this,i),(t=e.apply(this,arguments))._aboveClass="mat-autocomplete-panel-above",t}return i}(vn);return t.\u0275fac=function(e){return Tn(e||t)},t.\u0275dir=r.Ib({type:t,selectors:[["input","matAutocomplete",""],["textarea","matAutocomplete",""]],hostAttrs:[1,"mat-autocomplete-trigger"],hostVars:7,hostBindings:function(t,e){1&t&&r.ec("focusin",(function(){return e._handleFocus()}))("blur",(function(){return e._onTouched()}))("input",(function(t){return e._handleInput(t)}))("keydown",(function(t){return e._handleKeydown(t)})),2&t&&r.Bb("autocomplete",e.autocompleteAttribute)("role",e.autocompleteDisabled?null:"combobox")("aria-autocomplete",e.autocompleteDisabled?null:"list")("aria-activedescendant",e.panelOpen&&e.activeOption?e.activeOption.id:null)("aria-expanded",e.autocompleteDisabled?null:e.panelOpen.toString())("aria-owns",e.autocompleteDisabled||!e.panelOpen||null==e.autocomplete?null:e.autocomplete.id)("aria-haspopup",!e.autocompleteDisabled)},exportAs:["matAutocompleteTrigger"],features:[r.zb([hn]),r.xb]}),t}(),Tn=r.Vb(mn),Sn=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[fn],imports:[[It,Ct.h,Ct.f,n.c],F,Ct.h,Ct.f]}),t}();function zn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",28),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().cambiafornitore(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.nomefornitore)}}function yn(t,e){if(1&t&&(r.Tb(0,"mat-option",29),r.Hc(1),r.Sb()),2&t){var i=e.$implicit;r.mc("value",i),r.Ab(1),r.Jc(" ",i.nomebasedicarico," ")}}function _n(t,e){if(1&t&&(r.Tb(0,"mat-option",29),r.Hc(1),r.Sb()),2&t){var i=e.$implicit;r.mc("value",i),r.Ab(1),r.Jc(" ",i.puntovendita.nome," ")}}function An(t,e){1&t&&(r.Tb(0,"button",30),r.Hc(1,"Aggiungi Fabbisogno"),r.Sb())}function On(t,e){1&t&&(r.Tb(0,"button",30),r.Hc(1,"Aggiorna Fabbisogno"),r.Sb())}var wn=function(){function t(t,e,i,o,n,r,c,s){var b=this;if(this.fabbisognoservice=t,this.fornitoriservice=e,this.basidicaricoservice=i,this.puntivenditaservice=o,this.router=n,this.toastr=r,this.dialog=c,this.formBuilder=s,this.fabbisogno=this.fabbisognoservice.fabbisognoselezionato,this.fornitoreselezionato=new Li,this.listabasidicarico=[],this.basedicaricocontrol=new a.d,this.basedicaricoselezionata=new xi,this.listapuntivendita=[],this.puntovenditacontrol=new a.d,this.puntovenditaselezionato=new ve,this.fornitoriservice.getfornitori().subscribe((function(t){b.listafornitori=t,t.length>0&&void 0===b.fabbisogno&&(b.fornitoreselezionato=t[0]),t.length>0&&void 0!==b.fabbisogno&&null==b.fabbisogno.fornitore&&(b.fornitoreselezionato=t[0])})),this.basidicaricoservice.getbasidicarico().subscribe((function(t){b.listabasidicarico=t})),this.puntivenditaservice.tuttipuntivenditaconcliente().subscribe((function(t){for(var e=0,i=t;e<i.length;e++)b.listapuntivendita.push(i[e])})),void 0!==this.fabbisogno){var l=new Ko;l.puntovendita=this.fabbisogno.puntoVendita,this.puntovenditacontrol.setValue(l),null!=this.fabbisogno.fornitore&&(this.fornitoreselezionato=this.fabbisogno.fornitore),null!=this.fabbisogno.basedicarico&&this.basedicaricocontrol.setValue(this.fabbisogno.basedicarico)}}return t.prototype.ngOnInit=function(){var t=this,e=new Date;if(this.aggiungifabbisognoform=this.formBuilder.group({fornitore:["",a.s.compose([a.s.required])],data:[e.toString,a.s.required],gasolio:["",a.s.required],benzina:["",a.s.required],supreme:["",a.s.required],gpl:["",a.s.required]}),this.filteredbasidicarico=this.basedicaricocontrol.valueChanges.pipe(Object(M.a)(""),Object(Zo.a)((function(t){return"string"==typeof t?t:t.nomebasedicarico})),Object(Zo.a)((function(e){return e?t._filterbase(e):t.listabasidicarico.slice()}))),this.filteredpuntovendita=this.puntovenditacontrol.valueChanges.pipe(Object(M.a)(""),Object(Zo.a)((function(t){return"string"==typeof t?t:t.puntovendita.nome})),Object(Zo.a)((function(e){return e?t._filterpuntovendita(e):t.listapuntivendita.slice()}))),void 0!==this.fabbisogno){this.aggiungifabbisognoform.controls.gpl.setValue(this.fabbisogno.gpl),this.aggiungifabbisognoform.controls.benzina.setValue(this.fabbisogno.benzina),this.aggiungifabbisognoform.controls.gasolio.setValue(this.fabbisogno.gasolio),this.aggiungifabbisognoform.controls.supreme.setValue(this.fabbisogno.supreme),this.aggiungifabbisognoform.controls.data.setValue(Object(n.y)(this.fabbisogno.data,"yyyy-MM-dd","en")),this.aggiungifabbisognoform.controls.puntovendita.setValue(this.fabbisogno.puntoVendita.nome),null!=this.fabbisogno.basedicarico&&this.aggiungifabbisognoform.controls.basedicarico.setValue(this.fabbisogno.basedicarico.nomebasedicarico),null!=this.fabbisogno.fornitore&&this.aggiungifabbisognoform.controls.fornitore.setValue(this.fabbisogno.fornitore.nomefornitore);var i=new Ko;i.puntovendita=this.fabbisogno.puntoVendita,this.puntovenditacontrol.setValue(i),null!=this.fabbisogno.fornitore&&(this.fornitoreselezionato=this.fabbisogno.fornitore),null!=this.fabbisogno.basedicarico&&this.basedicaricocontrol.setValue(this.fabbisogno.basedicarico)}},t.prototype.displaybasedicarico=function(t){return t&&t.nomebasedicarico?t.nomebasedicarico:""},t.prototype.displaypuntovendita=function(t){return t&&t.puntovendita.nome?t.puntovendita.nome:""},t.prototype._filterbase=function(t){var e=t.toLowerCase();return this.listabasidicarico.filter((function(t){return 0===t.nomebasedicarico.toLowerCase().indexOf(e)}))},t.prototype._filterpuntovendita=function(t){var e=t.toLowerCase();return this.listapuntivendita.filter((function(t){return 0===t.puntovendita.nome.toLowerCase().indexOf(e)}))},t.prototype.aggiungifabbisogno=function(){var t=this;this.dialog.open(oe,{data:{title:void 0!==this.fabbisogno?"Modifica":"Aggiunta",message:void 0!==this.fabbisogno?"Vuoi continuare con la modifica?":"Vuoi aggiungere il fabbisogno?"}}).afterClosed().subscribe((function(e){var i;!0===e&&(void 0===t.fabbisogno?((i=new Qo).gpl=t.aggiungifabbisognoform.controls.gpl.value,i.supreme=t.aggiungifabbisognoform.controls.supreme.value,i.benzina=t.aggiungifabbisognoform.controls.benzina.value,i.gasolio=t.aggiungifabbisognoform.controls.gasolio.value,i.puntoVendita=t.puntovenditacontrol.value.puntovendita,i.data=t.aggiungifabbisognoform.controls.data.value,i.basedicarico=t.basedicaricocontrol.value,i.fornitore=t.fornitoreselezionato,i.smaltito=!1,t.fabbisognoservice.aggiungifabbisogno(i).subscribe((function(e){t.toastr.success("Fabbisogno aggiunto!","Aggiunto!"),t.tornaindietro()}),(function(e){t.toastr.error("Ci sono alcuni errori nei dati inseriti","Errore!")}))):((i=t.fabbisogno).gpl=t.aggiungifabbisognoform.controls.gpl.value,i.supreme=t.aggiungifabbisognoform.controls.supreme.value,i.benzina=t.aggiungifabbisognoform.controls.benzina.value,i.gasolio=t.aggiungifabbisognoform.controls.gasolio.value,i.puntoVendita=t.puntovenditacontrol.value.puntovendita,i.data=t.aggiungifabbisognoform.controls.data.value,i.basedicarico=t.basedicaricocontrol.value,i.fornitore=t.fornitoreselezionato,t.fabbisognoservice.aggiungifabbisogno(i).subscribe((function(e){t.toastr.success("Fabbisogno modificato!","Modificato!"),t.tornaindietro()}),(function(e){t.toastr.error("Ci sono alcuni errori nei dati inseriti","Errore!")}))))}))},t.prototype.cambiapuntovendita=function(t){this.puntovenditaselezionato=t.puntovendita},t.prototype.cambiafornitore=function(t){this.fornitoreselezionato=t},t.prototype.cambiabasedicarico=function(t){this.basedicaricoselezionata=t},t.prototype.tornaindietro=function(){this.fabbisognoservice.fabbisognoselezionato=void 0,this.router.navigate(["/admin/fabbisogno"])},t.\u0275fac=function(e){return new(e||t)(r.Nb(p),r.Nb(Fi),r.Nb(ji),r.Nb(pe),r.Nb(o.c),r.Nb(ne.b),r.Nb(Jt),r.Nb(a.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungimodificafabbisogno"]],decls:57,vars:20,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col-md-3"],["matInput","","placeholder","Data","formControlName","data","type","date",3,"autofocus"],["ngbDropdown","",1,"d-inline-block",2,"height","20px"],["disabled","true","formControlName","fornitore","matInput","","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary",3,"ngModel","ngModelChange"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","type","button",3,"click",4,"ngFor","ngForOf"],[1,"example-full-width"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["auto2","matAutocomplete"],["matInput","","placeholder","Gasolio","formControlName","gasolio",3,"autofocus"],["matInput","","placeholder","Benzina","type","text","formControlName","benzina"],["matInput","","placeholder","Supreme","formControlName","supreme",3,"autofocus"],["matInput","","placeholder","GPL","type","text","formControlName","gpl"],["mat-raised-button","","type","submit","class","btn btn-rose pull-right",4,"ngIf"],[1,"clearfix"],["ngbDropdownItem","","type","button",3,"click"],[3,"value"],["mat-raised-button","","type","submit",1,"btn","btn-rose","pull-right"]],template:function(t,e){if(1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Aggiungi Fabbisogno"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"form",9),r.ec("ngSubmit",(function(){return e.aggiungifabbisogno()})),r.Tb(12,"div",3),r.Tb(13,"mat-form-field",10),r.Ob(14,"input",11),r.Sb(),r.Tb(15,"div",10),r.Tb(16,"mat-form-field"),r.Tb(17,"mat-label"),r.Hc(18,"Fornitore"),r.Sb(),r.Tb(19,"div",12),r.Tb(20,"input",13),r.ec("ngModelChange",(function(t){return e.fornitoreselezionato.nomefornitore=t})),r.Sb(),r.Tb(21,"div",14),r.Fc(22,zn,2,1,"button",15),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"div",10),r.Tb(24,"mat-form-field",16),r.Tb(25,"mat-label"),r.Hc(26,"Base di carico"),r.Sb(),r.Ob(27,"input",17),r.Tb(28,"mat-autocomplete",18,19),r.Fc(30,yn,2,2,"mat-option",20),r.hc(31,"async"),r.Sb(),r.Sb(),r.Sb(),r.Tb(32,"div",10),r.Tb(33,"mat-form-field",16),r.Tb(34,"mat-label"),r.Hc(35,"Punto Vendita"),r.Sb(),r.Ob(36,"input",17),r.Tb(37,"mat-autocomplete",18,21),r.Fc(39,_n,2,2,"mat-option",20),r.hc(40,"async"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(41,"div",3),r.Tb(42,"div",10),r.Tb(43,"mat-form-field",16),r.Ob(44,"input",22),r.Sb(),r.Sb(),r.Tb(45,"div",10),r.Tb(46,"mat-form-field",16),r.Ob(47,"input",23),r.Sb(),r.Sb(),r.Tb(48,"div",10),r.Tb(49,"mat-form-field",16),r.Ob(50,"input",24),r.Sb(),r.Sb(),r.Tb(51,"div",10),r.Tb(52,"mat-form-field",16),r.Ob(53,"input",25),r.Sb(),r.Sb(),r.Sb(),r.Fc(54,An,2,0,"button",26),r.Fc(55,On,2,0,"button",26),r.Ob(56,"div",27),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){var i=r.uc(29),o=r.uc(38);r.Ab(11),r.mc("formGroup",e.aggiungifabbisognoform),r.Ab(3),r.mc("autofocus",!0),r.Ab(6),r.mc("ngModel",e.fornitoreselezionato.nomefornitore),r.Ab(2),r.mc("ngForOf",e.listafornitori),r.Ab(5),r.mc("formControl",e.basedicaricocontrol)("matAutocomplete",i),r.Ab(1),r.mc("displayWith",e.displaybasedicarico),r.Ab(2),r.mc("ngForOf",r.ic(31,16,e.filteredbasidicarico)),r.Ab(6),r.mc("formControl",e.puntovenditacontrol)("matAutocomplete",o),r.Ab(1),r.mc("displayWith",e.displaypuntovendita),r.Ab(2),r.mc("ngForOf",r.ic(40,18,e.filteredpuntovendita)),r.Ab(5),r.mc("autofocus",!0),r.Ab(6),r.mc("autofocus",!0),r.Ab(4),r.mc("ngIf",void 0===e.fabbisogno),r.Ab(1),r.mc("ngIf",void 0!==e.fabbisogno)}},directives:[ie.a,a.u,a.m,a.g,ui.b,di.a,a.b,a.l,a.f,ui.e,pi.a,pi.d,pi.c,n.n,mn,a.e,dn,n.o,pi.b,Ct.g],pipes:[n.b],styles:[".mat-form-field-underline[_ngcontent-%COMP%]{display:none!important}.top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}table[_ngcontent-%COMP%], td[_ngcontent-%COMP%], th[_ngcontent-%COMP%]{border:1px solid #000}"]}),t}(),kn=function(){function t(t,e,i,o){this.http=t,this.cookieService=e,this.loginservice=i,this.fabbisognoservice=o}return t.prototype.getpreventivo=function(t){return this.http.post(l.b+"preventivo/getpreventivodifabbisogno?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungimodifica=function(t){return this.http.post(l.b+"preventivo/aggiungimodifica?access_token="+this.loginservice.gettoken(),t)},t.prototype.cancella=function(t){return this.http.post(l.b+"preventivo/cancella?access_token="+this.loginservice.gettoken(),t)},t.prototype.cancelladafabbisogno=function(t){return this.http.post(l.b+"preventivo/cancelladafabbisogno?access_token="+this.loginservice.gettoken(),t)},t.prototype.cancellavocedirettificadapreventivo=function(t,e){return this.http.post(l.b+"preventivo/cancellavocedirettificadapreventivo/"+t+"?access_token="+this.loginservice.gettoken(),e)},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(d.a),r.bc(l.a),r.bc(p))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Hn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1),r.hc(2,"date"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,o.data,"dd-MM-yyyy"))}}function In(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"date"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,o.data,"dd-MM-yyyy"))}}function Cn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.puntoVendita.nome)}}function Mn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.puntoVendita.nome)}}function xn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.basedicarico.nomebasedicarico)}}function jn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.basedicarico.nomebasedicarico)}}function Rn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1,"Base di carico non inserita"),r.Sb()}}function Nn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1,"Base di carico non inserita"),r.Sb()}}function Dn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.fornitore.nomefornitore)}}function Pn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.fornitore.nomefornitore)}}function Fn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1,"Fornitore non inserito"),r.Sb()}}function En(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1,"Fornitore non inserito"),r.Sb()}}function qn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gasolio))}}function Vn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gasolio))}}function Ln(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.benzina))}}function Un(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.benzina))}}function $n(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.supreme))}}function Bn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.supreme))}}function Gn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gpl))}}function Wn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gpl))}}function Jn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",18),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1," SI "),r.Sb()}}function Yn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1," NO "),r.Sb()}}function Xn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",20),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1,"Visualizza"),r.Sb()}}function Qn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",20),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creapreventivo(t)})),r.Hc(1,"Crea"),r.Sb()}}function Zn(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",11),r.Fc(1,Hn,3,4,"td",12),r.Fc(2,In,3,4,"td",12),r.Fc(3,Cn,2,1,"td",12),r.Fc(4,Mn,2,1,"td",12),r.Fc(5,xn,2,1,"td",12),r.Fc(6,jn,2,1,"td",12),r.Fc(7,Rn,2,0,"td",12),r.Fc(8,Nn,2,0,"td",12),r.Fc(9,Dn,2,1,"td",12),r.Fc(10,Pn,2,1,"td",12),r.Fc(11,Fn,2,0,"td",12),r.Fc(12,En,2,0,"td",12),r.Fc(13,qn,3,3,"td",12),r.Fc(14,Vn,3,3,"td",12),r.Fc(15,Ln,3,3,"td",12),r.Fc(16,Un,3,3,"td",12),r.Fc(17,$n,3,3,"td",12),r.Fc(18,Bn,3,3,"td",12),r.Fc(19,Gn,3,3,"td",12),r.Fc(20,Wn,3,3,"td",12),r.Fc(21,Jn,2,0,"td",13),r.Fc(22,Yn,2,0,"td",14),r.Tb(23,"td"),r.Fc(24,Xn,2,0,"button",15),r.Fc(25,Qn,2,0,"button",15),r.Sb(),r.Tb(26,"td"),r.Tb(27,"button",16),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().rimuovipreventivo(t)})),r.Hc(28,"Rimuovi"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.mc("ngIf",!o.preventivoesistente),r.Ab(1),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",!o.preventivoesistente),r.Ab(1),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",!o.preventivoesistente&&null!==o.basedicarico),r.Ab(1),r.mc("ngIf",o.preventivoesistente&&null!==o.basedicarico),r.Ab(1),r.mc("ngIf",!o.preventivoesistente&&null===o.basedicarico),r.Ab(1),r.mc("ngIf",o.preventivoesistente&&null===o.basedicarico),r.Ab(1),r.mc("ngIf",!o.preventivoesistente&&null!==o.fornitore),r.Ab(1),r.mc("ngIf",o.preventivoesistente&&null!==o.fornitore),r.Ab(1),r.mc("ngIf",!o.preventivoesistente&&null===o.fornitore),r.Ab(1),r.mc("ngIf",o.preventivoesistente&&null===o.fornitore),r.Ab(1),r.mc("ngIf",!o.preventivoesistente),r.Ab(1),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",!o.preventivoesistente),r.Ab(1),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",!o.preventivoesistente),r.Ab(1),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",!o.preventivoesistente),r.Ab(1),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",!o.preventivoesistente),r.Ab(2),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",!o.preventivoesistente)}}var Kn={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},ta=function(){function t(t,e,i,o,n){this.router=t,this.fabbisognoservice=e,this.preventivoservice=i,this.toastr=o,this.dialog=n,this.dtTrigger=new b.a,this.dtOptions={},this.listafabbisogni=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:Kn},this.fabbisognoservice.getallfabbisogni().subscribe((function(e){t.listafabbisogni=e,t.rerender()}))},t.prototype.creapreventivo=function(t){this.preventivoservice.fabbisognoselezionato=t,this.router.navigate(["/admin/creapreventivo"])},t.prototype.visualizzapreventivo=function(t){var e=this;this.preventivoservice.fabbisognoselezionato=t,this.preventivoservice.getpreventivo(t).subscribe((function(t){e.preventivoservice.preventivoselezionato=t,e.router.navigate(["/admin/recappreventivo"])}))},t.prototype.rimuovipreventivo=function(t){var e=this;t.preventivoesistente?this.dialog.open(oe,{data:{title:"Rimuovere",message:"Rimuovere il preventivo selezionato? "}}).afterClosed().subscribe((function(i){!0===i&&e.preventivoservice.cancelladafabbisogno(t).subscribe((function(t){t?e.fabbisognoservice.getallfabbisogni().subscribe((function(t){e.listafabbisogni=t,e.toastr.success("Preventivo rimosso","Rimosso"),e.rerender()})):e.toastr.success("Errore nel rimuovere il preventivo","Errore")}))})):this.toastr.error("Non \xe8 associato nessun preventivo!","Errore")},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(p),r.Nb(kn),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-preventivo"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:37,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],[1,"manina"],[3,"click",4,"ngIf"],["style","color: green",3,"click",4,"ngIf"],["style","color: red",3,"click",4,"ngIf"],["mat-button","","mat-flat-button","","class","btn btn-rose",3,"click",4,"ngIf"],["mat-button","","mat-flat-button","",1,"btn","btn-warning",3,"click"],[3,"click"],[2,"color","green",3,"click"],[2,"color","red",3,"click"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Preventivi"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"Data"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Cliente"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Base di Carico"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Fornitore"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Gasolio"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"Benzina"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"Supreme"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"GPL"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"Preventivo"),r.Sb(),r.Tb(31,"th"),r.Hc(32,"Azioni"),r.Sb(),r.Tb(33,"th"),r.Hc(34,"Rimuovi Preventivo"),r.Sb(),r.Sb(),r.Sb(),r.Tb(35,"tbody"),r.Fc(36,Zn,29,24,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(26),r.mc("ngForOf",e.listafabbisogni))},directives:[c,n.n,n.o,ie.a],pipes:[n.f,n.g],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}(),ea=function(){return function(){this.listavocidirettifica=[]}}();function ia(t,e){if(1&t){var i=r.Ub();r.Tb(0,"li"),r.Tb(1,"label"),r.Tb(2,"input",6),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().toggleSelection(t)})),r.Sb(),r.Hc(3),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit,n=r.gc();r.Ab(2),r.mc("checked",n.verificapresenza(o)),r.Ab(1),r.Lc(" ",o.vocedirettifica," ",o.descrizione," ",o.valore," ")}}var oa=function(){function t(t,e,i){this.preventivoservice=t,this.dialogRef=e,this.data=i,this.listavalori=[],this.listavaloriselezionati=[],this.listavalori=t.fabbisognoselezionato.puntoVendita.listavocidirettifica,this.listavaloriselezionati=i}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.toggleSelection=function(t){var e=this.prendiindice(t);e>-1?this.listavaloriselezionati.splice(e,1):this.listavaloriselezionati.push(t)},t.prototype.verificapresenza=function(t){for(var e=0,i=this.listavaloriselezionati;e<i.length;e++)if(i[e].id===t.id)return!0;return!1},t.prototype.prendiindice=function(t){for(var e=0,i=0,o=this.listavaloriselezionati;i<o.length;i++){if(o[i].id===t.id)return e;e+=1}return-1},t.\u0275fac=function(e){return new(e||t)(r.Nb(kn),r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungivocedirettificapreventivodialog"]],decls:9,vars:2,consts:[["mat-dialog-title",""],["mat-dialog-content",""],[4,"ngFor","ngForOf"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"],["type","checkbox",3,"checked","click"]],template:function(t,e){1&t&&(r.Tb(0,"h1",0),r.Hc(1,"Seleziona voce di rettifica"),r.Sb(),r.Tb(2,"div",1),r.Fc(3,ia,4,4,"li",2),r.Sb(),r.Tb(4,"div",3),r.Tb(5,"button",4),r.ec("click",(function(){return e.onNoClick()})),r.Hc(6,"Annulla"),r.Sb(),r.Tb(7,"button",5),r.Hc(8,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(3),r.mc("ngForOf",e.listavalori),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,n.n,Kt,ie.a,Xt],styles:[""]}),t}();function na(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",20),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Hc(6),r.Sb(),r.Tb(7,"td"),r.Tb(8,"button",21),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminavocedirettifica(t)})),r.Hc(9,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.vocedirettifica),r.Ab(2),r.Ic(o.valore),r.Ab(2),r.Ic(o.descrizione)}}var aa={emptyTable:"Non ci sono dati!",search:"cerca",searchPlaceholder:"cerca nella tabella"},ra=function(){function t(t,e,i,o,n){var a=this;this.router=t,this.dialog=e,this.preventivoservice=i,this.gestioneclienti=o,this.toastr=n,this.dtTrigger=new b.a,this.dtOptions={},this.tableRows=[],this.fabbisognoselezionato=this.preventivoservice.fabbisognoselezionato,this.gasolioservito=0,this.benzinaservito=0,this.supremeservito=0,this.gplservito=0,this.marginegasolioservito=0,this.marginebenzinaservito=0,this.marginesupremeservito=0,this.marginegplservito=0,this.percentualegasolio=0,this.percentualebenzina=0,this.percentualesupreme=0,this.percentualegpl=0,this.gestioneclienti.getproprietario(this.fabbisognoselezionato.puntoVendita).subscribe((function(t){a.proprietario=t}))}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={paging:!1,searching:!1,info:!1,ordering:!1,language:aa},this.inserisciprezzidioggiseesistono(),this.preventivoservice.getpreventivo(this.fabbisognoselezionato).subscribe((function(e){t.preventivo=e}))},t.prototype.tornaindietro=function(){this.preventivoservice.fabbisognoselezionato=void 0,this.router.navigate(["/admin/preventivo"])},t.prototype.vaialrecap=function(t){this.preventivoservice.fabbisognoselezionato=t.riferimento,this.preventivoservice.preventivoselezionato=t,this.router.navigate(["/admin/recappreventivo"])},t.prototype.issoloservito=function(){return!!this.fabbisognoselezionato.puntoVendita.allservito},t.prototype.aggiungipreventivo=function(){var t=this;this.dialog.open(oe,{data:{title:"Creazione preventivo",message:"Aggiungere il preventivo?"}}).afterClosed().subscribe((function(e){if(!0===e){var i=new ea;i.data=new Date,i.riferimento=t.fabbisognoselezionato,i.nomecliente=t.proprietario.nomecliente,i.marginecessionebenzina=t.percentualebenzina,i.marginecessionegasolio=t.percentualegasolio,i.marginecessionesupreme=t.percentualesupreme,i.marginecessionegpl=t.percentualegpl,i.prezzoalpubblicobenzinaservito=t.benzinaservito,i.prezzoalpubblicogasolioservito=t.gasolioservito,i.prezzoalpubblicosupremeservito=t.supremeservito,i.prezzoalpubblicogplservito=t.gplservito,i.listavocidirettifica=t.tableRows,t.preventivoservice.aggiungimodifica(i).subscribe((function(e){e&&t.toastr.success("Preventivo aggiunto!","Aggiunto!"),t.vaialrecap(i)}))}}))},t.prototype.togliiva=function(t){return t/1.22},t.prototype.calcoloconmargineinpercentuale=function(t,e){return t*e/100},t.prototype.prezzoinfattura=function(t,e,i){return this.togliiva(t)-e*i/100},t.prototype.prezzoconvolumesenzaiva=function(t,e,i,o){return Number(this.prezzoinfattura(t,e,i).toFixed(3))*o},t.prototype.calcolasommavocidirettifica=function(){for(var t=0,e=0,i=this.tableRows;e<i.length;e++){var o=i[e];o.segno?t+=o.valore:t-=o.valore}return t},t.prototype.calcolatotaleconiva=function(){return 1.22*this.prezzoconvolumesenzaiva(this.gasolioservito,this.proprietario.marginegasolioservito,this.percentualegasolio,this.fabbisognoselezionato.gasolio)+1.22*this.prezzoconvolumesenzaiva(this.benzinaservito,this.proprietario.marginebenzinaservito,this.percentualebenzina,this.fabbisognoselezionato.benzina)+1.22*this.prezzoconvolumesenzaiva(this.supremeservito,this.proprietario.marginesupremeservito,this.percentualesupreme,this.fabbisognoselezionato.supreme)+1.22*this.prezzoconvolumesenzaiva(this.gplservito,this.proprietario.marginegplservito,this.percentualegpl,this.fabbisognoselezionato.gpl)},t.prototype.calcolaimportobonifico=function(){return this.calcolatotaleconiva()+this.calcolasommavocidirettifica()},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.aggiungivocedirettifica=function(){var t=this;this.dialog.open(oa,{width:"450px",data:this.copiaarray(this.tableRows)}).afterClosed().subscribe((function(e){void 0!==e&&(t.tableRows=e,t.rerender())}))},t.prototype.copiaarray=function(t){var e=[];return t.forEach((function(t){return e.push(Object.assign({},t))})),e},t.prototype.eliminavocedirettifica=function(t){var e=this.tableRows.indexOf(t);-1!==e&&(this.tableRows.splice(e,1),this.rerender())},t.prototype.inserisciprezzidioggiseesistono=function(){var t=this.getprezzodipuntovenditapergiornopreventivo();void 0!==t&&(this.benzinaservito=t.prezzobenzina,this.gasolioservito=t.prezzogasolio,this.supremeservito=t.prezzosupreme,this.gplservito=t.prezzogpl,this.percentualegasolio=t.marginecessionegasolio,this.percentualebenzina=t.marginecessionebenzina,this.percentualesupreme=t.marginecessionesupreme,this.percentualegpl=t.marginecessionegpl)},t.prototype.getprezzodipuntovenditapergiornopreventivo=function(){for(var t=0,e=this.fabbisognoselezionato.puntoVendita.quotazioni;t<e.length;t++){var i=e[t];if(this.sameDay(i.data,this.fabbisognoselezionato.data))return i}return this.getdatapassatapiuvicina()},t.prototype.getdatapassatapiuvicina=function(){for(var t=0,e=void 0,i=0,o=this.fabbisognoselezionato.puntoVendita.quotazioni;i<o.length;i++){var n=o[i],a=this.getdifferenzadate(n.data,this.fabbisognoselezionato.data);(0===t||a<t)&&(t=a,e=n)}return e},t.prototype.getdifferenzadate=function(t,e){var i=new Date(t),o=new Date(e);return Math.abs(i.getTime()-o.getTime())},t.prototype.sameDay=function(t,e){var i=new Date(t),o=new Date(e);return i.getFullYear()===o.getFullYear()&&i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(kn),r.Nb(pe),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-creapreventivoallservito"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:211,vars:117,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-6","text-center"],[1,"col-md-11"],[2,"width","100%"],["colspan","3"],["colspan","2"],["placeholder","0.000","type","number","lang","en_EN","step","0.01",2,"width","75px",3,"ngModel","ngModelChange"],["placeholder","0%","type","number",2,"width","75px",3,"ngModel","ngModelChange"],[1,"col-md-1"],[1,"col-md-4"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],[1,"col-md-2"],["datatable","",1,"row-border","hover"],[1,"manina"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"h4",4),r.Hc(5,"Preventivo"),r.Sb(),r.Sb(),r.Tb(6,"div",5),r.Tb(7,"div",0),r.Tb(8,"div",6),r.Hc(9),r.Ob(10,"br"),r.Hc(11),r.Sb(),r.Tb(12,"div",6),r.Hc(13),r.hc(14,"date"),r.Sb(),r.Sb(),r.Ob(15,"br"),r.Ob(16,"br"),r.Tb(17,"div",0),r.Tb(18,"div",7),r.Tb(19,"table",8),r.Tb(20,"tr"),r.Tb(21,"th",9),r.Hc(22,"PRODOTTO"),r.Sb(),r.Tb(23,"th",10),r.Hc(24,"GASOLIO"),r.Sb(),r.Tb(25,"th",10),r.Hc(26,"BENZINA"),r.Sb(),r.Tb(27,"th",10),r.Hc(28,"SUPREME"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"GPL"),r.Sb(),r.Sb(),r.Tb(31,"tr"),r.Tb(32,"td",9),r.Hc(33,"Modalit\xe0"),r.Sb(),r.Tb(34,"td",10),r.Hc(35,"Servito"),r.Sb(),r.Tb(36,"td",10),r.Hc(37,"Servito"),r.Sb(),r.Tb(38,"td",10),r.Hc(39,"Servito"),r.Sb(),r.Tb(40,"td"),r.Hc(41,"Servito"),r.Sb(),r.Sb(),r.Tb(42,"tr"),r.Tb(43,"td",9),r.Hc(44,"Prezzo al pubblico"),r.Sb(),r.Tb(45,"td",10),r.Tb(46,"input",11),r.ec("ngModelChange",(function(t){return e.gasolioservito=t})),r.Sb(),r.Sb(),r.Tb(47,"td",10),r.Tb(48,"input",11),r.ec("ngModelChange",(function(t){return e.benzinaservito=t})),r.Sb(),r.Sb(),r.Tb(49,"td",10),r.Tb(50,"input",11),r.ec("ngModelChange",(function(t){return e.supremeservito=t})),r.Sb(),r.Sb(),r.Tb(51,"td"),r.Tb(52,"input",11),r.ec("ngModelChange",(function(t){return e.gplservito=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(53,"tr"),r.Tb(54,"td",9),r.Hc(55,"Prezzo al pubblico Senza IVA"),r.Sb(),r.Tb(56,"td",10),r.Hc(57),r.hc(58,"number"),r.Sb(),r.Tb(59,"td",10),r.Hc(60),r.hc(61,"number"),r.Sb(),r.Tb(62,"td",10),r.Hc(63),r.hc(64,"number"),r.Sb(),r.Tb(65,"td"),r.Hc(66),r.hc(67,"number"),r.Sb(),r.Sb(),r.Tb(68,"tr"),r.Tb(69,"td",9),r.Hc(70,"Margine previsto per contratto"),r.Sb(),r.Tb(71,"td",10),r.Hc(72),r.Sb(),r.Tb(73,"td",10),r.Hc(74),r.Sb(),r.Tb(75,"td",10),r.Hc(76),r.Sb(),r.Tb(77,"td"),r.Hc(78),r.Sb(),r.Sb(),r.Tb(79,"tr"),r.Tb(80,"td",9),r.Hc(81,"Percentuale Margine cessione senza IVA"),r.Sb(),r.Tb(82,"td",10),r.Tb(83,"input",12),r.ec("ngModelChange",(function(t){return e.percentualegasolio=t})),r.Sb(),r.Sb(),r.Tb(84,"td",10),r.Tb(85,"input",12),r.ec("ngModelChange",(function(t){return e.percentualebenzina=t})),r.Sb(),r.Sb(),r.Tb(86,"td",10),r.Tb(87,"input",12),r.ec("ngModelChange",(function(t){return e.percentualesupreme=t})),r.Sb(),r.Sb(),r.Tb(88,"td"),r.Tb(89,"input",12),r.ec("ngModelChange",(function(t){return e.percentualegpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(90,"tr"),r.Tb(91,"td",9),r.Hc(92,"Margine cessione senza IVA"),r.Sb(),r.Tb(93,"td",10),r.Hc(94),r.hc(95,"number"),r.Sb(),r.Tb(96,"td",10),r.Hc(97),r.hc(98,"number"),r.Sb(),r.Tb(99,"td",10),r.Hc(100),r.hc(101,"number"),r.Sb(),r.Tb(102,"td"),r.Hc(103),r.hc(104,"number"),r.Sb(),r.Sb(),r.Tb(105,"tr"),r.Tb(106,"td",9),r.Hc(107,"Prezzo in fattura"),r.Sb(),r.Tb(108,"td",10),r.Hc(109),r.hc(110,"number"),r.Sb(),r.Tb(111,"td",10),r.Hc(112),r.hc(113,"number"),r.Sb(),r.Tb(114,"td",10),r.Hc(115),r.hc(116,"number"),r.Sb(),r.Tb(117,"td"),r.Hc(118),r.hc(119,"number"),r.Sb(),r.Sb(),r.Tb(120,"tr"),r.Tb(121,"td",9),r.Hc(122,"Volume ordinato"),r.Sb(),r.Tb(123,"td",10),r.Hc(124),r.Sb(),r.Tb(125,"td",10),r.Hc(126),r.Sb(),r.Tb(127,"td",10),r.Hc(128),r.Sb(),r.Tb(129,"td"),r.Hc(130),r.Sb(),r.Sb(),r.Tb(131,"tr"),r.Tb(132,"td",9),r.Hc(133,"Totale ordine senza IVA"),r.Sb(),r.Tb(134,"td",10),r.Hc(135),r.hc(136,"currency"),r.Sb(),r.Tb(137,"td",10),r.Hc(138),r.hc(139,"currency"),r.Sb(),r.Tb(140,"td",10),r.Hc(141),r.hc(142,"currency"),r.Sb(),r.Tb(143,"td"),r.Hc(144),r.hc(145,"currency"),r.Sb(),r.Sb(),r.Tb(146,"tr"),r.Tb(147,"td",9),r.Hc(148,"Totale ordine IVA Compresa"),r.Sb(),r.Tb(149,"td",10),r.Hc(150),r.hc(151,"currency"),r.Sb(),r.Tb(152,"td",10),r.Hc(153),r.hc(154,"currency"),r.Sb(),r.Tb(155,"td",10),r.Hc(156),r.hc(157,"currency"),r.Sb(),r.Tb(158,"td"),r.Hc(159),r.hc(160,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(161,"div",0),r.Ob(162,"br"),r.Sb(),r.Tb(163,"div",0),r.Ob(164,"div",13),r.Tb(165,"div",14),r.Tb(166,"table",15),r.Tb(167,"thead"),r.Tb(168,"tr"),r.Tb(169,"th"),r.Hc(170,"Voce di rettifica"),r.Sb(),r.Tb(171,"th"),r.Hc(172,"Valore"),r.Sb(),r.Tb(173,"th"),r.Hc(174,"Descrizione"),r.Sb(),r.Tb(175,"th"),r.Hc(176,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(177,"tbody"),r.Fc(178,na,10,3,"tr",16),r.Sb(),r.Sb(),r.Ob(179,"br"),r.Tb(180,"button",17),r.ec("click",(function(){return e.aggiungivocedirettifica()})),r.Hc(181,"Aggiungi Voce di rettifica"),r.Sb(),r.Sb(),r.Ob(182,"div",18),r.Tb(183,"div",14),r.Tb(184,"table",19),r.Ob(185,"thead"),r.Tb(186,"tbody"),r.Tb(187,"tr"),r.Tb(188,"td"),r.Hc(189," TOTALE FORNITURA IVA COMPRESA"),r.Sb(),r.Tb(190,"td"),r.Hc(191),r.hc(192,"number"),r.Sb(),r.Sb(),r.Tb(193,"tr"),r.Tb(194,"td"),r.Hc(195," TOTALE VOCI DI RETTIFICA "),r.Sb(),r.Tb(196,"td"),r.Hc(197),r.hc(198,"number"),r.Sb(),r.Sb(),r.Tb(199,"tr"),r.Tb(200,"td"),r.Tb(201,"b"),r.Hc(202," IMPORTO BONIFICO "),r.Sb(),r.Sb(),r.Tb(203,"td"),r.Tb(204,"b"),r.Hc(205),r.hc(206,"number"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(207,"br"),r.Tb(208,"button",17),r.ec("click",(function(){return e.aggiungipreventivo()})),r.Hc(209,"Aggiorna preventivo"),r.Sb(),r.Sb(),r.Ob(210,"div",13),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(9),r.Jc(" ",e.fabbisognoselezionato.puntoVendita.nome," "),r.Ab(2),r.Jc(" ",e.proprietario.nomecliente," "),r.Ab(2),r.Jc(" Data di consegna: ",r.jc(14,45,e.fabbisognoselezionato.data,"dd-MM-yyyy")," "),r.Ab(33),r.mc("ngModel",e.gasolioservito),r.Ab(2),r.mc("ngModel",e.benzinaservito),r.Ab(2),r.mc("ngModel",e.supremeservito),r.Ab(2),r.mc("ngModel",e.gplservito),r.Ab(5),r.Ic(r.jc(58,48,e.togliiva(e.gasolioservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(61,51,e.togliiva(e.benzinaservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(64,54,e.togliiva(e.supremeservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(67,57,e.togliiva(e.gplservito),"1.3-3")),r.Ab(6),r.Ic(e.proprietario.marginegasolioservito),r.Ab(2),r.Ic(e.proprietario.marginebenzinaservito),r.Ab(2),r.Ic(e.proprietario.marginesupremeservito),r.Ab(2),r.Ic(e.proprietario.marginegplservito),r.Ab(5),r.mc("ngModel",e.percentualegasolio),r.Ab(2),r.mc("ngModel",e.percentualebenzina),r.Ab(2),r.mc("ngModel",e.percentualesupreme),r.Ab(2),r.mc("ngModel",e.percentualegpl),r.Ab(5),r.Ic(r.jc(95,60,e.percentualegasolio/100*e.proprietario.marginegasolioservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(98,63,e.percentualebenzina/100*e.proprietario.marginebenzinaservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(101,66,e.percentualesupreme/100*e.proprietario.marginesupremeservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(104,69,e.percentualegpl/100*e.proprietario.marginegplservito,"1.3-3")),r.Ab(6),r.Ic(r.jc(110,72,e.prezzoinfattura(e.gasolioservito,e.proprietario.marginegasolioservito,e.percentualegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(113,75,e.prezzoinfattura(e.benzinaservito,e.proprietario.marginebenzinaservito,e.percentualebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(116,78,e.prezzoinfattura(e.supremeservito,e.proprietario.marginesupremeservito,e.percentualesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(119,81,e.prezzoinfattura(e.gplservito,e.proprietario.marginegplservito,e.percentualegpl),"1.3-3")),r.Ab(6),r.Ic(e.fabbisognoselezionato.gasolio),r.Ab(2),r.Ic(e.fabbisognoselezionato.benzina),r.Ab(2),r.Ic(e.fabbisognoselezionato.supreme),r.Ab(2),r.Ic(e.fabbisognoselezionato.gpl),r.Ab(5),r.Ic(r.jc(136,84,e.prezzoconvolumesenzaiva(e.gasolioservito,e.proprietario.marginegasolioservito,e.percentualegasolio,e.fabbisognoselezionato.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(139,87,e.prezzoconvolumesenzaiva(e.benzinaservito,e.proprietario.marginebenzinaservito,e.percentualebenzina,e.fabbisognoselezionato.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(142,90,e.prezzoconvolumesenzaiva(e.supremeservito,e.proprietario.marginesupremeservito,e.percentualesupreme,e.fabbisognoselezionato.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(145,93,e.prezzoconvolumesenzaiva(e.gplservito,e.proprietario.marginegplservito,e.percentualegpl,e.fabbisognoselezionato.gpl),"EUR")),r.Ab(6),r.Ic(r.jc(151,96,1.22*e.prezzoconvolumesenzaiva(e.gasolioservito,e.proprietario.marginegasolioservito,e.percentualegasolio,e.fabbisognoselezionato.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(154,99,1.22*e.prezzoconvolumesenzaiva(e.benzinaservito,e.proprietario.marginebenzinaservito,e.percentualebenzina,e.fabbisognoselezionato.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(157,102,1.22*e.prezzoconvolumesenzaiva(e.supremeservito,e.proprietario.marginesupremeservito,e.percentualesupreme,e.fabbisognoselezionato.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(160,105,1.22*e.prezzoconvolumesenzaiva(e.gplservito,e.proprietario.marginegplservito,e.percentualegpl,e.fabbisognoselezionato.gpl),"EUR")),r.Ab(7),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(12),r.mc("ngForOf",e.tableRows),r.Ab(13),r.Jc(" \u20ac ",r.jc(192,108,e.calcolatotaleconiva(),"1.2-2")," "),r.Ab(6),r.Jc(" \u20ac ",r.jc(198,111,e.calcolasommavocidirettifica(),"1.2-2")," "),r.Ab(8),r.Jc(" \u20ac ",r.jc(206,114,e.calcolaimportobonifico(),"1.2-2")," "))},directives:[a.q,a.b,a.l,a.o,c,n.n,ie.a],pipes:[n.f,n.g,n.d],styles:[""]}),t}();function ca(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",24),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Hc(6),r.Sb(),r.Tb(7,"td"),r.Tb(8,"button",25),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc(2).eliminavocedirettifica(t)})),r.Hc(9,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.vocedirettifica),r.Ab(2),r.Ic(o.valore),r.Ab(2),r.Ic(o.descrizione)}}function sa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"div",2),r.Tb(1,"div",3),r.Tb(2,"div",4),r.Tb(3,"div",5),r.Tb(4,"div",6),r.Tb(5,"div",7),r.Tb(6,"h4",8),r.Hc(7,"Preventivo"),r.Sb(),r.Sb(),r.Tb(8,"div",9),r.Tb(9,"div",4),r.Tb(10,"div",10),r.Hc(11),r.Ob(12,"br"),r.Hc(13),r.Sb(),r.Tb(14,"div",10),r.Hc(15),r.hc(16,"date"),r.Sb(),r.Sb(),r.Ob(17,"br"),r.Ob(18,"br"),r.Tb(19,"div",4),r.Tb(20,"div",11),r.Tb(21,"table",12),r.Tb(22,"tr"),r.Tb(23,"th",13),r.Hc(24,"PRODOTTO"),r.Sb(),r.Tb(25,"th",14),r.Hc(26,"GASOLIO"),r.Sb(),r.Tb(27,"th",14),r.Hc(28,"BENZINA"),r.Sb(),r.Tb(29,"th",14),r.Hc(30,"SUPREME"),r.Sb(),r.Tb(31,"th"),r.Hc(32,"GPL"),r.Sb(),r.Sb(),r.Tb(33,"tr"),r.Tb(34,"td",13),r.Hc(35,"Modalit\xe0"),r.Sb(),r.Tb(36,"td"),r.Hc(37,"Servito"),r.Sb(),r.Tb(38,"td"),r.Hc(39,"Self"),r.Sb(),r.Tb(40,"td"),r.Hc(41,"Servito"),r.Sb(),r.Tb(42,"td"),r.Hc(43,"Self"),r.Sb(),r.Tb(44,"td"),r.Hc(45,"Servito"),r.Sb(),r.Tb(46,"td"),r.Hc(47,"Self"),r.Sb(),r.Tb(48,"td"),r.Hc(49,"Servito"),r.Sb(),r.Sb(),r.Tb(50,"tr"),r.Tb(51,"td",13),r.Hc(52,"Prezzo al pubblico"),r.Sb(),r.Tb(53,"td"),r.Tb(54,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().gasolioservito=t})),r.Sb(),r.Sb(),r.Tb(55,"td"),r.Tb(56,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().gasolioself=t})),r.Sb(),r.Sb(),r.Tb(57,"td"),r.Tb(58,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().benzinaservito=t})),r.Sb(),r.Sb(),r.Tb(59,"td"),r.Tb(60,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().benzinaself=t})),r.Sb(),r.Sb(),r.Tb(61,"td"),r.Tb(62,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().supremeservito=t})),r.Sb(),r.Sb(),r.Tb(63,"td"),r.Tb(64,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().supremeself=t})),r.Sb(),r.Sb(),r.Tb(65,"td"),r.Tb(66,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().gplservito=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(67,"tr"),r.Tb(68,"td",13),r.Hc(69,"Prezzo al pubblico Senza IVA"),r.Sb(),r.Tb(70,"td"),r.Hc(71),r.hc(72,"number"),r.Sb(),r.Tb(73,"td"),r.Hc(74),r.hc(75,"number"),r.Sb(),r.Tb(76,"td"),r.Hc(77),r.hc(78,"number"),r.Sb(),r.Tb(79,"td"),r.Hc(80),r.hc(81,"number"),r.Sb(),r.Tb(82,"td"),r.Hc(83),r.hc(84,"number"),r.Sb(),r.Tb(85,"td"),r.Hc(86),r.hc(87,"number"),r.Sb(),r.Tb(88,"td"),r.Hc(89),r.hc(90,"number"),r.Sb(),r.Sb(),r.Tb(91,"tr"),r.Tb(92,"td",13),r.Hc(93,"Margine previsto per contratto"),r.Sb(),r.Tb(94,"td"),r.Hc(95),r.Sb(),r.Tb(96,"td"),r.Hc(97),r.Sb(),r.Tb(98,"td"),r.Hc(99),r.Sb(),r.Tb(100,"td"),r.Hc(101),r.Sb(),r.Tb(102,"td"),r.Hc(103),r.Sb(),r.Tb(104,"td"),r.Hc(105),r.Sb(),r.Tb(106,"td"),r.Hc(107),r.Sb(),r.Sb(),r.Tb(108,"tr"),r.Tb(109,"td",13),r.Hc(110,"Percentuale Margine cessione senza IVA"),r.Sb(),r.Tb(111,"td",14),r.Tb(112,"input",16),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().percentualegasolio=t})),r.Sb(),r.Sb(),r.Tb(113,"td",14),r.Tb(114,"input",16),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().percentualebenzina=t})),r.Sb(),r.Sb(),r.Tb(115,"td",14),r.Tb(116,"input",16),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().percentualesupreme=t})),r.Sb(),r.Sb(),r.Tb(117,"td"),r.Tb(118,"input",16),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().percentualegpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(119,"tr"),r.Tb(120,"td",13),r.Hc(121,"Margine cessione senza IVA"),r.Sb(),r.Tb(122,"td",14),r.Hc(123),r.hc(124,"number"),r.Sb(),r.Tb(125,"td",14),r.Hc(126),r.hc(127,"number"),r.Sb(),r.Tb(128,"td",14),r.Hc(129),r.hc(130,"number"),r.Sb(),r.Tb(131,"td"),r.Hc(132),r.hc(133,"number"),r.Sb(),r.Sb(),r.Tb(134,"tr"),r.Tb(135,"td",13),r.Hc(136,"Prezzo in fattura"),r.Sb(),r.Tb(137,"td",14),r.Hc(138),r.hc(139,"number"),r.Sb(),r.Tb(140,"td",14),r.Hc(141),r.hc(142,"number"),r.Sb(),r.Tb(143,"td",14),r.Hc(144),r.hc(145,"number"),r.Sb(),r.Tb(146,"td"),r.Hc(147),r.hc(148,"number"),r.Sb(),r.Sb(),r.Tb(149,"tr"),r.Tb(150,"td",13),r.Hc(151,"Volume ordinato"),r.Sb(),r.Tb(152,"td",14),r.Hc(153),r.Sb(),r.Tb(154,"td",14),r.Hc(155),r.Sb(),r.Tb(156,"td",14),r.Hc(157),r.Sb(),r.Tb(158,"td"),r.Hc(159),r.Sb(),r.Sb(),r.Tb(160,"tr"),r.Tb(161,"td",13),r.Hc(162,"Totale ordine senza IVA"),r.Sb(),r.Tb(163,"td",14),r.Hc(164),r.hc(165,"currency"),r.Sb(),r.Tb(166,"td",14),r.Hc(167),r.hc(168,"currency"),r.Sb(),r.Tb(169,"td",14),r.Hc(170),r.hc(171,"currency"),r.Sb(),r.Tb(172,"td"),r.Hc(173),r.hc(174,"currency"),r.Sb(),r.Sb(),r.Tb(175,"tr"),r.Tb(176,"td",13),r.Hc(177,"Totale ordine IVA Compresa"),r.Sb(),r.Tb(178,"td",14),r.Hc(179),r.hc(180,"currency"),r.Sb(),r.Tb(181,"td",14),r.Hc(182),r.hc(183,"currency"),r.Sb(),r.Tb(184,"td",14),r.Hc(185),r.hc(186,"currency"),r.Sb(),r.Tb(187,"td"),r.Hc(188),r.hc(189,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(190,"div",4),r.Ob(191,"br"),r.Sb(),r.Tb(192,"div",4),r.Ob(193,"div",17),r.Tb(194,"div",18),r.Tb(195,"table",19),r.Tb(196,"thead"),r.Tb(197,"tr"),r.Tb(198,"th"),r.Hc(199,"Voce di rettifica"),r.Sb(),r.Tb(200,"th"),r.Hc(201,"Valore"),r.Sb(),r.Tb(202,"th"),r.Hc(203,"Descrizione"),r.Sb(),r.Tb(204,"th"),r.Hc(205,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(206,"tbody"),r.Fc(207,ca,10,3,"tr",20),r.Sb(),r.Sb(),r.Ob(208,"br"),r.Tb(209,"button",21),r.ec("click",(function(){return r.wc(i),r.gc().aggiungivocedirettifica()})),r.Hc(210,"Aggiungi Voce di rettifica"),r.Sb(),r.Sb(),r.Ob(211,"div",22),r.Tb(212,"div",18),r.Tb(213,"table",23),r.Ob(214,"thead"),r.Tb(215,"tbody"),r.Tb(216,"tr"),r.Tb(217,"td"),r.Hc(218," TOTALE FORNITURA IVA COMPRESA"),r.Sb(),r.Tb(219,"td"),r.Hc(220),r.hc(221,"number"),r.Sb(),r.Sb(),r.Tb(222,"tr"),r.Tb(223,"td"),r.Hc(224," TOTALE VOCI DI RETTIFICA "),r.Sb(),r.Tb(225,"td"),r.Hc(226),r.hc(227,"number"),r.Sb(),r.Sb(),r.Tb(228,"tr"),r.Tb(229,"td"),r.Tb(230,"b"),r.Hc(231," IMPORTO BONIFICO "),r.Sb(),r.Sb(),r.Tb(232,"td"),r.Tb(233,"b"),r.Hc(234),r.hc(235,"number"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(236,"br"),r.Tb(237,"button",21),r.ec("click",(function(){return r.wc(i),r.gc().aggiungipreventivo()})),r.Hc(238,"Aggiorna preventivo"),r.Sb(),r.Sb(),r.Ob(239,"div",17),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=r.gc();r.Ab(11),r.Jc(" ",o.fabbisognoselezionato.puntoVendita.nome," "),r.Ab(2),r.Jc(" ",o.proprietario.nomecliente," "),r.Ab(2),r.Jc(" Data di consegna: ",r.jc(16,54,o.fabbisognoselezionato.data,"dd-MM-yyyy")," "),r.Ab(39),r.mc("ngModel",o.gasolioservito),r.Ab(2),r.mc("ngModel",o.gasolioself),r.Ab(2),r.mc("ngModel",o.benzinaservito),r.Ab(2),r.mc("ngModel",o.benzinaself),r.Ab(2),r.mc("ngModel",o.supremeservito),r.Ab(2),r.mc("ngModel",o.supremeself),r.Ab(2),r.mc("ngModel",o.gplservito),r.Ab(5),r.Ic(r.jc(72,57,o.togliiva(o.gasolioservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(75,60,o.togliiva(o.gasolioself),"1.3-3")),r.Ab(3),r.Ic(r.jc(78,63,o.togliiva(o.benzinaservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(81,66,o.togliiva(o.benzinaself),"1.3-3")),r.Ab(3),r.Ic(r.jc(84,69,o.togliiva(o.supremeservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(87,72,o.togliiva(o.supremeself),"1.3-3")),r.Ab(3),r.Ic(r.jc(90,75,o.togliiva(o.gplservito),"1.3-3")),r.Ab(6),r.Ic(o.proprietario.marginegasolioservito),r.Ab(2),r.Ic(o.proprietario.marginegasolioself),r.Ab(2),r.Ic(o.proprietario.marginebenzinaservito),r.Ab(2),r.Ic(o.proprietario.marginebenzinaself),r.Ab(2),r.Ic(o.proprietario.marginesupremeservito),r.Ab(2),r.Ic(o.proprietario.marginesupremeself),r.Ab(2),r.Ic(o.proprietario.marginegplservito),r.Ab(5),r.mc("ngModel",o.percentualegasolio),r.Ab(2),r.mc("ngModel",o.percentualebenzina),r.Ab(2),r.mc("ngModel",o.percentualesupreme),r.Ab(2),r.mc("ngModel",o.percentualegpl),r.Ab(5),r.Ic(r.jc(124,78,o.percentualegasolio/100*o.proprietario.marginegasolioservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(127,81,o.percentualebenzina/100*o.proprietario.marginebenzinaservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(130,84,o.percentualesupreme/100*o.proprietario.marginesupremeservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(133,87,o.percentualegpl/100*o.proprietario.marginegplservito,"1.3-3")),r.Ab(6),r.Ic(r.jc(139,90,o.prezzoinfattura(o.gasolioself,o.proprietario.marginegasolioself,o.percentualegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(142,93,o.prezzoinfattura(o.benzinaself,o.proprietario.marginebenzinaself,o.percentualebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(145,96,o.prezzoinfattura(o.supremeself,o.proprietario.marginesupremeself,o.percentualesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(148,99,o.prezzoinfattura(o.gplservito,o.proprietario.marginegplservito,o.percentualegpl),"1.3-3")),r.Ab(6),r.Ic(o.fabbisognoselezionato.gasolio),r.Ab(2),r.Ic(o.fabbisognoselezionato.benzina),r.Ab(2),r.Ic(o.fabbisognoselezionato.supreme),r.Ab(2),r.Ic(o.fabbisognoselezionato.gpl),r.Ab(5),r.Ic(r.jc(165,102,o.prezzoconvolumesenzaiva(o.gasolioself,o.proprietario.marginegasolioself,o.percentualegasolio,o.fabbisognoselezionato.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(168,105,o.prezzoconvolumesenzaiva(o.benzinaself,o.proprietario.marginebenzinaself,o.percentualebenzina,o.fabbisognoselezionato.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(171,108,o.prezzoconvolumesenzaiva(o.supremeself,o.proprietario.marginesupremeself,o.percentualesupreme,o.fabbisognoselezionato.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(174,111,o.prezzoconvolumesenzaiva(o.gplservito,o.proprietario.marginegplservito,o.percentualegpl,o.fabbisognoselezionato.gpl),"EUR")),r.Ab(6),r.Ic(r.jc(180,114,1.22*o.prezzoconvolumesenzaiva(o.gasolioself,o.proprietario.marginegasolioself,o.percentualegasolio,o.fabbisognoselezionato.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(183,117,1.22*o.prezzoconvolumesenzaiva(o.benzinaself,o.proprietario.marginebenzinaself,o.percentualebenzina,o.fabbisognoselezionato.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(186,120,1.22*o.prezzoconvolumesenzaiva(o.supremeself,o.proprietario.marginesupremeself,o.percentualesupreme,o.fabbisognoselezionato.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(189,123,1.22*o.prezzoconvolumesenzaiva(o.gplservito,o.proprietario.marginegplservito,o.percentualegpl,o.fabbisognoselezionato.gpl),"EUR")),r.Ab(7),r.mc("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),r.Ab(12),r.mc("ngForOf",o.tableRows),r.Ab(13),r.Jc(" \u20ac ",r.jc(221,126,o.calcolatotaleconiva(),"1.2-2")," "),r.Ab(6),r.Jc(" \u20ac ",r.jc(227,129,o.calcolasommavocidirettifica(),"1.2-2")," "),r.Ab(8),r.Jc(" \u20ac ",r.jc(235,132,o.calcolaimportobonifico(),"1.2-2")," ")}}function ba(t,e){1&t&&(r.Tb(0,"div",2),r.Tb(1,"div",3),r.Ob(2,"app-creapreventivoallservito"),r.Sb(),r.Sb())}var la={emptyTable:"Non ci sono dati!",search:"cerca",searchPlaceholder:"cerca nella tabella"},ua=function(){function t(t,e,i,o,n){var a=this;this.router=t,this.dialog=e,this.preventivoservice=i,this.gestioneclienti=o,this.toastr=n,this.dtTrigger=new b.a,this.dtOptions={},this.tableRows=[],this.fabbisognoselezionato=this.preventivoservice.fabbisognoselezionato,this.gasolioservito=0,this.gasolioself=0,this.benzinaservito=0,this.benzinaself=0,this.supremeservito=0,this.supremeself=0,this.gplservito=0,this.marginegasolioservito=0,this.marginegasolioself=0,this.marginebenzinaservito=0,this.marginebenzinaself=0,this.marginesupremeservito=0,this.marginesupremeself=0,this.marginegplservito=0,this.percentualegasolio=0,this.percentualebenzina=0,this.percentualesupreme=0,this.percentualegpl=0,this.gestioneclienti.getproprietario(this.fabbisognoselezionato.puntoVendita).subscribe((function(t){a.proprietario=t}))}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={paging:!1,searching:!1,info:!1,ordering:!1,language:la},this.inserisciprezzidioggiseesistono(),this.preventivoservice.getpreventivo(this.fabbisognoselezionato).subscribe((function(e){t.preventivo=e}))},t.prototype.tornaindietro=function(){this.preventivoservice.fabbisognoselezionato=void 0,this.router.navigate(["/admin/preventivo"])},t.prototype.vaialrecap=function(t){this.preventivoservice.fabbisognoselezionato=t.riferimento,this.preventivoservice.preventivoselezionato=t,this.router.navigate(["/admin/recappreventivo"])},t.prototype.issoloservito=function(){return!!this.fabbisognoselezionato.puntoVendita.allservito},t.prototype.aggiungipreventivo=function(){var t=this;this.dialog.open(oe,{data:{title:"Creazione preventivo",message:"Aggiungere il preventivo?"}}).afterClosed().subscribe((function(e){if(!0===e){var i=new ea;i.data=new Date,i.riferimento=t.fabbisognoselezionato,i.nomecliente=t.proprietario.nomecliente,i.marginecessionebenzina=t.percentualebenzina,i.marginecessionegasolio=t.percentualegasolio,i.marginecessionesupreme=t.percentualesupreme,i.marginecessionegpl=t.percentualegpl,i.prezzoalpubblicobenzinaself=t.benzinaself,i.prezzoalpubblicobenzinaservito=t.benzinaservito,i.prezzoalpubblicogasolioself=t.gasolioself,i.prezzoalpubblicogasolioservito=t.gasolioservito,i.prezzoalpubblicosupremeself=t.supremeself,i.prezzoalpubblicosupremeservito=t.supremeservito,i.prezzoalpubblicogplservito=t.gplservito,i.listavocidirettifica=t.tableRows,t.preventivoservice.aggiungimodifica(i).subscribe((function(e){e&&t.toastr.success("Preventivo aggiunto!","Aggiunto!"),t.vaialrecap(i)}))}}))},t.prototype.togliiva=function(t){return t/1.22},t.prototype.calcoloconmargineinpercentuale=function(t,e){return t*e/100},t.prototype.prezzoinfattura=function(t,e,i){return this.togliiva(t)-e*i/100},t.prototype.prezzoconvolumesenzaiva=function(t,e,i,o){return Number(this.prezzoinfattura(t,e,i).toFixed(3))*o},t.prototype.calcolasommavocidirettifica=function(){for(var t=0,e=0,i=this.tableRows;e<i.length;e++){var o=i[e];o.segno?t+=o.valore:t-=o.valore}return t},t.prototype.calcolatotaleconiva=function(){return 1.22*this.prezzoconvolumesenzaiva(this.gasolioself,this.proprietario.marginegasolioself,this.percentualegasolio,this.fabbisognoselezionato.gasolio)+1.22*this.prezzoconvolumesenzaiva(this.benzinaself,this.proprietario.marginebenzinaself,this.percentualebenzina,this.fabbisognoselezionato.benzina)+1.22*this.prezzoconvolumesenzaiva(this.supremeself,this.proprietario.marginesupremeself,this.percentualesupreme,this.fabbisognoselezionato.supreme)+1.22*this.prezzoconvolumesenzaiva(this.gplservito,this.proprietario.marginegplservito,this.percentualegpl,this.fabbisognoselezionato.gpl)},t.prototype.calcolaimportobonifico=function(){return this.calcolatotaleconiva()+this.calcolasommavocidirettifica()},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.aggiungivocedirettifica=function(){var t=this;this.dialog.open(oa,{width:"450px",data:this.copiaarray(this.tableRows)}).afterClosed().subscribe((function(e){void 0!==e&&(t.tableRows=e,t.rerender())}))},t.prototype.copiaarray=function(t){var e=[];return t.forEach((function(t){return e.push(Object.assign({},t))})),e},t.prototype.eliminavocedirettifica=function(t){var e=this.tableRows.indexOf(t);-1!==e&&(this.tableRows.splice(e,1),this.rerender())},t.prototype.inserisciprezzidioggiseesistono=function(){var t=this.getprezzodipuntovenditapergiornopreventivo();void 0!==t&&(this.benzinaself=t.prezzobenzinaself,this.benzinaservito=t.prezzobenzina,this.gasolioself=t.prezzogasolioself,this.gasolioservito=t.prezzogasolio,this.supremeself=t.prezzosupremeself,this.supremeservito=t.prezzosupreme,this.gplservito=t.prezzogpl,this.percentualegasolio=t.marginecessionegasolio,this.percentualebenzina=t.marginecessionebenzina,this.percentualesupreme=t.marginecessionesupreme,this.percentualegpl=t.marginecessionegpl)},t.prototype.getprezzodipuntovenditapergiornopreventivo=function(){for(var t=0,e=this.fabbisognoselezionato.puntoVendita.quotazioni;t<e.length;t++){var i=e[t];if(this.sameDay(i.data,this.fabbisognoselezionato.data))return console.log("QUOTAZIONE TROVATA"),console.log(i),i}return this.getdatapassatapiuvicina()},t.prototype.getdatapassatapiuvicina=function(){for(var t=0,e=void 0,i=0,o=this.fabbisognoselezionato.puntoVendita.quotazioni;i<o.length;i++){var n=o[i],a=this.getdifferenzadate(n.data,this.fabbisognoselezionato.data);(0===t||a<t)&&(t=a,e=n)}return e},t.prototype.getdifferenzadate=function(t,e){var i=new Date(t),o=new Date(e);return Math.abs(i.getTime()-o.getTime())},t.prototype.sameDay=function(t,e){var i=new Date(t),o=new Date(e);return i.getFullYear()===o.getFullYear()&&i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(kn),r.Nb(pe),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-creapreventivo"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:4,vars:2,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],["class","main-content",4,"ngIf"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-6","text-center"],[1,"col-md-11"],[2,"width","100%"],["colspan","3"],["colspan","2"],["placeholder","0.000","type","number","lang","en_EN","step","0.01",2,"width","75px",3,"ngModel","ngModelChange"],["placeholder","0%","type","number",2,"width","75px",3,"ngModel","ngModelChange"],[1,"col-md-1"],[1,"col-md-4"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],[1,"col-md-2"],["datatable","",1,"row-border","hover"],[1,"manina"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Fc(2,sa,240,135,"div",1),r.Fc(3,ba,3,0,"div",1)),2&t&&(r.Ab(2),r.mc("ngIf",!e.fabbisognoselezionato.puntoVendita.allservito),r.Ab(1),r.mc("ngIf",e.fabbisognoselezionato.puntoVendita.allservito))},directives:[ie.a,n.o,a.q,a.b,a.l,a.o,c,n.n,ra],pipes:[n.f,n.g,n.d],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}(),da=function(){function t(t,e,i){this.http=t,this.cookieService=e,this.loginservice=i}return t.prototype.stampapreventivo=function(t){return this.http.post(l.b+"pdf/preventivo?access_token="+this.loginservice.gettoken(),t,{responseType:"blob"})},t.prototype.stampatrasporto=function(t){return this.http.post(l.b+"pdf/trasporto?access_token="+this.loginservice.gettoken(),t,{responseType:"blob"})},t.prototype.getexcelfile=function(t){return this.http.post(l.b+"riepilogo/generaexcel?access_token="+this.loginservice.gettoken(),t,{responseType:"blob"})},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(d.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function pa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",20),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Hc(6),r.Sb(),r.Tb(7,"td"),r.Tb(8,"button",21),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminavocedirettifica(t)})),r.Hc(9,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.vocedirettifica),r.Ab(2),r.Ic(o.valore),r.Ab(2),r.Ic(o.descrizione)}}var ga={emptyTable:"Non ci sono dati!",search:"cerca",searchPlaceholder:"cerca nella tabella"},fa=function(){function t(t,e,i,o,n,a){var r=this;this.router=t,this.dialog=e,this.preventivoservice=i,this.gestioneclienti=o,this.fileservice=n,this.toastr=a,this.dtTrigger=new b.a,this.dtOptions={},this.tableRows=[],this.fabbisognoselezionato=this.preventivoservice.fabbisognoselezionato,this.gasolioservito=0,this.benzinaservito=0,this.supremeservito=0,this.gplservito=0,this.marginegasolioservito=0,this.marginebenzinaservito=0,this.marginesupremeservito=0,this.marginegplservito=0,this.percentualegasolio=0,this.percentualebenzina=0,this.percentualesupreme=0,this.percentualegpl=0,this.gestioneclienti.getproprietario(this.fabbisognoselezionato.puntoVendita).subscribe((function(t){r.proprietario=t}))}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={paging:!1,searching:!1,info:!1,ordering:!1,language:ga},this.inserisciprezzidioggiseesistono(),this.preventivoservice.getpreventivo(this.fabbisognoselezionato).subscribe((function(e){t.preventivo=e,t.gasolioservito=t.preventivo.prezzoalpubblicogasolioservito,t.benzinaservito=t.preventivo.prezzoalpubblicobenzinaservito,t.supremeservito=t.preventivo.prezzoalpubblicosupremeservito,t.gplservito=t.preventivo.prezzoalpubblicogplservito,t.marginegasolioservito=t.proprietario.marginegasolioservito,t.marginebenzinaservito=t.proprietario.marginebenzinaservito,t.marginesupremeservito=t.proprietario.marginesupremeservito,t.marginegplservito=t.proprietario.marginegplservito,t.percentualegasolio=t.preventivo.marginecessionegasolio,t.percentualebenzina=t.preventivo.marginecessionebenzina,t.percentualesupreme=t.preventivo.marginecessionesupreme,t.percentualegpl=t.preventivo.marginecessionegpl,t.tableRows=t.preventivo.listavocidirettifica}))},t.prototype.tornaindietro=function(){this.preventivoservice.fabbisognoselezionato=void 0,this.router.navigate(["/admin/preventivo"])},t.prototype.vaialrecap=function(t){this.preventivoservice.fabbisognoselezionato=t.riferimento,this.preventivoservice.preventivoselezionato=t,this.router.navigate(["/admin/recappreventivo"])},t.prototype.issoloservito=function(){return!!this.fabbisognoselezionato.puntoVendita.allservito},t.prototype.aggiungipreventivo=function(){var t=this;this.dialog.open(oe,{data:{title:"Creazione preventivo",message:"Aggiungere il preventivo?"}}).afterClosed().subscribe((function(e){if(!0===e){var i=new ea;i.data=new Date,i.riferimento=t.fabbisognoselezionato,i.nomecliente=t.proprietario.nomecliente,i.marginecessionebenzina=t.percentualebenzina,i.marginecessionegasolio=t.percentualegasolio,i.marginecessionesupreme=t.percentualesupreme,i.marginecessionegpl=t.percentualegpl,i.prezzoalpubblicobenzinaservito=t.benzinaservito,i.prezzoalpubblicogasolioservito=t.gasolioservito,i.prezzoalpubblicosupremeservito=t.supremeservito,i.prezzoalpubblicogplservito=t.gplservito,i.listavocidirettifica=t.tableRows,t.preventivoservice.aggiungimodifica(i).subscribe((function(e){e&&t.toastr.success("Preventivo aggiunto!","Aggiunto!"),t.vaialrecap(i)}))}}))},t.prototype.togliiva=function(t){return t/1.22},t.prototype.calcoloconmargineinpercentuale=function(t,e){return t*e/100},t.prototype.prezzoinfattura=function(t,e,i){return this.togliiva(t)-e*i/100},t.prototype.prezzoconvolumesenzaiva=function(t,e,i,o){return Number(this.prezzoinfattura(t,e,i).toFixed(3))*o},t.prototype.calcolasommavocidirettifica=function(){for(var t=0,e=0,i=this.tableRows;e<i.length;e++){var o=i[e];o.segno?t+=o.valore:t-=o.valore}return t},t.prototype.calcolatotaleconiva=function(){return 1.22*this.prezzoconvolumesenzaiva(this.gasolioservito,this.proprietario.marginegasolioservito,this.percentualegasolio,this.fabbisognoselezionato.gasolio)+1.22*this.prezzoconvolumesenzaiva(this.benzinaservito,this.proprietario.marginebenzinaservito,this.percentualebenzina,this.fabbisognoselezionato.benzina)+1.22*this.prezzoconvolumesenzaiva(this.supremeservito,this.proprietario.marginesupremeservito,this.percentualesupreme,this.fabbisognoselezionato.supreme)+1.22*this.prezzoconvolumesenzaiva(this.gplservito,this.proprietario.marginegplservito,this.percentualegpl,this.fabbisognoselezionato.gpl)},t.prototype.calcolaimportobonifico=function(){return this.calcolatotaleconiva()+this.calcolasommavocidirettifica()},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.aggiungivocedirettifica=function(){var t=this;this.dialog.open(oa,{width:"450px",data:this.copiaarray(this.tableRows)}).afterClosed().subscribe((function(e){void 0!==e&&(t.tableRows=e,t.rerender())}))},t.prototype.copiaarray=function(t){var e=[];return t.forEach((function(t){return e.push(Object.assign({},t))})),e},t.prototype.eliminavocedirettifica=function(t){var e=this.tableRows.indexOf(t);-1!==e&&(this.tableRows.splice(e,1),this.rerender())},t.prototype.inserisciprezzidioggiseesistono=function(){var t=this.getprezzodipuntovenditapergiornopreventivo();void 0!==t&&(this.benzinaservito=t.prezzobenzina,this.gasolioservito=t.prezzogasolio,this.supremeservito=t.prezzosupreme,this.gplservito=t.prezzogpl,this.percentualegasolio=t.marginecessionegasolio,this.percentualebenzina=t.marginecessionebenzina,this.percentualesupreme=t.marginecessionesupreme,this.percentualegpl=t.marginecessionegpl)},t.prototype.getprezzodipuntovenditapergiornopreventivo=function(){for(var t=0,e=this.fabbisognoselezionato.puntoVendita.quotazioni;t<e.length;t++){var i=e[t];if(this.sameDay(i.data,this.fabbisognoselezionato.data))return i}return this.getdatapassatapiuvicina()},t.prototype.getdatapassatapiuvicina=function(){for(var t=0,e=void 0,i=0,o=this.fabbisognoselezionato.puntoVendita.quotazioni;i<o.length;i++){var n=o[i],a=this.getdifferenzadate(n.data,this.fabbisognoselezionato.data);(0===t||a<t)&&(t=a,e=n)}return e},t.prototype.getdifferenzadate=function(t,e){var i=new Date(t),o=new Date(e);return Math.abs(i.getTime()-o.getTime())},t.prototype.sameDay=function(t,e){var i=new Date(t),o=new Date(e);return i.getFullYear()===o.getFullYear()&&i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()},t.prototype.stampapreventivo=function(){this.fileservice.stampapreventivo(this.preventivo).subscribe((function(t){new Blob([t],{type:"application/pdf"});var e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.target="_blank",i.click()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(kn),r.Nb(pe),r.Nb(da),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-recappreventivosoloservito"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:213,vars:117,consts:[[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-6","text-center"],[1,"col-md-11"],[2,"width","100%"],["colspan","3"],["colspan","2"],["placeholder","0.000","type","number","lang","en_EN","step","0.01",2,"width","75px",3,"ngModel","ngModelChange"],["placeholder","0%","type","number",2,"width","75px",3,"ngModel","ngModelChange"],[1,"col-md-1"],[1,"col-md-4"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],[1,"col-md-2"],["datatable","",1,"row-border","hover"],[1,"manina"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"h4",4),r.Hc(5,"Preventivo"),r.Sb(),r.Sb(),r.Tb(6,"div",5),r.Tb(7,"div",0),r.Tb(8,"div",6),r.Hc(9),r.Ob(10,"br"),r.Hc(11),r.Sb(),r.Tb(12,"div",6),r.Hc(13),r.hc(14,"date"),r.Sb(),r.Sb(),r.Ob(15,"br"),r.Ob(16,"br"),r.Tb(17,"div",0),r.Tb(18,"div",7),r.Tb(19,"table",8),r.Tb(20,"tr"),r.Tb(21,"th",9),r.Hc(22,"PRODOTTO"),r.Sb(),r.Tb(23,"th",10),r.Hc(24,"GASOLIO"),r.Sb(),r.Tb(25,"th",10),r.Hc(26,"BENZINA"),r.Sb(),r.Tb(27,"th",10),r.Hc(28,"SUPREME"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"GPL"),r.Sb(),r.Sb(),r.Tb(31,"tr"),r.Tb(32,"td",9),r.Hc(33,"Modalit\xe0"),r.Sb(),r.Tb(34,"td",10),r.Hc(35,"Servito"),r.Sb(),r.Tb(36,"td",10),r.Hc(37,"Servito"),r.Sb(),r.Tb(38,"td",10),r.Hc(39,"Servito"),r.Sb(),r.Tb(40,"td"),r.Hc(41,"Servito"),r.Sb(),r.Sb(),r.Tb(42,"tr"),r.Tb(43,"td",9),r.Hc(44,"Prezzo al pubblico"),r.Sb(),r.Tb(45,"td",10),r.Tb(46,"input",11),r.ec("ngModelChange",(function(t){return e.gasolioservito=t})),r.Sb(),r.Sb(),r.Tb(47,"td",10),r.Tb(48,"input",11),r.ec("ngModelChange",(function(t){return e.benzinaservito=t})),r.Sb(),r.Sb(),r.Tb(49,"td",10),r.Tb(50,"input",11),r.ec("ngModelChange",(function(t){return e.supremeservito=t})),r.Sb(),r.Sb(),r.Tb(51,"td"),r.Tb(52,"input",11),r.ec("ngModelChange",(function(t){return e.gplservito=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(53,"tr"),r.Tb(54,"td",9),r.Hc(55,"Prezzo al pubblico Senza IVA"),r.Sb(),r.Tb(56,"td",10),r.Hc(57),r.hc(58,"number"),r.Sb(),r.Tb(59,"td",10),r.Hc(60),r.hc(61,"number"),r.Sb(),r.Tb(62,"td",10),r.Hc(63),r.hc(64,"number"),r.Sb(),r.Tb(65,"td"),r.Hc(66),r.hc(67,"number"),r.Sb(),r.Sb(),r.Tb(68,"tr"),r.Tb(69,"td",9),r.Hc(70,"Margine previsto per contratto"),r.Sb(),r.Tb(71,"td",10),r.Hc(72),r.Sb(),r.Tb(73,"td",10),r.Hc(74),r.Sb(),r.Tb(75,"td",10),r.Hc(76),r.Sb(),r.Tb(77,"td"),r.Hc(78),r.Sb(),r.Sb(),r.Tb(79,"tr"),r.Tb(80,"td",9),r.Hc(81,"Percentuale Margine cessione senza IVA"),r.Sb(),r.Tb(82,"td",10),r.Tb(83,"input",12),r.ec("ngModelChange",(function(t){return e.percentualegasolio=t})),r.Sb(),r.Sb(),r.Tb(84,"td",10),r.Tb(85,"input",12),r.ec("ngModelChange",(function(t){return e.percentualebenzina=t})),r.Sb(),r.Sb(),r.Tb(86,"td",10),r.Tb(87,"input",12),r.ec("ngModelChange",(function(t){return e.percentualesupreme=t})),r.Sb(),r.Sb(),r.Tb(88,"td"),r.Tb(89,"input",12),r.ec("ngModelChange",(function(t){return e.percentualegpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(90,"tr"),r.Tb(91,"td",9),r.Hc(92,"Margine cessione senza IVA"),r.Sb(),r.Tb(93,"td",10),r.Hc(94),r.hc(95,"number"),r.Sb(),r.Tb(96,"td",10),r.Hc(97),r.hc(98,"number"),r.Sb(),r.Tb(99,"td",10),r.Hc(100),r.hc(101,"number"),r.Sb(),r.Tb(102,"td"),r.Hc(103),r.hc(104,"number"),r.Sb(),r.Sb(),r.Tb(105,"tr"),r.Tb(106,"td",9),r.Hc(107,"Prezzo in fattura"),r.Sb(),r.Tb(108,"td",10),r.Hc(109),r.hc(110,"number"),r.Sb(),r.Tb(111,"td",10),r.Hc(112),r.hc(113,"number"),r.Sb(),r.Tb(114,"td",10),r.Hc(115),r.hc(116,"number"),r.Sb(),r.Tb(117,"td"),r.Hc(118),r.hc(119,"number"),r.Sb(),r.Sb(),r.Tb(120,"tr"),r.Tb(121,"td",9),r.Hc(122,"Volume ordinato"),r.Sb(),r.Tb(123,"td",10),r.Hc(124),r.Sb(),r.Tb(125,"td",10),r.Hc(126),r.Sb(),r.Tb(127,"td",10),r.Hc(128),r.Sb(),r.Tb(129,"td"),r.Hc(130),r.Sb(),r.Sb(),r.Tb(131,"tr"),r.Tb(132,"td",9),r.Hc(133,"Totale ordine senza IVA"),r.Sb(),r.Tb(134,"td",10),r.Hc(135),r.hc(136,"currency"),r.Sb(),r.Tb(137,"td",10),r.Hc(138),r.hc(139,"currency"),r.Sb(),r.Tb(140,"td",10),r.Hc(141),r.hc(142,"currency"),r.Sb(),r.Tb(143,"td"),r.Hc(144),r.hc(145,"currency"),r.Sb(),r.Sb(),r.Tb(146,"tr"),r.Tb(147,"td",9),r.Hc(148,"Totale ordine IVA Compresa"),r.Sb(),r.Tb(149,"td",10),r.Hc(150),r.hc(151,"currency"),r.Sb(),r.Tb(152,"td",10),r.Hc(153),r.hc(154,"currency"),r.Sb(),r.Tb(155,"td",10),r.Hc(156),r.hc(157,"currency"),r.Sb(),r.Tb(158,"td"),r.Hc(159),r.hc(160,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(161,"div",0),r.Ob(162,"br"),r.Sb(),r.Tb(163,"div",0),r.Ob(164,"div",13),r.Tb(165,"div",14),r.Tb(166,"table",15),r.Tb(167,"thead"),r.Tb(168,"tr"),r.Tb(169,"th"),r.Hc(170,"Voce di rettifica"),r.Sb(),r.Tb(171,"th"),r.Hc(172,"Valore"),r.Sb(),r.Tb(173,"th"),r.Hc(174,"Descrizione"),r.Sb(),r.Tb(175,"th"),r.Hc(176,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(177,"tbody"),r.Fc(178,pa,10,3,"tr",16),r.Sb(),r.Sb(),r.Ob(179,"br"),r.Tb(180,"button",17),r.ec("click",(function(){return e.aggiungivocedirettifica()})),r.Hc(181,"Aggiungi Voce di rettifica"),r.Sb(),r.Sb(),r.Ob(182,"div",18),r.Tb(183,"div",14),r.Tb(184,"table",19),r.Ob(185,"thead"),r.Tb(186,"tbody"),r.Tb(187,"tr"),r.Tb(188,"td"),r.Hc(189," TOTALE FORNITURA IVA COMPRESA"),r.Sb(),r.Tb(190,"td"),r.Hc(191),r.hc(192,"number"),r.Sb(),r.Sb(),r.Tb(193,"tr"),r.Tb(194,"td"),r.Hc(195," TOTALE VOCI DI RETTIFICA "),r.Sb(),r.Tb(196,"td"),r.Hc(197),r.hc(198,"number"),r.Sb(),r.Sb(),r.Tb(199,"tr"),r.Tb(200,"td"),r.Tb(201,"b"),r.Hc(202," IMPORTO BONIFICO "),r.Sb(),r.Sb(),r.Tb(203,"td"),r.Tb(204,"b"),r.Hc(205),r.hc(206,"number"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(207,"br"),r.Tb(208,"button",17),r.ec("click",(function(){return e.aggiungipreventivo()})),r.Hc(209,"Aggiorna preventivo"),r.Sb(),r.Tb(210,"button",17),r.ec("click",(function(){return e.stampapreventivo()})),r.Hc(211,"Stampa preventivo"),r.Sb(),r.Sb(),r.Ob(212,"div",13),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(9),r.Jc(" ",e.fabbisognoselezionato.puntoVendita.nome," "),r.Ab(2),r.Jc(" ",e.proprietario.nomecliente," "),r.Ab(2),r.Jc(" Data di consegna: ",r.jc(14,45,e.fabbisognoselezionato.data,"dd-MM-yyyy")," "),r.Ab(33),r.mc("ngModel",e.gasolioservito),r.Ab(2),r.mc("ngModel",e.benzinaservito),r.Ab(2),r.mc("ngModel",e.supremeservito),r.Ab(2),r.mc("ngModel",e.gplservito),r.Ab(5),r.Ic(r.jc(58,48,e.togliiva(e.gasolioservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(61,51,e.togliiva(e.benzinaservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(64,54,e.togliiva(e.supremeservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(67,57,e.togliiva(e.gplservito),"1.3-3")),r.Ab(6),r.Ic(e.proprietario.marginegasolioservito),r.Ab(2),r.Ic(e.proprietario.marginebenzinaservito),r.Ab(2),r.Ic(e.proprietario.marginesupremeservito),r.Ab(2),r.Ic(e.proprietario.marginegplservito),r.Ab(5),r.mc("ngModel",e.percentualegasolio),r.Ab(2),r.mc("ngModel",e.percentualebenzina),r.Ab(2),r.mc("ngModel",e.percentualesupreme),r.Ab(2),r.mc("ngModel",e.percentualegpl),r.Ab(5),r.Ic(r.jc(95,60,e.percentualegasolio/100*e.proprietario.marginegasolioservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(98,63,e.percentualebenzina/100*e.proprietario.marginebenzinaservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(101,66,e.percentualesupreme/100*e.proprietario.marginesupremeservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(104,69,e.percentualegpl/100*e.proprietario.marginegplservito,"1.3-3")),r.Ab(6),r.Ic(r.jc(110,72,e.prezzoinfattura(e.gasolioservito,e.proprietario.marginegasolioservito,e.percentualegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(113,75,e.prezzoinfattura(e.benzinaservito,e.proprietario.marginebenzinaservito,e.percentualebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(116,78,e.prezzoinfattura(e.supremeservito,e.proprietario.marginesupremeservito,e.percentualesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(119,81,e.prezzoinfattura(e.gplservito,e.proprietario.marginegplservito,e.percentualegpl),"1.3-3")),r.Ab(6),r.Ic(e.fabbisognoselezionato.gasolio),r.Ab(2),r.Ic(e.fabbisognoselezionato.benzina),r.Ab(2),r.Ic(e.fabbisognoselezionato.supreme),r.Ab(2),r.Ic(e.fabbisognoselezionato.gpl),r.Ab(5),r.Ic(r.jc(136,84,e.prezzoconvolumesenzaiva(e.gasolioservito,e.proprietario.marginegasolioservito,e.percentualegasolio,e.fabbisognoselezionato.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(139,87,e.prezzoconvolumesenzaiva(e.benzinaservito,e.proprietario.marginebenzinaservito,e.percentualebenzina,e.fabbisognoselezionato.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(142,90,e.prezzoconvolumesenzaiva(e.supremeservito,e.proprietario.marginesupremeservito,e.percentualesupreme,e.fabbisognoselezionato.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(145,93,e.prezzoconvolumesenzaiva(e.gplservito,e.proprietario.marginegplservito,e.percentualegpl,e.fabbisognoselezionato.gpl),"EUR")),r.Ab(6),r.Ic(r.jc(151,96,1.22*e.prezzoconvolumesenzaiva(e.gasolioservito,e.proprietario.marginegasolioservito,e.percentualegasolio,e.fabbisognoselezionato.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(154,99,1.22*e.prezzoconvolumesenzaiva(e.benzinaservito,e.proprietario.marginebenzinaservito,e.percentualebenzina,e.fabbisognoselezionato.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(157,102,1.22*e.prezzoconvolumesenzaiva(e.supremeservito,e.proprietario.marginesupremeservito,e.percentualesupreme,e.fabbisognoselezionato.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(160,105,1.22*e.prezzoconvolumesenzaiva(e.gplservito,e.proprietario.marginegplservito,e.percentualegpl,e.fabbisognoselezionato.gpl),"EUR")),r.Ab(7),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(12),r.mc("ngForOf",e.tableRows),r.Ab(13),r.Jc(" \u20ac ",r.jc(192,108,e.calcolatotaleconiva(),"1.2-2")," "),r.Ab(6),r.Jc(" \u20ac ",r.jc(198,111,e.calcolasommavocidirettifica(),"1.2-2")," "),r.Ab(8),r.Jc(" \u20ac ",r.jc(206,114,e.calcolaimportobonifico(),"1.2-2")," "))},directives:[a.q,a.b,a.l,a.o,c,n.n,ie.a],pipes:[n.f,n.g,n.d],styles:[""]}),t}();function ha(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",24),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Hc(6),r.Sb(),r.Tb(7,"td"),r.Tb(8,"button",25),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc(2).eliminavocedirettifica(t)})),r.Hc(9,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.vocedirettifica),r.Ab(2),r.Jc("\u20ac ",o.valore,""),r.Ab(2),r.Ic(o.descrizione)}}function va(t,e){if(1&t){var i=r.Ub();r.Tb(0,"div",2),r.Tb(1,"div",2),r.Tb(2,"div",3),r.Tb(3,"div",4),r.Tb(4,"div",5),r.Tb(5,"div",6),r.Tb(6,"div",7),r.Tb(7,"h4",8),r.Hc(8,"Preventivo"),r.Sb(),r.Sb(),r.Tb(9,"div",9),r.Tb(10,"div",4),r.Tb(11,"div",10),r.Hc(12),r.Ob(13,"br"),r.Hc(14),r.Sb(),r.Tb(15,"div",10),r.Hc(16),r.hc(17,"date"),r.Sb(),r.Sb(),r.Ob(18,"br"),r.Ob(19,"br"),r.Tb(20,"div",4),r.Tb(21,"div",11),r.Tb(22,"table",12),r.Tb(23,"tr"),r.Tb(24,"th",13),r.Hc(25,"PRODOTTO"),r.Sb(),r.Tb(26,"th",14),r.Hc(27,"GASOLIO"),r.Sb(),r.Tb(28,"th",14),r.Hc(29,"BENZINA"),r.Sb(),r.Tb(30,"th",14),r.Hc(31,"SUPREME"),r.Sb(),r.Tb(32,"th"),r.Hc(33,"GPL"),r.Sb(),r.Sb(),r.Tb(34,"tr"),r.Tb(35,"td",13),r.Hc(36,"Modalit\xe0"),r.Sb(),r.Tb(37,"td"),r.Hc(38,"Servito"),r.Sb(),r.Tb(39,"td"),r.Hc(40,"Self"),r.Sb(),r.Tb(41,"td"),r.Hc(42,"Servito"),r.Sb(),r.Tb(43,"td"),r.Hc(44,"Self"),r.Sb(),r.Tb(45,"td"),r.Hc(46,"Servito"),r.Sb(),r.Tb(47,"td"),r.Hc(48,"Self"),r.Sb(),r.Tb(49,"td"),r.Hc(50,"Servito"),r.Sb(),r.Sb(),r.Tb(51,"tr"),r.Tb(52,"td",13),r.Hc(53,"Prezzo al pubblico"),r.Sb(),r.Tb(54,"td"),r.Tb(55,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().gasolioservito=t})),r.Sb(),r.Sb(),r.Tb(56,"td"),r.Tb(57,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().gasolioself=t})),r.Sb(),r.Sb(),r.Tb(58,"td"),r.Tb(59,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().benzinaservito=t})),r.Sb(),r.Sb(),r.Tb(60,"td"),r.Tb(61,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().benzinaself=t})),r.Sb(),r.Sb(),r.Tb(62,"td"),r.Tb(63,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().supremeservito=t})),r.Sb(),r.Sb(),r.Tb(64,"td"),r.Tb(65,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().supremeself=t})),r.Sb(),r.Sb(),r.Tb(66,"td"),r.Tb(67,"input",15),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().gplservito=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(68,"tr"),r.Tb(69,"td",13),r.Hc(70,"Prezzo al pubblico Senza IVA"),r.Sb(),r.Tb(71,"td"),r.Hc(72),r.hc(73,"number"),r.Sb(),r.Tb(74,"td"),r.Hc(75),r.hc(76,"number"),r.Sb(),r.Tb(77,"td"),r.Hc(78),r.hc(79,"number"),r.Sb(),r.Tb(80,"td"),r.Hc(81),r.hc(82,"number"),r.Sb(),r.Tb(83,"td"),r.Hc(84),r.hc(85,"number"),r.Sb(),r.Tb(86,"td"),r.Hc(87),r.hc(88,"number"),r.Sb(),r.Tb(89,"td"),r.Hc(90),r.hc(91,"number"),r.Sb(),r.Sb(),r.Tb(92,"tr"),r.Tb(93,"td",13),r.Hc(94,"Margine previsto per contratto"),r.Sb(),r.Tb(95,"td"),r.Hc(96),r.Sb(),r.Tb(97,"td"),r.Hc(98),r.Sb(),r.Tb(99,"td"),r.Hc(100),r.Sb(),r.Tb(101,"td"),r.Hc(102),r.Sb(),r.Tb(103,"td"),r.Hc(104),r.Sb(),r.Tb(105,"td"),r.Hc(106),r.Sb(),r.Tb(107,"td"),r.Hc(108),r.Sb(),r.Sb(),r.Tb(109,"tr"),r.Tb(110,"td",13),r.Hc(111,"Percentuale Margine cessione senza IVA"),r.Sb(),r.Tb(112,"td",14),r.Tb(113,"input",16),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().percentualegasolio=t})),r.Sb(),r.Sb(),r.Tb(114,"td",14),r.Tb(115,"input",16),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().percentualebenzina=t})),r.Sb(),r.Sb(),r.Tb(116,"td",14),r.Tb(117,"input",16),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().percentualesupreme=t})),r.Sb(),r.Sb(),r.Tb(118,"td"),r.Tb(119,"input",16),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().percentualegpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(120,"tr"),r.Tb(121,"td",13),r.Hc(122,"Margine cessione senza IVA"),r.Sb(),r.Tb(123,"td",14),r.Hc(124),r.hc(125,"number"),r.Sb(),r.Tb(126,"td",14),r.Hc(127),r.hc(128,"number"),r.Sb(),r.Tb(129,"td",14),r.Hc(130),r.hc(131,"number"),r.Sb(),r.Tb(132,"td"),r.Hc(133),r.hc(134,"number"),r.Sb(),r.Sb(),r.Tb(135,"tr"),r.Tb(136,"td",13),r.Hc(137,"Prezzo in fattura"),r.Sb(),r.Tb(138,"td",14),r.Hc(139),r.hc(140,"number"),r.Sb(),r.Tb(141,"td",14),r.Hc(142),r.hc(143,"number"),r.Sb(),r.Tb(144,"td",14),r.Hc(145),r.hc(146,"number"),r.Sb(),r.Tb(147,"td"),r.Hc(148),r.hc(149,"number"),r.Sb(),r.Sb(),r.Tb(150,"tr"),r.Tb(151,"td",13),r.Hc(152,"Volume ordinato"),r.Sb(),r.Tb(153,"td",14),r.Hc(154),r.Sb(),r.Tb(155,"td",14),r.Hc(156),r.Sb(),r.Tb(157,"td",14),r.Hc(158),r.Sb(),r.Tb(159,"td"),r.Hc(160),r.Sb(),r.Sb(),r.Tb(161,"tr"),r.Tb(162,"td",13),r.Hc(163,"Totale ordine senza IVA"),r.Sb(),r.Tb(164,"td",14),r.Hc(165),r.hc(166,"currency"),r.Sb(),r.Tb(167,"td",14),r.Hc(168),r.hc(169,"currency"),r.Sb(),r.Tb(170,"td",14),r.Hc(171),r.hc(172,"currency"),r.Sb(),r.Tb(173,"td"),r.Hc(174),r.hc(175,"currency"),r.Sb(),r.Sb(),r.Tb(176,"tr"),r.Tb(177,"td",13),r.Hc(178,"Totale ordine IVA Compresa"),r.Sb(),r.Tb(179,"td",14),r.Hc(180),r.hc(181,"currency"),r.Sb(),r.Tb(182,"td",14),r.Hc(183),r.hc(184,"currency"),r.Sb(),r.Tb(185,"td",14),r.Hc(186),r.hc(187,"currency"),r.Sb(),r.Tb(188,"td"),r.Hc(189),r.hc(190,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(191,"div",4),r.Ob(192,"br"),r.Sb(),r.Tb(193,"div",4),r.Ob(194,"div",17),r.Tb(195,"div",18),r.Tb(196,"table",19),r.Tb(197,"thead"),r.Tb(198,"tr"),r.Tb(199,"th"),r.Hc(200,"Voce di rettifica"),r.Sb(),r.Tb(201,"th"),r.Hc(202,"Valore"),r.Sb(),r.Tb(203,"th"),r.Hc(204,"Descrizione"),r.Sb(),r.Tb(205,"th"),r.Hc(206,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(207,"tbody"),r.Fc(208,ha,10,3,"tr",20),r.Sb(),r.Sb(),r.Ob(209,"br"),r.Tb(210,"button",21),r.ec("click",(function(){return r.wc(i),r.gc().aggiungivocedirettifica()})),r.Hc(211,"Aggiungi Voce di rettifica"),r.Sb(),r.Sb(),r.Ob(212,"div",22),r.Tb(213,"div",18),r.Tb(214,"table",23),r.Ob(215,"thead"),r.Tb(216,"tbody"),r.Tb(217,"tr"),r.Tb(218,"td"),r.Hc(219," TOTALE FORNITURA IVA COMPRESA"),r.Sb(),r.Tb(220,"td"),r.Hc(221),r.hc(222,"number"),r.Sb(),r.Sb(),r.Tb(223,"tr"),r.Tb(224,"td"),r.Hc(225," TOTALE VOCI DI RETTIFICA "),r.Sb(),r.Tb(226,"td"),r.Hc(227),r.hc(228,"number"),r.Sb(),r.Sb(),r.Tb(229,"tr"),r.Tb(230,"td"),r.Tb(231,"b"),r.Hc(232," IMPORTO BONIFICO "),r.Sb(),r.Sb(),r.Tb(233,"td"),r.Tb(234,"b"),r.Hc(235),r.hc(236,"number"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(237,"br"),r.Tb(238,"button",21),r.ec("click",(function(){return r.wc(i),r.gc().aggiungipreventivo()})),r.Hc(239,"Aggiorna preventivo"),r.Sb(),r.Tb(240,"button",21),r.ec("click",(function(){return r.wc(i),r.gc().stampapreventivo()})),r.Hc(241,"Stampa preventivo"),r.Sb(),r.Sb(),r.Ob(242,"div",17),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=r.gc();r.Ab(12),r.Jc(" ",o.fabbisognoselezionato.puntoVendita.nome," "),r.Ab(2),r.Jc(" ",o.proprietario.nomecliente," "),r.Ab(2),r.Jc(" Data di consegna: ",r.jc(17,54,o.fabbisognoselezionato.data,"dd-MM-yyyy")," "),r.Ab(39),r.mc("ngModel",o.gasolioservito),r.Ab(2),r.mc("ngModel",o.gasolioself),r.Ab(2),r.mc("ngModel",o.benzinaservito),r.Ab(2),r.mc("ngModel",o.benzinaself),r.Ab(2),r.mc("ngModel",o.supremeservito),r.Ab(2),r.mc("ngModel",o.supremeself),r.Ab(2),r.mc("ngModel",o.gplservito),r.Ab(5),r.Ic(r.jc(73,57,o.togliiva(o.gasolioservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(76,60,o.togliiva(o.gasolioself),"1.3-3")),r.Ab(3),r.Ic(r.jc(79,63,o.togliiva(o.benzinaservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(82,66,o.togliiva(o.benzinaself),"1.3-3")),r.Ab(3),r.Ic(r.jc(85,69,o.togliiva(o.supremeservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(88,72,o.togliiva(o.supremeself),"1.3-3")),r.Ab(3),r.Ic(r.jc(91,75,o.togliiva(o.gplservito),"1.3-3")),r.Ab(6),r.Ic(o.proprietario.marginegasolioservito),r.Ab(2),r.Ic(o.proprietario.marginegasolioself),r.Ab(2),r.Ic(o.proprietario.marginebenzinaservito),r.Ab(2),r.Ic(o.proprietario.marginebenzinaself),r.Ab(2),r.Ic(o.proprietario.marginesupremeservito),r.Ab(2),r.Ic(o.proprietario.marginesupremeself),r.Ab(2),r.Ic(o.proprietario.marginegplservito),r.Ab(5),r.mc("ngModel",o.percentualegasolio),r.Ab(2),r.mc("ngModel",o.percentualebenzina),r.Ab(2),r.mc("ngModel",o.percentualesupreme),r.Ab(2),r.mc("ngModel",o.percentualegpl),r.Ab(5),r.Ic(r.jc(125,78,o.percentualegasolio/100*o.proprietario.marginegasolioservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(128,81,o.percentualebenzina/100*o.proprietario.marginebenzinaservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(131,84,o.percentualesupreme/100*o.proprietario.marginesupremeservito,"1.3-3")),r.Ab(3),r.Ic(r.jc(134,87,o.percentualegpl/100*o.proprietario.marginegplservito,"1.3-3")),r.Ab(6),r.Ic(r.jc(140,90,o.prezzoinfattura(o.gasolioself,o.proprietario.marginegasolioself,o.percentualegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(143,93,o.prezzoinfattura(o.benzinaself,o.proprietario.marginebenzinaself,o.percentualebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(146,96,o.prezzoinfattura(o.supremeself,o.proprietario.marginesupremeself,o.percentualesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(149,99,o.prezzoinfattura(o.gplservito,o.proprietario.marginegplservito,o.percentualegpl),"1.3-3")),r.Ab(6),r.Ic(o.fabbisognoselezionato.gasolio),r.Ab(2),r.Ic(o.fabbisognoselezionato.benzina),r.Ab(2),r.Ic(o.fabbisognoselezionato.supreme),r.Ab(2),r.Ic(o.fabbisognoselezionato.gpl),r.Ab(5),r.Ic(r.jc(166,102,o.prezzoconvolumesenzaiva(o.gasolioself,o.proprietario.marginegasolioself,o.percentualegasolio,o.fabbisognoselezionato.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(169,105,o.prezzoconvolumesenzaiva(o.benzinaself,o.proprietario.marginebenzinaself,o.percentualebenzina,o.fabbisognoselezionato.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(172,108,o.prezzoconvolumesenzaiva(o.supremeself,o.proprietario.marginesupremeself,o.percentualesupreme,o.fabbisognoselezionato.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(175,111,o.prezzoconvolumesenzaiva(o.gplservito,o.proprietario.marginegplservito,o.percentualegpl,o.fabbisognoselezionato.gpl),"EUR")),r.Ab(6),r.Ic(r.jc(181,114,1.22*o.prezzoconvolumesenzaiva(o.gasolioself,o.proprietario.marginegasolioself,o.percentualegasolio,o.fabbisognoselezionato.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(184,117,1.22*o.prezzoconvolumesenzaiva(o.benzinaself,o.proprietario.marginebenzinaself,o.percentualebenzina,o.fabbisognoselezionato.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(187,120,1.22*o.prezzoconvolumesenzaiva(o.supremeself,o.proprietario.marginesupremeself,o.percentualesupreme,o.fabbisognoselezionato.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(190,123,1.22*o.prezzoconvolumesenzaiva(o.gplservito,o.proprietario.marginegplservito,o.percentualegpl,o.fabbisognoselezionato.gpl),"EUR")),r.Ab(7),r.mc("dtOptions",o.dtOptions)("dtTrigger",o.dtTrigger),r.Ab(12),r.mc("ngForOf",o.tableRows),r.Ab(13),r.Jc(" \u20ac ",r.jc(222,126,o.calcolatotaleconiva(),"1.2-2")," "),r.Ab(6),r.Jc(" \u20ac ",r.jc(228,129,o.calcolasommavocidirettifica(),"1.2-2")," "),r.Ab(8),r.Jc(" \u20ac ",r.jc(236,132,o.calcolaimportobonifico(),"1.2-2")," ")}}function ma(t,e){1&t&&(r.Tb(0,"div",2),r.Tb(1,"div",3),r.Ob(2,"app-recappreventivosoloservito"),r.Sb(),r.Sb())}var Ta={emptyTable:"Non ci sono dati!",search:"cerca",searchPlaceholder:"cerca nella tabella"},Sa=function(){function t(t,e,i,o,n,a,r){var c=this;this.router=t,this.dialog=e,this.preventivoservice=i,this.gestioneclienti=o,this.puntivenditaservice=n,this.toastr=a,this.fileservice=r,this.dtTrigger=new b.a,this.dtOptions={},this.tableRows=[],this.fabbisognoselezionato=this.preventivoservice.fabbisognoselezionato,this.gasolioservito=0,this.gasolioself=0,this.benzinaservito=0,this.benzinaself=0,this.supremeservito=0,this.supremeself=0,this.gplservito=0,this.marginegasolioservito=0,this.marginegasolioself=0,this.marginebenzinaservito=0,this.marginebenzinaself=0,this.marginesupremeservito=0,this.marginesupremeself=0,this.marginegplservito=0,this.percentualegasolio=0,this.percentualebenzina=0,this.percentualesupreme=0,this.percentualegpl=0,this.gestioneclienti.getproprietario(this.fabbisognoselezionato.puntoVendita).subscribe((function(t){c.proprietario=t}))}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={paging:!1,searching:!1,info:!1,ordering:!1,language:Ta},this.preventivoservice.getpreventivo(this.fabbisognoselezionato).subscribe((function(e){t.preventivo=e,t.gasolioservito=t.preventivo.prezzoalpubblicogasolioservito,t.gasolioself=t.preventivo.prezzoalpubblicogasolioself,t.benzinaservito=t.preventivo.prezzoalpubblicobenzinaservito,t.benzinaself=t.preventivo.prezzoalpubblicobenzinaself,t.supremeservito=t.preventivo.prezzoalpubblicosupremeservito,t.supremeself=t.preventivo.prezzoalpubblicosupremeself,t.gplservito=t.preventivo.prezzoalpubblicogplservito,t.marginegasolioservito=t.proprietario.marginegasolioservito,t.marginegasolioself=t.proprietario.marginegasolioself,t.marginebenzinaservito=t.proprietario.marginebenzinaservito,t.marginebenzinaself=t.proprietario.marginebenzinaself,t.marginesupremeservito=t.proprietario.marginesupremeservito,t.marginesupremeself=t.proprietario.marginesupremeself,t.marginegplservito=t.proprietario.marginegplservito,t.percentualegasolio=t.preventivo.marginecessionegasolio,t.percentualebenzina=t.preventivo.marginecessionebenzina,t.percentualesupreme=t.preventivo.marginecessionesupreme,t.percentualegpl=t.preventivo.marginecessionegpl,t.tableRows=t.preventivo.listavocidirettifica}))},t.prototype.togliiva=function(t){return t/1.22},t.prototype.prezzoinfattura=function(t,e,i){return this.togliiva(t)-e*i/100},t.prototype.prezzoconvolumesenzaiva=function(t,e,i,o){return Number(this.prezzoinfattura(t,e,i).toFixed(3))*o},t.prototype.calcolasommavocidirettifica=function(){for(var t=0,e=0,i=this.tableRows;e<i.length;e++){var o=i[e];o.segno?t+=o.valore:t-=o.valore}return t},t.prototype.calcolatotaleconiva=function(){return 1.22*this.prezzoconvolumesenzaiva(this.preventivo.prezzoalpubblicogasolioself,this.proprietario.marginegasolioself,this.preventivo.marginecessionegasolio,this.preventivo.riferimento.gasolio)+1.22*this.prezzoconvolumesenzaiva(this.preventivo.prezzoalpubblicobenzinaself,this.proprietario.marginebenzinaself,this.preventivo.marginecessionebenzina,this.preventivo.riferimento.benzina)+1.22*this.prezzoconvolumesenzaiva(this.preventivo.prezzoalpubblicosupremeself,this.proprietario.marginesupremeself,this.preventivo.marginecessionesupreme,this.preventivo.riferimento.supreme)+1.22*this.prezzoconvolumesenzaiva(this.preventivo.prezzoalpubblicogplservito,this.proprietario.marginegplself,this.preventivo.marginecessionegpl,this.preventivo.riferimento.gpl)},t.prototype.calcolaimportobonifico=function(){return this.calcolatotaleconiva()+this.calcolasommavocidirettifica()},t.prototype.stampapreventivo=function(){this.fileservice.stampapreventivo(this.preventivo).subscribe((function(t){new Blob([t],{type:"application/pdf"});var e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.target="_blank",i.click()}))},t.prototype.aggiungipreventivo=function(){var t=this;this.dialog.open(oe,{data:{title:"Creazione preventivo",message:"Aggiungere il preventivo?"}}).afterClosed().subscribe((function(e){if(!0===e){var i=new ea;i.id=t.preventivo.id,i.data=new Date,i.riferimento=t.fabbisognoselezionato,i.nomecliente=t.proprietario.nomecliente,i.marginecessionebenzina=t.percentualebenzina,i.marginecessionegasolio=t.percentualegasolio,i.marginecessionesupreme=t.percentualesupreme,i.marginecessionegpl=t.percentualegpl,i.prezzoalpubblicobenzinaself=t.benzinaself,i.prezzoalpubblicobenzinaservito=t.benzinaservito,i.prezzoalpubblicogasolioself=t.gasolioself,i.prezzoalpubblicogasolioservito=t.gasolioservito,i.prezzoalpubblicosupremeself=t.supremeself,i.prezzoalpubblicosupremeservito=t.supremeservito,i.prezzoalpubblicogplservito=t.gplservito,i.listavocidirettifica=t.tableRows,t.preventivoservice.aggiungimodifica(i).subscribe((function(e){e?t.toastr.success("Preventivo aggiunto!","Aggiunto!"):t.toastr.error("Errore nell'aggiornamento del preventivo","Errore")}))}}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.aggiungivocedirettifica=function(){var t=this;this.dialog.open(oa,{width:"450px",data:this.copiaarray(this.tableRows)}).afterClosed().subscribe((function(e){void 0!==e&&(t.tableRows=e,t.rerender())}))},t.prototype.copiaarray=function(t){var e=[];return t.forEach((function(t){return e.push(Object.assign({},t))})),e},t.prototype.eliminavocedirettifica=function(t){this.verificaseinarray(t,this.fabbisognoselezionato.puntoVendita.listavocidirettifica)||this.fabbisognoselezionato.puntoVendita.listavocidirettifica.push(t);var e=this.tableRows.indexOf(t);-1!==e&&(this.tableRows.splice(e,1),this.rerender())},t.prototype.verificaseinarray=function(t,e){for(var i=0,o=e;i<o.length;i++)if(o[i].id===t.id)return!0;return!1},t.prototype.tornaindietro=function(){this.preventivoservice.preventivoselezionato=void 0,this.router.navigate(["/admin/preventivo"])},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(kn),r.Nb(pe),r.Nb(pe),r.Nb(ne.b),r.Nb(da))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-recappreventivo"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:4,vars:2,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],["class","main-content",4,"ngIf"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-6","text-center"],[1,"col-md-11"],[2,"width","100%"],["colspan","3"],["colspan","2"],["placeholder","0.000","type","number","lang","en_EN","step","0.01",2,"width","75px",3,"ngModel","ngModelChange"],["placeholder","0%","type","number",2,"width","75px",3,"ngModel","ngModelChange"],[1,"col-md-1"],[1,"col-md-4"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],[1,"col-md-2"],["datatable","",1,"row-border","hover"],[1,"manina"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Fc(2,va,243,135,"div",1),r.Fc(3,ma,3,0,"div",1)),2&t&&(r.Ab(2),r.mc("ngIf",!e.fabbisognoselezionato.puntoVendita.allservito),r.Ab(1),r.mc("ngIf",e.fabbisognoselezionato.puntoVendita.allservito))},directives:[ie.a,n.o,a.q,a.b,a.l,a.o,c,n.n,fa],pipes:[n.f,n.g,n.d],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}.tabellamia[_ngcontent-%COMP%]{border:1px solid #000}"]}),t}(),za=function(){function t(t,e,i){this.http=t,this.cookieService=e,this.loginservice=i}return t.prototype.gettrasporto=function(t){return this.http.get(l.b+"trasporto/findbyfabbisognoid/"+t.id+"?access_token="+this.loginservice.gettoken())},t.prototype.aggiungimodifica=function(t){return this.http.post(l.b+"trasporto/salva?access_token="+this.loginservice.gettoken(),t)},t.prototype.cancella=function(t){return this.http.post(l.b+"trasporto/rimuovi?access_token="+this.loginservice.gettoken(),t)},t.prototype.cancelladafabbisogno=function(t){return this.http.post(l.b+"trasporto/rimuovidafabbisogno?access_token="+this.loginservice.gettoken(),t)},t.prototype.findviaggio=function(t){return this.http.post(l.b+"trasporto/findviaggio?access_token="+this.loginservice.gettoken(),t)},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(d.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}(),ya=function(){return function(){}}();function _a(t,e){if(1&t){var i=r.Ub();r.Tb(0,"input",20),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().filter.atk.codice=t})),r.Sb()}if(2&t){var o=r.gc();r.mc("ngModel",o.filter.atk.codice)}}function Aa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"input",20),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().filter.atk=t})),r.Sb()}if(2&t){var o=r.gc();r.mc("ngModel",o.filter.atk)}}function Oa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",21),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().atkselezionato(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.codice)}}function wa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",25),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.hc(2,"date"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,o.listaviaggi[0].datadicaricazione,"dd/MM/yyyy"))}}function ka(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",25),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(null==o.listaviaggi[0].atk?null:o.listaviaggi[0].atk.targa)}}function Ha(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",25),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(null==o.listaviaggi[0].rimorchio?null:o.listaviaggi[0].rimorchio.targa)}}function Ia(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",25),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(null==o.listaviaggi[0].autista?null:o.listaviaggi[0].autista.nomeautista)}}function Ca(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",25),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.listaviaggi.length)}}function Ma(t,e){1&t&&r.Ob(0,"td")}function xa(t,e){1&t&&r.Ob(0,"td")}function ja(t,e){1&t&&r.Ob(0,"td")}function Ra(t,e){1&t&&r.Ob(0,"td")}function Na(t,e){1&t&&r.Ob(0,"td")}function Da(t,e){if(1&t&&(r.Tb(0,"tr",22),r.Fc(1,wa,3,4,"td",23),r.Fc(2,ka,2,1,"td",23),r.Fc(3,Ha,2,1,"td",23),r.Fc(4,Ia,2,1,"td",23),r.Fc(5,Ca,2,1,"td",23),r.Fc(6,Ma,1,0,"td",24),r.Fc(7,xa,1,0,"td",24),r.Fc(8,ja,1,0,"td",24),r.Fc(9,Ra,1,0,"td",24),r.Fc(10,Na,1,0,"td",24),r.Sb()),2&t){var i=e.$implicit;r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length)}}var Pa={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Fa=function(){function t(t,e,i,o,n){this.router=t,this.trasportatoriservice=e,this.trasportoservice=i,this.toastr=o,this.dialog=n,this.dtTrigger=new b.a,this.dtOptions={},this.filter=new ya,this.listaatk=[],this.listaviaggi=[]}return t.prototype.ngOnInit=function(){var t=this,e=new Date;e.setDate(e.getDate()-1);var i=new Date;i.setDate(i.getDate()+6),this.filter.data=e,this.filter.datafine=i,this.avviaricerca(),this.trasportatoriservice.getallatk().subscribe((function(e){t.listaatk=e})),this.dtOptions={language:Pa}},t.prototype.atkselezionato=function(t){this.filter.atk=t},t.prototype.avviaricerca=function(){var t=this;this.toastr.info("Potrebbe richiedere qualche secondo!","Ricerca avviata!"),console.log("AVVIO RICERCA"),this.sameDay(this.filter.data,this.filter.datafine)&&(console.log("STESSO GIORNO"),this.filter.datafine=void 0),this.trasportoservice.findviaggio(this.filter).subscribe((function(e){console.log("LISTA VIAGGI"),console.log(e),t.listaviaggi=e,t.rerender()}),(function(e){t.toastr.error("Errore nella ricerca","Ricerca terminata!")}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.cancellafiltri=function(){this.filter.data=new Date,this.filter.datafine=void 0,this.filter.atk=void 0},t.prototype.aggiornadata=function(t){this.filter.data=new Date(t)},t.prototype.aggiornadatafine=function(t){this.filter.datafine=new Date(t)},t.prototype.recaptrasporto=function(t){this.trasportoservice.viaggioselezionato=t,this.router.navigate(["/admin/recaptrasporto"])},t.prototype.sameDay=function(t,e){return t.getFullYear()===e.getFullYear()&&t.getMonth()===e.getMonth()&&t.getDate()===e.getDate()},t.prototype.tabcambiata=function(t){},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Qi),r.Nb(za),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-richiestedicarico"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:55,vars:14,consts:[[1,"container-fluid"],[1,"row"],[1,"card-body"],[1,"col-md-1"],[1,"col-md-2"],["matInput","","placeholder","Data","type","date",3,"ngModel","ngModelChange"],["ngbDropdown","",1,"d-inline-block",2,"height","20px"],["autocomplete","off","matInput","","class","btn btn-outline-primary","id","dropdownBasic1","ngbDropdownToggle","",3,"ngModel","ngModelChange",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","type","button",3,"click",4,"ngFor","ngForOf"],["mat-raised-button","",1,"btn","btn-warning",3,"click"],["mat-raised-button","",1,"btn","btn-rose",3,"click"],[1,"main-content"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["autocomplete","off","matInput","","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary",3,"ngModel","ngModelChange"],["ngbDropdownItem","","type","button",3,"click"],[1,"manina"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",1),r.Ob(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"mat-label"),r.Hc(7,"Data di caricazione"),r.Sb(),r.Tb(8,"input",5),r.ec("ngModelChange",(function(t){return e.aggiornadata(t)})),r.hc(9,"date"),r.Sb(),r.Sb(),r.Tb(10,"div",4),r.Tb(11,"mat-label"),r.Hc(12,"Data di caricazione"),r.Sb(),r.Tb(13,"input",5),r.ec("ngModelChange",(function(t){return e.aggiornadatafine(t)})),r.hc(14,"date"),r.Sb(),r.Sb(),r.Tb(15,"div",4),r.Tb(16,"mat-label"),r.Hc(17,"Atk"),r.Sb(),r.Tb(18,"div",6),r.Fc(19,_a,1,1,"input",7),r.Fc(20,Aa,1,1,"input",7),r.Tb(21,"div",8),r.Fc(22,Oa,2,1,"button",9),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"div",4),r.Tb(24,"button",10),r.ec("click",(function(){return e.cancellafiltri()})),r.Hc(25,"Cancella Filtri"),r.Sb(),r.Sb(),r.Tb(26,"div",4),r.Tb(27,"button",11),r.ec("click",(function(){return e.avviaricerca()})),r.Hc(28,"Cerca"),r.Sb(),r.Sb(),r.Ob(29,"div",3),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(30,"div",12),r.Tb(31,"div",0),r.Tb(32,"div",1),r.Tb(33,"div",13),r.Tb(34,"div",14),r.Tb(35,"div",15),r.Tb(36,"h4",16),r.Hc(37,"Richieste di carico"),r.Sb(),r.Sb(),r.Tb(38,"div",2),r.Tb(39,"div",17),r.Tb(40,"table",18),r.Tb(41,"thead"),r.Tb(42,"tr"),r.Tb(43,"th"),r.Hc(44,"Data"),r.Sb(),r.Tb(45,"th"),r.Hc(46,"Atk"),r.Sb(),r.Tb(47,"th"),r.Hc(48,"Rimorchio"),r.Sb(),r.Tb(49,"th"),r.Hc(50,"Autista"),r.Sb(),r.Tb(51,"th"),r.Hc(52,"Numero viaggi"),r.Sb(),r.Sb(),r.Sb(),r.Tb(53,"tbody"),r.Fc(54,Da,11,10,"tr",19),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(8),r.mc("ngModel",r.jc(9,8,e.filter.data,"yyyy-MM-dd")),r.Ab(5),r.mc("ngModel",r.jc(14,11,e.filter.datafine,"yyyy-MM-dd")),r.Ab(6),r.mc("ngIf",void 0!==e.filter.atk),r.Ab(1),r.mc("ngIf",void 0===e.filter.atk),r.Ab(2),r.mc("ngForOf",e.listaatk),r.Ab(18),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(14),r.mc("ngForOf",e.listaviaggi))},directives:[ui.e,di.a,a.b,a.l,a.o,pi.a,n.o,pi.c,n.n,ie.a,c,pi.d,pi.b],pipes:[n.f],styles:[""]}),t}();function Ea(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1),r.hc(2,"date"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,o.data,"dd-MM-yyyy"))}}function qa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1),r.hc(2,"date"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,o.data,"dd-MM-yyyy"))}}function Va(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.puntoVendita.nome)}}function La(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.puntoVendita.nome)}}function Ua(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.basedicarico.nomebasedicarico)}}function $a(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.basedicarico.nomebasedicarico)}}function Ba(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1,"Base di carico non inserita"),r.Sb()}}function Ga(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1,"Base di carico non inserita"),r.Sb()}}function Wa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.fornitore.nomefornitore)}}function Ja(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.fornitore.nomefornitore)}}function Ya(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1,"Fornitore non inserito"),r.Sb()}}function Xa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1,"Fornitore non inserito"),r.Sb()}}function Qa(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gasolio))}}function Za(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gasolio))}}function Ka(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.benzina))}}function tr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.benzina))}}function er(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.supreme))}}function ir(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.supreme))}}function or(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gpl))}}function nr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",19),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gpl))}}function ar(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",20),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1," SI "),r.Sb()}}function rr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",21),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1," NO "),r.Sb()}}function cr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",22),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzatrasporto(t)})),r.Hc(1,"Visualizza"),r.Sb()}}function sr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",22),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().creatrasporto(t)})),r.Hc(1,"Crea"),r.Sb()}}function br(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",13),r.Fc(1,Ea,3,4,"td",14),r.Fc(2,qa,3,4,"td",14),r.Fc(3,Va,2,1,"td",14),r.Fc(4,La,2,1,"td",14),r.Fc(5,Ua,2,1,"td",14),r.Fc(6,$a,2,1,"td",14),r.Fc(7,Ba,2,0,"td",14),r.Fc(8,Ga,2,0,"td",14),r.Fc(9,Wa,2,1,"td",14),r.Fc(10,Ja,2,1,"td",14),r.Fc(11,Ya,2,0,"td",14),r.Fc(12,Xa,2,0,"td",14),r.Fc(13,Qa,3,3,"td",14),r.Fc(14,Za,3,3,"td",14),r.Fc(15,Ka,3,3,"td",14),r.Fc(16,tr,3,3,"td",14),r.Fc(17,er,3,3,"td",14),r.Fc(18,ir,3,3,"td",14),r.Fc(19,or,3,3,"td",14),r.Fc(20,nr,3,3,"td",14),r.Fc(21,ar,2,0,"td",15),r.Fc(22,rr,2,0,"td",16),r.Tb(23,"td"),r.Fc(24,cr,2,0,"button",17),r.Fc(25,sr,2,0,"button",17),r.Sb(),r.Tb(26,"td"),r.Tb(27,"button",18),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().rimuovitrasporto(t)})),r.Hc(28,"Rimuovi"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.mc("ngIf",!o.trasportoesistente),r.Ab(1),r.mc("ngIf",o.trasportoesistente),r.Ab(1),r.mc("ngIf",!o.trasportoesistente),r.Ab(1),r.mc("ngIf",o.trasportoesistente),r.Ab(1),r.mc("ngIf",!o.trasportoesistente&&null!==o.basedicarico),r.Ab(1),r.mc("ngIf",o.trasportoesistente&&null!==o.basedicarico),r.Ab(1),r.mc("ngIf",!o.trasportoesistente&&null===o.basedicarico),r.Ab(1),r.mc("ngIf",o.trasportoesistente&&null===o.basedicarico),r.Ab(1),r.mc("ngIf",!o.trasportoesistente&&null!==o.fornitore),r.Ab(1),r.mc("ngIf",o.trasportoesistente&&null!==o.fornitore),r.Ab(1),r.mc("ngIf",!o.trasportoesistente&&null===o.fornitore),r.Ab(1),r.mc("ngIf",o.trasportoesistente&&null===o.fornitore),r.Ab(1),r.mc("ngIf",!o.trasportoesistente),r.Ab(1),r.mc("ngIf",o.trasportoesistente),r.Ab(1),r.mc("ngIf",!o.trasportoesistente),r.Ab(1),r.mc("ngIf",o.trasportoesistente),r.Ab(1),r.mc("ngIf",!o.trasportoesistente),r.Ab(1),r.mc("ngIf",o.trasportoesistente),r.Ab(1),r.mc("ngIf",!o.trasportoesistente),r.Ab(1),r.mc("ngIf",o.trasportoesistente),r.Ab(1),r.mc("ngIf",o.trasportoesistente),r.Ab(1),r.mc("ngIf",!o.trasportoesistente),r.Ab(2),r.mc("ngIf",o.trasportoesistente),r.Ab(1),r.mc("ngIf",!o.trasportoesistente)}}var lr={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},ur=function(){function t(t,e,i,o,n){this.router=t,this.fabbisognoservice=e,this.trasportoservice=i,this.dialog=o,this.toastr=n,this.dtTrigger=new b.a,this.dtOptions={},this.listafabbisogni=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:lr},this.fabbisognoservice.getallfabbisogni().subscribe((function(e){t.listafabbisogni=e,t.rerender()}))},t.prototype.creatrasporto=function(t){this.trasportoservice.fabbisognoselezionato=t,this.router.navigate(["/admin/creatrasporto"])},t.prototype.visualizzatrasporto=function(t){var e=this;this.trasportoservice.gettrasporto(t).subscribe((function(i){e.trasportoservice.fabbisognoselezionato=t,e.trasportoservice.trasportoselezionato=i,e.router.navigate(["/admin/creatrasporto"])}))},t.prototype.rimuovitrasporto=function(t){var e=this;this.dialog.open(oe,{data:{title:"Sicuro di voler eliminare il trasporto associato?",message:"Conferma per continuare"}}).afterClosed().subscribe((function(i){!0===i&&e.trasportoservice.cancelladafabbisogno(t).subscribe((function(t){e.fabbisognoservice.getallfabbisogni().subscribe((function(t){e.listafabbisogni=t,e.toastr.success("Trasporto rimosso","Rimosso"),e.rerender()}))}))}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(p),r.Nb(za),r.Nb(Jt),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-trasporto"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:41,vars:3,consts:[["label","Aggiungi nuovo"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["label","Richieste di carico"],[1,"manina"],[3,"click",4,"ngIf"],["style","color: green",3,"click",4,"ngIf"],["style","color: red",3,"click",4,"ngIf"],["mat-button","","mat-flat-button","","class","btn btn-rose",3,"click",4,"ngIf"],["mat-button","","mat-flat-button","",1,"btn","btn-warning",3,"click"],[3,"click"],[2,"color","green",3,"click"],[2,"color","red",3,"click"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"mat-tab-group"),r.Tb(1,"mat-tab",0),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Crea trasporto"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",9),r.Tb(12,"table",10),r.Tb(13,"thead"),r.Tb(14,"tr"),r.Tb(15,"th"),r.Hc(16,"Data"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Cliente"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Base di Carico"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Fornitore"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"Gasolio"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"Benzina"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"Supreme"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"GPL"),r.Sb(),r.Tb(31,"th"),r.Hc(32,"Trasporto"),r.Sb(),r.Tb(33,"th"),r.Hc(34,"Azioni"),r.Sb(),r.Tb(35,"th"),r.Hc(36,"Rimuovi Trasporto"),r.Sb(),r.Sb(),r.Sb(),r.Tb(37,"tbody"),r.Fc(38,br,29,24,"tr",11),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(39,"mat-tab",12),r.Ob(40,"app-richiestedicarico"),r.Sb(),r.Sb()),2&t&&(r.Ab(12),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(26),r.mc("ngForOf",e.listafabbisogni))},directives:[ii,Be,c,n.n,Fa,n.o,ie.a],pipes:[n.f,n.g],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}();function dr(t,e){if(1&t&&(r.Tb(0,"tr"),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.hc(5,"number"),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.hc(8,"number"),r.Sb(),r.Tb(9,"td"),r.Hc(10),r.hc(11,"number"),r.Sb(),r.Tb(12,"td"),r.Hc(13),r.hc(14,"number"),r.Sb(),r.Sb()),2&t){var i=e.$implicit;r.Ab(2),r.Ic(i.fabbisogno.puntoVendita.nome),r.Ab(2),r.Ic(r.ic(5,5,i.fabbisogno.benzina)),r.Ab(3),r.Ic(r.ic(8,7,i.fabbisogno.gasolio)),r.Ab(3),r.Ic(r.ic(11,9,i.fabbisogno.supreme)),r.Ab(3),r.Ic(r.ic(14,11,i.fabbisogno.gpl))}}var pr={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},gr=function(){function t(t,e,i){var o,n,a,r,c,s,l,u,d,p;this.router=t,this.trasportoservice=e,this.fileservice=i,this.dtTrigger=new b.a,this.dtOptions={},this.viaggio=this.trasportoservice.viaggioselezionato,this.basedicarico=null===(n=null===(o=this.viaggio.listaviaggi[0])||void 0===o?void 0:o.fabbisogno)||void 0===n?void 0:n.basedicarico.nomebasedicarico,this.data=null===(a=this.viaggio.listaviaggi[0])||void 0===a?void 0:a.datadicaricazione,this.trasportatore=null===(r=this.viaggio.listaviaggi[0])||void 0===r?void 0:r.nometrasportatore,this.targamotrice=null===(s=null===(c=this.viaggio.listaviaggi[0])||void 0===c?void 0:c.atk)||void 0===s?void 0:s.targa,this.targarimorchio=null===(u=null===(l=this.viaggio.listaviaggi[0])||void 0===l?void 0:l.rimorchio)||void 0===u?void 0:u.targa,this.autista=null===(p=null===(d=this.viaggio.listaviaggi[0])||void 0===d?void 0:d.autista)||void 0===p?void 0:p.nomeautista}return t.prototype.ngOnInit=function(){this.dtOptions={language:pr}},t.prototype.tornaindietro=function(){this.trasportoservice.viaggioselezionato=void 0,this.router.navigate(["/admin/vistrasporto"])},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.stampa=function(){this.fileservice.stampatrasporto(this.viaggio).subscribe((function(t){new Blob([t],{type:"application/pdf"});var e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.target="_blank",i.click()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(za),r.Nb(da))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-recaptrasporto"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:71,vars:12,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-4","text-center"],[1,"col-md-1"],[1,"col-md-10"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["mat-button","","mat-flat-button","",1,"btn","btn-rose","pull-right",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Richiesta di carico"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Ob(11,"br"),r.Tb(12,"div",3),r.Tb(13,"div",9),r.Tb(14,"h4"),r.Tb(15,"b"),r.Hc(16,"Deposito:"),r.Sb(),r.Hc(17),r.Sb(),r.Sb(),r.Tb(18,"div",9),r.Tb(19,"h4"),r.Tb(20,"b"),r.Hc(21,"Data:"),r.Sb(),r.Hc(22),r.hc(23,"date"),r.Sb(),r.Sb(),r.Tb(24,"div",9),r.Tb(25,"h4"),r.Tb(26,"b"),r.Hc(27,"Azienda:"),r.Sb(),r.Hc(28),r.Sb(),r.Sb(),r.Sb(),r.Ob(29,"br"),r.Tb(30,"div",3),r.Tb(31,"div",9),r.Tb(32,"h4"),r.Tb(33,"b"),r.Hc(34,"Motrice:"),r.Sb(),r.Hc(35),r.Sb(),r.Sb(),r.Tb(36,"div",9),r.Tb(37,"h4"),r.Tb(38,"b"),r.Hc(39,"Rimorchio:"),r.Sb(),r.Hc(40),r.Sb(),r.Sb(),r.Tb(41,"div",9),r.Tb(42,"h4"),r.Tb(43,"b"),r.Hc(44,"Autista:"),r.Sb(),r.Hc(45),r.Sb(),r.Sb(),r.Sb(),r.Ob(46,"br"),r.Ob(47,"br"),r.Tb(48,"div",3),r.Ob(49,"div",10),r.Tb(50,"div",11),r.Tb(51,"div",12),r.Tb(52,"table",13),r.Tb(53,"thead"),r.Tb(54,"tr"),r.Tb(55,"th"),r.Hc(56,"Punto vendita"),r.Sb(),r.Tb(57,"th"),r.Hc(58,"Benzina"),r.Sb(),r.Tb(59,"th"),r.Hc(60,"Gasolio"),r.Sb(),r.Tb(61,"th"),r.Hc(62,"Supreme"),r.Sb(),r.Tb(63,"th"),r.Hc(64,"Gpl"),r.Sb(),r.Sb(),r.Sb(),r.Tb(65,"tbody"),r.Fc(66,dr,15,13,"tr",14),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(67,"div",10),r.Sb(),r.Ob(68,"br"),r.Tb(69,"button",15),r.ec("click",(function(){return e.stampa()})),r.Hc(70,"Stampa"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(17),r.Jc(" ",e.basedicarico,""),r.Ab(5),r.Jc(" ",r.jc(23,9,e.data,"dd-MM-yyyy"),""),r.Ab(6),r.Jc(" ",e.trasportatore,""),r.Ab(7),r.Jc(" ",e.targamotrice,""),r.Ab(5),r.Jc(" ",e.targarimorchio,""),r.Ab(5),r.Jc(" ",e.autista,""),r.Ab(7),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(14),r.mc("ngForOf",e.viaggio.listaviaggi))},directives:[ie.a,c,n.n],pipes:[n.f,n.g],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}(),fr=function(){return function(){}}();function hr(t,e){if(1&t&&(r.Tb(0,"mat-option",19),r.Hc(1),r.Sb()),2&t){var i=e.$implicit;r.mc("value",i),r.Ab(1),r.Jc(" ",i.nometrasportatore," ")}}function vr(t,e){1&t&&(r.Tb(0,"div",9),r.Tb(1,"h4"),r.Hc(2,"Selezionare prima il trasportatore"),r.Sb(),r.Sb())}function mr(t,e){if(1&t&&(r.Tb(0,"mat-option",19),r.Hc(1),r.Sb()),2&t){var i=e.$implicit;r.mc("value",i),r.Ab(1),r.Kc(" ",i.codice," -- ",i.targa," ")}}function Tr(t,e){if(1&t&&(r.Tb(0,"mat-option",19),r.Hc(1),r.Sb()),2&t){var i=e.$implicit;r.mc("value",i),r.Ab(1),r.Jc(" ",i.targa," ")}}function Sr(t,e){if(1&t&&(r.Tb(0,"mat-option",19),r.Hc(1),r.Sb()),2&t){var i=e.$implicit;r.mc("value",i),r.Ab(1),r.Jc(" ",i.nomeautista," ")}}function zr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"div",9),r.Tb(1,"div",3),r.Tb(2,"div",9),r.Tb(3,"mat-form-field",20),r.Tb(4,"mat-label"),r.Hc(5,"ATK"),r.Sb(),r.Ob(6,"input",11),r.Tb(7,"mat-autocomplete",12,21),r.ec("optionSelected",(function(t){return r.wc(i),r.gc().atksel(t)})),r.Fc(9,mr,2,3,"mat-option",14),r.hc(10,"async"),r.Sb(),r.Sb(),r.Tb(11,"mat-form-field",20),r.Tb(12,"mat-label"),r.Hc(13,"Rimorchio"),r.Sb(),r.Ob(14,"input",11),r.Tb(15,"mat-autocomplete",12,22),r.ec("optionSelected",(function(t){return r.wc(i),r.gc().rimsel(t)})),r.Fc(17,Tr,2,2,"mat-option",14),r.hc(18,"async"),r.Sb(),r.Sb(),r.Tb(19,"mat-form-field",20),r.Tb(20,"mat-label"),r.Hc(21,"Autista"),r.Sb(),r.Ob(22,"input",11),r.Tb(23,"mat-autocomplete",12,23),r.ec("optionSelected",(function(t){return r.wc(i),r.gc().autsel(t)})),r.Fc(25,Sr,2,2,"mat-option",14),r.hc(26,"async"),r.Sb(),r.Sb(),r.Tb(27,"mat-form-field",20),r.Tb(28,"mat-label"),r.Hc(29,"Numero viaggio"),r.Sb(),r.Tb(30,"input",24),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().identificativotrasporto=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"div",25),r.Tb(32,"mat-form-field",20),r.Tb(33,"mat-label"),r.Hc(34,"Targa atk"),r.Sb(),r.Tb(35,"input",26),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().atkselezionato.targa=t})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=r.uc(8),n=r.uc(16),a=r.uc(24),c=r.gc();r.Ab(6),r.mc("formControl",c.atkcontrol)("matAutocomplete",o),r.Ab(1),r.mc("displayWith",c.displayatk),r.Ab(2),r.mc("ngForOf",r.ic(10,14,c.filteredatk)),r.Ab(5),r.mc("formControl",c.rimorchiocontrol)("matAutocomplete",n),r.Ab(1),r.mc("displayWith",c.displayrimorchio()),r.Ab(2),r.mc("ngForOf",r.ic(18,16,c.filteredrimorchi)),r.Ab(5),r.mc("formControl",c.autistacontrol)("matAutocomplete",a),r.Ab(1),r.mc("displayWith",c.displayautista),r.Ab(2),r.mc("ngForOf",r.ic(26,18,c.filteredautisti)),r.Ab(5),r.mc("ngModel",c.identificativotrasporto),r.Ab(5),r.mc("ngModel",c.atkselezionato.targa)}}var yr=function(){function t(t,e,i,o,n,r){var c=this;this.router=t,this.dialog=e,this.trasportoservice=i,this.gestioneclienti=o,this.trasportatoriservice=n,this.toastr=r,this.trasportoselezionato=this.trasportoservice.trasportoselezionato,this.fabbisognoselezionato=this.trasportoservice.fabbisognoselezionato,this.listatrasportatori=[],this.trasportatorecontrol=new a.d,this.atkcontrol=new a.d,this.rimorchiocontrol=new a.d,this.autistacontrol=new a.d,this.gestioneclienti.getproprietario(this.fabbisognoselezionato.puntoVendita).subscribe((function(t){c.proprietario=t}))}return t.prototype.ngOnInit=function(){var t=this;this.trasportatoriservice.getalltrasportatori().subscribe((function(e){t.listatrasportatori=e,void 0!==t.trasportoselezionato&&null!==t.trasportatoreselezionato&&(t.trasportatoreselezionato=t.cercatrasportatoredalnome(t.trasportoselezionato.nometrasportatore),t.atkselezionato=t.trasportoselezionato.atk,t.rimorchioselezionato=t.trasportoselezionato.rimorchio,t.autistaselezionato=t.trasportoselezionato.autista,console.log(t.trasportatoreselezionato.nometrasportatore),console.log(t.atkselezionato.codice),console.log(t.rimorchioselezionato.targa),console.log(t.autistaselezionato.nomeautista),t.trasportatorecontrol.setValue(t.trasportatoreselezionato),t.atkcontrol.setValue(t.atkselezionato),t.rimorchiocontrol.setValue(t.rimorchioselezionato.targa),t.autistacontrol.setValue(t.autistaselezionato)),t.filteredtrasportatori=t.trasportatorecontrol.valueChanges.pipe(Object(M.a)(""),Object(Zo.a)((function(t){return"string"==typeof t?t:t.nometrasportatore})),Object(Zo.a)((function(e){return e?t._filtertrasportatore(e):t.listatrasportatori.slice()}))),t.filteredatk=t.atkcontrol.valueChanges.pipe(Object(M.a)(""),Object(Zo.a)((function(t){return"string"==typeof t?t:t.codice})),Object(Zo.a)((function(e){return e?t._filteredatk(e):t.trasportatoreselezionato.listaatk.slice()}))),t.filteredrimorchi=t.rimorchiocontrol.valueChanges.pipe(Object(M.a)(""),Object(Zo.a)((function(t){return"string"==typeof t?t:t.targa})),Object(Zo.a)((function(e){return e?t._filteredrimorchio(e):t.trasportatoreselezionato.listarimorchi.slice()}))),t.filteredautisti=t.autistacontrol.valueChanges.pipe(Object(M.a)(""),Object(Zo.a)((function(t){return"string"==typeof t?t:t.nomeautista})),Object(Zo.a)((function(e){return e?t._filteredautista(e):t.trasportatoreselezionato.listaautisti.slice()})))}))},t.prototype.displaytrasportatore=function(t){return t&&t.nometrasportatore?t.nometrasportatore:""},t.prototype.displayatk=function(t){return t&&t.codice?t.codice:""},t.prototype.displayrimorchio=function(t){return t&&t.targa?t.targa:""},t.prototype.displayautista=function(t){return t&&t.nomeautista?t.nomeautista:""},t.prototype._filtertrasportatore=function(t){var e=t.toLowerCase();return this.listatrasportatori.filter((function(t){return 0===t.nometrasportatore.toLowerCase().indexOf(e)}))},t.prototype._filteredatk=function(t){var e=t.toLowerCase();return this.trasportatoreselezionato.listaatk.filter((function(t){return 0===t.codice.toLowerCase().indexOf(e)}))},t.prototype._filteredrimorchio=function(t){var e=t.toLowerCase();return this.trasportatoreselezionato.listarimorchi.filter((function(t){return 0===t.targa.toLowerCase().indexOf(e)}))},t.prototype._filteredautista=function(t){var e=t.toLowerCase();return this.trasportatoreselezionato.listaautisti.filter((function(t){return 0===t.nomeautista.toLowerCase().indexOf(e)}))},t.prototype.cercatrasportatoredalnome=function(t){for(var e=0,i=this.listatrasportatori;e<i.length;e++){var o=i[e];if(o.nometrasportatore===t)return o}},t.prototype.autsel=function(t){this.autistaselezionato=this.cercaautista(t.option.value.idautista)},t.prototype.rimsel=function(t){this.rimorchioselezionato=this.cercarimorchio(t.option.value.targa)},t.prototype.atksel=function(t){this.atkselezionato=this.cercaatk(t.option.value.idatk),console.log("IL RiMORCHIO suggerito \xe8"),console.log(this.atkselezionato.suggerito),console.log("IL trasportatore selezionato \xe8 "),console.log(this.trasportatoreselezionato);var e=this.cercarimorchio(this.atkselezionato.suggerito);console.log("IL RiMORCHIO che ho trovato \xe8"),console.log(e),this.rimorchioselezionato=e,this.rimorchiocontrol.setValue(this.rimorchioselezionato.targa)},t.prototype.traspsel=function(t){var e=t.option.value;console.log("TRASPSEL CHIAMATO CON TRASPORTATORE "),console.log(e),this.trasportatoreselezionato=e,this.atkselezionato=new eo,this.rimorchioselezionato=new io,this.autistaselezionato=new oo,this.atkcontrol.setValue(this.atkselezionato),this.rimorchiocontrol.setValue(this.rimorchioselezionato.targa),this.autistacontrol.setValue(this.autistaselezionato)},t.prototype.cercaautista=function(t){for(var e=0,i=this.trasportatoreselezionato.listaautisti;e<i.length;e++){var o=i[e];if(o.idautista===t)return o}},t.prototype.cercarimorchio=function(t){for(var e=0,i=this.trasportatoreselezionato.listarimorchi;e<i.length;e++){var o=i[e];if(o.targa===t)return o}},t.prototype.cercaatk=function(t){for(var e=0,i=this.trasportatoreselezionato.listaatk;e<i.length;e++){var o=i[e];if(o.idatk===t)return o}},t.prototype.cercatrasportatore=function(t){for(var e=0,i=this.listatrasportatori;e<i.length;e++){var o=i[e];if(o.nometrasportatore===t)return o}},t.prototype.tornaindietro=function(){this.trasportoservice.trasportoselezionato=void 0,this.router.navigate(["/admin/trasporto"])},t.prototype.creatrasporto=function(){var t=this;this.dialog.open(oe,{data:{title:"Continuare?",message:"Confermare le modifiche al dato di trasporto?"}}).afterClosed().subscribe((function(e){if(!0===e){var i=new fr;void 0!==t.trasportoselezionato&&(i.id=t.trasportoselezionato.id),i.fabbisogno=t.fabbisognoselezionato,i.datadicaricazione=t.fabbisognoselezionato.data,i.atk=t.atkselezionato,i.autista=t.autistaselezionato,i.rimorchio=t.rimorchioselezionato,i.nometrasportatore=t.trasportatoreselezionato.nometrasportatore,i.identificativoviaggio=t.identificativotrasporto,t.trasportoservice.aggiungimodifica(i).subscribe((function(e){e?(t.toastr.success("Aggiunto con successo!","Aggiunto"),t.tornaindietro()):t.toastr.error("Ci sono errori nell'inserimento!","Errore")}))}}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(za),r.Nb(pe),r.Nb(Qi),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-creatrasporto"]],decls:41,vars:14,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-6","text-center"],[1,"example-full-width"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto1","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["class","col-md-6 text-center",4,"ngIf"],[1,"row","align-content-center"],[1,"col-md-3","text-center"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],[3,"value"],[1,""],["auto2","matAutocomplete"],["auto3","matAutocomplete"],["auto4","matAutocomplete"],["type","text","matInput","",3,"ngModel","ngModelChange"],[1,"col-md-6"],["disabled","true","type","text","matInput","",3,"ngModel","ngModelChange"]],template:function(t,e){if(1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Crea Trasporto"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",3),r.Tb(12,"div",9),r.Hc(13),r.Ob(14,"br"),r.Hc(15),r.Sb(),r.Tb(16,"div",9),r.Hc(17),r.hc(18,"date"),r.Sb(),r.Sb(),r.Ob(19,"br"),r.Ob(20,"br"),r.Tb(21,"div",3),r.Tb(22,"div",9),r.Tb(23,"mat-form-field",10),r.Tb(24,"mat-label"),r.Hc(25,"Trasportatore"),r.Sb(),r.Ob(26,"input",11),r.Tb(27,"mat-autocomplete",12,13),r.ec("optionSelected",(function(t){return e.traspsel(t)})),r.Fc(29,hr,2,2,"mat-option",14),r.hc(30,"async"),r.Sb(),r.Sb(),r.Sb(),r.Fc(31,vr,3,0,"div",15),r.Fc(32,zr,36,20,"div",15),r.Sb(),r.Ob(33,"br"),r.Ob(34,"br"),r.Tb(35,"div",16),r.Ob(36,"div",17),r.Tb(37,"div",9),r.Tb(38,"button",18),r.ec("click",(function(){return e.creatrasporto()})),r.Hc(39,"Crea Trasporto"),r.Sb(),r.Sb(),r.Ob(40,"div",17),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){var i=r.uc(28);r.Ab(13),r.Jc(" ",e.fabbisognoselezionato.puntoVendita.nome," "),r.Ab(2),r.Jc(" ",e.proprietario.nomecliente," "),r.Ab(2),r.Jc(" Data di consegna: ",r.jc(18,9,e.fabbisognoselezionato.data,"dd-MM-yyyy")," "),r.Ab(9),r.mc("formControl",e.trasportatorecontrol)("matAutocomplete",i),r.Ab(1),r.mc("displayWith",e.displaytrasportatore),r.Ab(2),r.mc("ngForOf",r.ic(30,12,e.filteredtrasportatori)),r.Ab(2),r.mc("ngIf",null==e.trasportatoreselezionato),r.Ab(1),r.mc("ngIf",null!=e.trasportatoreselezionato)}},directives:[ie.a,ui.b,ui.e,di.a,a.b,mn,a.l,a.e,dn,n.n,n.o,Ct.g,a.o],pipes:[n.f,n.b],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}input[_ngcontent-%COMP%]{border:1px solid #000}"]}),t}(),_r=function(){function t(t,e,i){this.http=t,this.cookieService=e,this.loginservice=i,this.data1=new Date(Date.now()-6048e5),this.data2=new Date}return t.prototype.getallriepiloghiinrange=function(t){return this.http.post(l.b+"riepilogo/getall?access_token="+this.loginservice.gettoken(),t)},t.prototype.getallriepiloghiinrangepaged=function(t,e,i){return this.http.post(l.b+"riepilogo/getallpaged?page="+e+"&size="+i+"&access_token="+this.loginservice.gettoken(),t)},t.prototype.getallbycliente=function(t){return this.http.post(l.b+"riepilogo/getallpercliente?access_token="+this.loginservice.gettoken(),t)},t.prototype.salvariepilogo=function(t){return this.http.post(l.b+"riepilogo/save?access_token="+this.loginservice.gettoken(),t)},t.prototype.rimuovibonifico=function(t,e){return this.http.post(l.b+"riepilogo/bonifico/delete/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungibonifico=function(t,e){return this.http.post(l.b+"riepilogo/bonifico/save/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungifile=function(t,e){var i=new FormData;return i.append("file",t),this.http.post(l.b+"riepilogo/upload/"+e+"?access_token="+this.loginservice.gettoken(),i)},t.prototype.rimuovifile=function(t,e){return this.http.post(l.b+"riepilogo/deletefile/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.prendituttifile=function(t){return this.http.get(l.b+"riepilogo/files/"+t+"?access_token="+this.loginservice.gettoken())},t.prototype.prendisingolofile=function(t){return this.http.get(l.b+"riepilogo/file/"+t+"?access_token="+this.loginservice.gettoken(),{responseType:"blob"})},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(d.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Ar(t,e){if(1&t){var i=r.Ub();r.Tb(0,"div",3),r.Tb(1,"mat-label"),r.Hc(2,"Inizio"),r.Sb(),r.Tb(3,"input",24),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().aggiornadata1(t)})),r.hc(4,"date"),r.Sb(),r.Sb()}if(2&t){var o=r.gc();r.Ab(3),r.mc("ngModel",r.jc(4,1,o.primadata,"yyyy-MM-dd"))}}function Or(t,e){if(1&t){var i=r.Ub();r.Tb(0,"div",3),r.Tb(1,"mat-label"),r.Hc(2,"Fine"),r.Sb(),r.Tb(3,"input",24),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().aggiornadata2(t)})),r.hc(4,"date"),r.Sb(),r.Sb()}if(2&t){var o=r.gc();r.Ab(3),r.mc("ngModel",r.jc(4,1,o.secondadata,"yyyy-MM-dd"))}}function wr(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.trasporto.nometrasportatore)}}function kr(t,e){1&t&&r.Ob(0,"td")}function Hr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",26),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc(2).modificariepilogo(t)})),r.Tb(1,"td"),r.Tb(2,"span",27),r.Hc(3),r.Sb(),r.Hc(4),r.hc(5,"date"),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.Sb(),r.Tb(8,"td"),r.Hc(9),r.Sb(),r.Tb(10,"td"),r.Hc(11),r.Sb(),r.Tb(12,"td"),r.Hc(13),r.Sb(),r.Tb(14,"td"),r.Hc(15),r.Sb(),r.Fc(16,wr,2,1,"td",22),r.Fc(17,kr,1,0,"td",22),r.Tb(18,"td"),r.Hc(19),r.hc(20,"currency"),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(3),r.Ic(o.fabbisogno.data),r.Ab(1),r.Ic(r.jc(5,10,o.fabbisogno.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.fabbisogno.puntoVendita.nome),r.Ab(2),r.Ic(o.fabbisogno.gasolio),r.Ab(2),r.Ic(o.fabbisogno.benzina),r.Ab(2),r.Ic(o.fabbisogno.supreme),r.Ab(2),r.Ic(o.fabbisogno.gpl),r.Ab(1),r.mc("ngIf",void 0!==o.trasporto),r.Ab(1),r.mc("ngIf",void 0===o.trasporto),r.Ab(2),r.Ic(r.jc(20,13,o.residuodaversare,"EUR"))}}function Ir(t,e){if(1&t&&(r.Tb(0,"tbody"),r.Fc(1,Hr,21,16,"tr",25),r.Sb()),2&t){var i=r.gc();r.Ab(1),r.mc("ngForOf",i.listariepiloghi)}}function Cr(t,e){1&t&&(r.Tb(0,"tbody"),r.Ob(1,"div",28),r.Sb())}var Mr={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},xr=function(){function t(t,e,i,o){this.router=t,this.riepilogoservice=e,this.fileservice=i,this.toastr=o,this.dtTrigger=new b.a,this.dtOptions={},this.listariepiloghi=[],this.showDateRange=!1,this.totalegasolio=0,this.totalebenzina=0,this.totalesupreme=0,this.totalegpl=0,this.totaleresiduo=0,this.caricamento=!1}return t.prototype.ngOnInit=function(){var t=this;this.primadata=this.riepilogoservice.data1,this.secondadata=this.riepilogoservice.data2;var e=new de;e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.dtOptions={language:Mr,infoCallback:function(e,i,o,n,a,r){return t.callbackperriepilogo(i,o,n,a,r)},paging:!0},this.toastr.info("Inizio ricerca!","Ricerca"),this.caricamento=!0,this.riepilogoservice.getallriepiloghiinrange(e).subscribe((function(e){t.listariepiloghi=e,t.caricamento=!1,t.rerender()}),(function(e){t.caricamento=!1,t.toastr.error("C'\xe8 stato un errore!","Errore")}))},t.prototype.callbackperriepilogo=function(t,e,i,o,n){var a=this;console.log("INIZIO : "+t),console.log("FINE : "+e),console.log("IMAX"+i),console.log("ITOTAL : "+o),console.log("SPRE"+n),this.totalegasolio=0,this.totalebenzina=0,this.totalesupreme=0,this.totalegpl=0,this.totaleresiduo=0;for(var r=function(t){c.dtElement.dtInstance.then((function(e){console.log("Le righe sono"),console.log(e.rows({search:"applied"}).data()),e.rows({search:"applied"}).data().count()!==o?(a.totalegasolio=a.totalegasolio+a.toNumber(e.rows({search:"applied"}).data().toArray()[t][2]),a.totalebenzina=a.totalebenzina+a.toNumber(e.rows({search:"applied"}).data().toArray()[t][3]),a.totalesupreme=a.totalesupreme+a.toNumber(e.rows({search:"applied"}).data().toArray()[t][4]),a.totalegpl=a.totalegpl+a.toNumber(e.rows({search:"applied"}).data().toArray()[t][5]),a.totaleresiduo=a.totaleresiduo+a.currencytonumber(e.rows({search:"applied"}).data().toArray()[t][7])):(a.totalegasolio=a.totalegasolio+a.toNumber(e.data().toArray()[t][2]),a.totalebenzina=a.totalebenzina+a.toNumber(e.data().toArray()[t][3]),a.totalesupreme=a.totalesupreme+a.toNumber(e.data().toArray()[t][4]),a.totalegpl=a.totalegpl+a.toNumber(e.data().toArray()[t][5]),a.totaleresiduo=a.totaleresiduo+a.currencytonumber(e.data().toArray()[t][7]))}))},c=this,s=t-1;s<e;s++)r(s)},t.prototype.toNumber=function(t){return Number(t)},t.prototype.currencytonumber=function(t){return Number(t.replace(/[^0-9.-]+/g,""))},t.prototype.cercainrange=function(){var t=this,e=new de;this.showDateRange||(this.riepilogoservice.data1=this.primadata,this.riepilogoservice.data2=this.secondadata),e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.toastr.info("Inizio ricerca!","Ricerca"),this.caricamento=!0,this.riepilogoservice.getallriepiloghiinrange(e).subscribe((function(e){t.listariepiloghi=e,t.caricamento=!1,t.rerender()}),(function(e){t.caricamento=!1,t.toastr.error("C'\xe8 stato un errore!","Errore")}))},t.prototype.modificariepilogo=function(t){this.riepilogoservice.riepilogoselezionato=t,this.router.navigate(["/admin/modificariepilogo"])},t.prototype.aggiornadata1=function(t){this.riepilogoservice.data1=new Date(t)},t.prototype.aggiornadata2=function(t){this.riepilogoservice.data2=new Date(t)},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.stampaexcel=function(){var t=this,e=new de;e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.fileservice.getexcelfile(e).subscribe((function(e){var i=new Blob([e],{type:"application/octet-stream"}),o="recap";o+=Object(n.y)(t.riepilogoservice.data1,"dd-MM-yyyy","en_US"),o+="_",o+=Object(n.y)(t.riepilogoservice.data2,"dd-MM-yyyy","en_US"),o+=".xlsx",Object(Bi.saveAs)(i,o)}))},t.prototype.optionSelected=function(t){switch(t.target.value){case"1":this.primadata=this.getXDaysAgo(new Date,7),this.secondadata=new Date,this.showDateRange=!1;break;case"2":this.primadata=this.getXDaysAgo(new Date,30),this.secondadata=new Date,this.showDateRange=!1;break;case"3":this.primadata=this.getFirstDayOfCurrentMonth(),this.secondadata=new Date,this.showDateRange=!1;break;case"4":this.primadata=this.getFirstDayOfCurrentYear(),this.secondadata=new Date,this.showDateRange=!1;break;case"5":this.showDateRange=!0}},t.prototype.getXDaysAgo=function(t,e){return t.setDate(t.getDate()-e),t},t.prototype.getFirstDayOfCurrentMonth=function(){var t=new Date,e=new Date(t.getFullYear(),t.getMonth(),1);return console.log(e),e},t.prototype.getFirstDayOfCurrentYear=function(){return new Date((new Date).getFullYear(),0,1)},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(_r),r.Nb(da),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-riepilogo"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:86,vars:22,consts:[[1,"container-fluid"],[1,"row"],[1,"card-body"],[1,"col-md-3"],[1,"custom-custom",3,"change"],["selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["class","col-md-3",4,"ngIf"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"],[1,"col-md-5"],[1,"col-md-2"],[1,"main-content"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngIf"],[1,"col-md-1"],["matInput","","placeholder","Data","type","date",3,"ngModel","ngModelChange"],["class","manina",3,"click",4,"ngFor","ngForOf"],[1,"manina",3,"click"],[2,"display","none"],[1,"loader"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Ob(2,"br"),r.Tb(3,"div",2),r.Tb(4,"div",1),r.Tb(5,"div",3),r.Tb(6,"select",4),r.ec("change",(function(t){return e.optionSelected(t)})),r.Tb(7,"option",5),r.Hc(8,"Seleziona"),r.Sb(),r.Tb(9,"option",6),r.Hc(10,"Ultimi 7 giorni"),r.Sb(),r.Tb(11,"option",7),r.Hc(12,"Ultimi 30 giorni"),r.Sb(),r.Tb(13,"option",8),r.Hc(14,"Ultimo mese"),r.Sb(),r.Tb(15,"option",9),r.Hc(16,"Ultimo anno"),r.Sb(),r.Tb(17,"option",10),r.Hc(18,"Seleziona range"),r.Sb(),r.Sb(),r.Sb(),r.Fc(19,Ar,5,4,"div",11),r.Fc(20,Or,5,4,"div",11),r.Tb(21,"div",3),r.Tb(22,"button",12),r.ec("click",(function(){return e.cercainrange()})),r.Hc(23,"Cerca"),r.Sb(),r.Sb(),r.Sb(),r.Ob(24,"br"),r.Tb(25,"div",1),r.Ob(26,"div",13),r.Tb(27,"div",14),r.Tb(28,"button",12),r.ec("click",(function(){return e.stampaexcel()})),r.Hc(29,"Esporta in excel"),r.Sb(),r.Sb(),r.Ob(30,"div",13),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"div",15),r.Tb(32,"div",0),r.Tb(33,"div",1),r.Tb(34,"div",16),r.Tb(35,"div",17),r.Tb(36,"div",18),r.Tb(37,"h4",19),r.Hc(38,"Riepilogo"),r.Sb(),r.Sb(),r.Tb(39,"div",2),r.Tb(40,"div",20),r.Tb(41,"table",21),r.Tb(42,"thead"),r.Tb(43,"tr"),r.Tb(44,"th"),r.Hc(45,"Data"),r.Sb(),r.Tb(46,"th"),r.Hc(47,"Punto Vendita"),r.Sb(),r.Tb(48,"th"),r.Hc(49,"Gasolio"),r.Sb(),r.Tb(50,"th"),r.Hc(51,"Benzina"),r.Sb(),r.Tb(52,"th"),r.Hc(53,"Supreme"),r.Sb(),r.Tb(54,"th"),r.Hc(55,"Gpl"),r.Sb(),r.Tb(56,"th"),r.Hc(57,"Trasportatore"),r.Sb(),r.Tb(58,"th"),r.Hc(59,"Residuo da versare"),r.Sb(),r.Sb(),r.Sb(),r.Fc(60,Ir,2,1,"tbody",22),r.Fc(61,Cr,2,0,"tbody",22),r.Sb(),r.Sb(),r.Tb(62,"div",1),r.Ob(63,"div",23),r.Ob(64,"div",23),r.Tb(65,"div",14),r.Tb(66,"b"),r.Hc(67),r.hc(68,"number"),r.Sb(),r.Sb(),r.Tb(69,"div",14),r.Tb(70,"b"),r.Hc(71),r.hc(72,"number"),r.Sb(),r.Sb(),r.Tb(73,"div",14),r.Tb(74,"b"),r.Hc(75),r.hc(76,"number"),r.Sb(),r.Sb(),r.Tb(77,"div",23),r.Tb(78,"b"),r.Hc(79),r.hc(80,"number"),r.Sb(),r.Sb(),r.Ob(81,"div",23),r.Tb(82,"div",14),r.Tb(83,"b"),r.Hc(84),r.hc(85,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(19),r.mc("ngIf",e.showDateRange),r.Ab(1),r.mc("ngIf",e.showDateRange),r.Ab(21),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(19),r.mc("ngIf",0==e.caricamento),r.Ab(1),r.mc("ngIf",1==e.caricamento),r.Ab(6),r.Jc(" Gasolio: ",r.ic(68,11,e.totalegasolio)," "),r.Ab(4),r.Jc(" Benzina: ",r.ic(72,13,e.totalebenzina)," "),r.Ab(4),r.Jc(" Supreme: ",r.ic(76,15,e.totalesupreme)," "),r.Ab(4),r.Jc(" GPL: ",r.ic(80,17,e.totalegpl),""),r.Ab(5),r.Jc("Residuo: ",r.jc(85,19,e.totaleresiduo,"EUR")," "))},directives:[a.p,a.t,n.o,ie.a,c,ui.e,di.a,a.b,a.l,a.o,n.n],pipes:[n.g,n.d,n.f],styles:[".loader[_ngcontent-%COMP%]{border-radius:50%;border:16px solid #f3f3f3;border-top-color:#3498db;width:120px;height:120px;-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}#width[_ngcontent-%COMP%] > button[_ngcontent-%COMP%]{width:94%}select[_ngcontent-%COMP%]{-webkit-appearance:button;-moz-appearance:button;-webkit-user-select:none;-moz-user-select:none;-webkit-padding-end:20px;-moz-padding-end:20px;-webkit-padding-start:2px;-moz-padding-start:2px;background-color:#fff;background-position:100%;background-repeat:no-repeat;border:1px solid #aaa;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,.1);color:#555;font-size:inherit;margin:0;overflow:hidden;padding-top:2px;padding-bottom:2px;text-overflow:ellipsis;white-space:nowrap}.custom-custom[_ngcontent-%COMP%]{width:100%}"]}),t}(),jr=function(){return function(){}}(),Rr=function(){function t(t,e){this.dialogRef=t,this.data=e}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.\u0275fac=function(e){return new(e||t)(r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungibonificodialog"]],decls:16,vars:3,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","type","number",3,"ngModel","ngModelChange"],["matInput","","type","text",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Bonifico"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Importo bonifico"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.importobonifico=t})),r.Sb(),r.Sb(),r.Tb(7,"mat-form-field"),r.Tb(8,"mat-label"),r.Hc(9,"Descrizione"),r.Sb(),r.Tb(10,"input",3),r.ec("ngModelChange",(function(t){return e.data.descrizione=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(11,"div",4),r.Tb(12,"button",5),r.ec("click",(function(){return e.onNoClick()})),r.Hc(13,"Annulla"),r.Sb(),r.Tb(14,"button",6),r.Hc(15,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.importobonifico),r.Ab(4),r.mc("ngModel",e.data.descrizione),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.q,a.b,a.l,a.o,Kt,ie.a,Xt],styles:[""]}),t}();function Nr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr"),r.Tb(1,"td"),r.Hc(2),r.hc(3,"currency"),r.Sb(),r.Tb(4,"td"),r.Hc(5),r.Sb(),r.Tb(6,"td"),r.Tb(7,"button",41),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().rimuovibonifico(t)})),r.Hc(8,"Rimuovi"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(r.jc(3,2,o.importobonifico,"EUR")),r.Ab(3),r.Ic(o.descrizione)}}function Dr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr"),r.Tb(1,"td",45),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().aprisingolofile(t)})),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Tb(4,"button",41),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminafile(t.id)})),r.Hc(5,"Rimuovi"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.name)}}var Pr={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Fr=function(){function t(t,e,i,o){this.toastr=t,this.dialog=e,this.riepilogoservice=i,this.router=o,this.dtTrigger=new b.a,this.dtOptions={},this.riepilogo=this.riepilogoservice.riepilogoselezionato}return t.prototype.ngOnInit=function(){this.dtOptions={language:Pr,paging:!1,search:!1},console.log("INIZIO A STAMPARE I FILE"),console.log(this.riepilogo.files)},t.prototype.aggiornadatabonifico=function(t){this.riepilogo.databonifico=new Date(t)},t.prototype.salvariepilogo=function(){var t=this;this.dialog.open(oe,this.riepilogo.das?{data:{title:"Vuoi salvare il riepilogo?",message:"Verr\xe0 eliminato il fabbisogno dalle altre liste (il DAS \xe8 stato inserito)"}}:{data:{title:"Vuoi salvare il riepilogo?",message:"Non verr\xe0 ancora eliminato il fabbisogno (non \xe8 stato inserito il DAS)"}}).afterClosed().subscribe((function(e){!0===e&&t.riepilogoservice.salvariepilogo(t.riepilogo).subscribe((function(e){e?(t.toastr.success("Riepilogo modificato!","Modificato!"),t.tornaindietro()):t.toastr.error("C'\xe8 stato un errore nella modifica!","Errore!")}))}))},t.prototype.aggiungibonifico=function(){var t=this;this.dialog.open(Rr,{width:"450px",data:new jr}).afterClosed().subscribe((function(e){t.riepilogoservice.aggiungibonifico(e,t.riepilogo.id).subscribe((function(e){t.riepilogo=e,t.riepilogoservice.riepilogoselezionato=e,t.rerender()}))}))},t.prototype.rimuovibonifico=function(t){var e=this;this.dialog.open(oe,{data:{title:"Vuoi rimuovere il bonifico selezionato?",message:"Conferma rimozione"}}).afterClosed().subscribe((function(i){!0===i&&e.riepilogoservice.rimuovibonifico(t,e.riepilogo.id).subscribe((function(t){e.riepilogo=t,e.riepilogoservice.riepilogoselezionato=t,e.rerender()}))}))},t.prototype.prezzogasoliodioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.confrontadate(o.data,this.riepilogo.fabbisogno.data))return o.prezzogasolio}},t.prototype.prezzobenzinadioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.confrontadate(o.data,this.riepilogo.fabbisogno.data))return o.prezzobenzina}},t.prototype.prezzosupremedioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.confrontadate(o.data,this.riepilogo.fabbisogno.data))return o.prezzosupreme}},t.prototype.prezzogpldioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.confrontadate(o.data,this.riepilogo.fabbisogno.data))return o.prezzogpl}},t.prototype.isToday=function(t){return(new Date).toDateString()===new Date(t).toDateString()},t.prototype.confrontadate=function(t,e){var i=new Date(t),o=new Date(e);return i.toDateString()===o.toDateString()},t.prototype.tornaindietro=function(){this.riepilogoservice.riepilogoselezionato=void 0,this.router.navigate(["/admin/riepilogo"])},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.caricafile=function(){var t=this;void 0!==this.fileselezionato&&(console.log("Il file selezionato \xe8 : "),console.log(this.fileselezionato),this.riepilogoservice.aggiungifile(this.fileselezionato,this.riepilogo.id).subscribe((function(e){!0===e&&t.riepilogo.files.push(t.fileselezionato)})))},t.prototype.eliminafile=function(t){var e=this;this.riepilogoservice.rimuovifile(t,this.riepilogo.id).subscribe((function(t){if(!0===t){var i=e.riepilogo.files.indexOf(e.fileselezionato);e.riepilogo.files.splice(i,1)}}))},t.prototype.prendituttifile=function(){this.riepilogoservice.prendituttifile(this.riepilogo.id).subscribe((function(t){}))},t.prototype.aprisingolofile=function(t){this.riepilogoservice.prendisingolofile(t.id).subscribe((function(e){Object(Bi.saveAs)(e,t.name)}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(ne.b),r.Nb(Jt),r.Nb(_r),r.Nb(o.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-modificariepilogo"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:152,vars:62,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-3"],["disabled","true","matInput","","placeholder","Data consegna","type","date",3,"ngModel"],[1,"example-full-width"],["matInput","","placeholder","Base di carico","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Punto vendita","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Totale volumi","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Gasolio","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Benzina","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Supreme","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","GPL","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Cali/Eccedenze di Viaggio gasolio","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cali/Eccedenze di Viaggio benzina","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cali/Eccedenze di Viaggio supreme","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cali/Eccedenze di Viaggio GPL","type","text",3,"ngModel","ngModelChange"],[1,"col-md-4"],["matInput","","placeholder","Fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Vettore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","DAS","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Prezzo gasolio fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Prezzo benzina fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Prezzo supreme fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Prezzo gpl fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Numero fattura fornitore","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Importo fattura fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Numero fattura Partenopea","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Importo fattura Partenopea","type","text","disabled","true",3,"ngModel"],[1,"col-md-6"],["matInput","","placeholder","Importo preventivo","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Residuo da versare","type","text","disabled","true",3,"ngModel"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"col-md-6","text-center"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"],["type","file","value","Seleziona File",3,"change"],["mat-raised-button","",1,"btn","btn-rose","pull-right",3,"click"],[1,"clearfix"],["role","button",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Riepilogo"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",3),r.Tb(12,"mat-form-field",9),r.Ob(13,"input",10),r.hc(14,"date"),r.Sb(),r.Tb(15,"div",9),r.Tb(16,"mat-form-field",11),r.Ob(17,"input",12),r.Sb(),r.Sb(),r.Tb(18,"div",9),r.Tb(19,"mat-form-field",11),r.Ob(20,"input",13),r.Sb(),r.Sb(),r.Tb(21,"div",9),r.Tb(22,"mat-form-field",11),r.Ob(23,"input",14),r.hc(24,"number"),r.Sb(),r.Sb(),r.Sb(),r.Tb(25,"div",3),r.Tb(26,"div",9),r.Tb(27,"mat-form-field",11),r.Ob(28,"input",15),r.hc(29,"number"),r.Sb(),r.Sb(),r.Tb(30,"div",9),r.Tb(31,"mat-form-field",11),r.Ob(32,"input",16),r.hc(33,"number"),r.Sb(),r.Sb(),r.Tb(34,"div",9),r.Tb(35,"mat-form-field",11),r.Ob(36,"input",17),r.hc(37,"number"),r.Sb(),r.Sb(),r.Tb(38,"div",9),r.Tb(39,"mat-form-field",11),r.Ob(40,"input",18),r.hc(41,"number"),r.Sb(),r.Sb(),r.Sb(),r.Tb(42,"div",3),r.Tb(43,"div",9),r.Tb(44,"mat-form-field",11),r.Tb(45,"input",19),r.ec("ngModelChange",(function(t){return e.riepilogo.caligasolio=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(46,"div",9),r.Tb(47,"mat-form-field",11),r.Tb(48,"input",20),r.ec("ngModelChange",(function(t){return e.riepilogo.calibenzina=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(49,"div",9),r.Tb(50,"mat-form-field",11),r.Tb(51,"input",21),r.ec("ngModelChange",(function(t){return e.riepilogo.calisupreme=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(52,"div",9),r.Tb(53,"mat-form-field",11),r.Tb(54,"input",22),r.ec("ngModelChange",(function(t){return e.riepilogo.caligpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(55,"div",3),r.Tb(56,"div",23),r.Tb(57,"mat-form-field",11),r.Ob(58,"input",24),r.Sb(),r.Sb(),r.Tb(59,"div",23),r.Tb(60,"mat-form-field",11),r.Ob(61,"input",25),r.Sb(),r.Sb(),r.Tb(62,"div",23),r.Tb(63,"mat-form-field",11),r.Tb(64,"input",26),r.ec("ngModelChange",(function(t){return e.riepilogo.das=t})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(65,"div",3),r.Tb(66,"div",9),r.Tb(67,"mat-form-field",11),r.Ob(68,"input",27),r.hc(69,"number"),r.Sb(),r.Sb(),r.Tb(70,"div",9),r.Tb(71,"mat-form-field",11),r.Ob(72,"input",28),r.hc(73,"number"),r.Sb(),r.Sb(),r.Tb(74,"div",9),r.Tb(75,"mat-form-field",11),r.Ob(76,"input",29),r.hc(77,"number"),r.Sb(),r.Sb(),r.Tb(78,"div",9),r.Tb(79,"mat-form-field",11),r.Ob(80,"input",30),r.hc(81,"number"),r.Sb(),r.Sb(),r.Sb(),r.Tb(82,"div",3),r.Tb(83,"div",9),r.Tb(84,"mat-form-field",11),r.Tb(85,"input",31),r.ec("ngModelChange",(function(t){return e.riepilogo.numerofatturafornitore=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(86,"div",9),r.Tb(87,"mat-form-field",11),r.Ob(88,"input",32),r.hc(89,"currency"),r.Sb(),r.Sb(),r.Tb(90,"div",9),r.Tb(91,"mat-form-field",11),r.Tb(92,"input",33),r.ec("ngModelChange",(function(t){return e.riepilogo.numerofatturapartenopea=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(93,"div",9),r.Tb(94,"mat-form-field",11),r.Ob(95,"input",34),r.hc(96,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Tb(97,"div",3),r.Tb(98,"div",35),r.Tb(99,"mat-form-field",11),r.Ob(100,"input",36),r.hc(101,"currency"),r.Sb(),r.Sb(),r.Tb(102,"div",35),r.Tb(103,"mat-form-field",11),r.Ob(104,"input",37),r.hc(105,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Tb(106,"div",3),r.Ob(107,"div",9),r.Tb(108,"div",35),r.Tb(109,"table",38),r.Tb(110,"thead"),r.Tb(111,"tr"),r.Tb(112,"th"),r.Hc(113,"Importo"),r.Sb(),r.Tb(114,"th"),r.Hc(115,"Note"),r.Sb(),r.Tb(116,"th"),r.Hc(117,"Rimuovi"),r.Sb(),r.Sb(),r.Sb(),r.Tb(118,"tbody"),r.Fc(119,Nr,9,5,"tr",39),r.Sb(),r.Sb(),r.Sb(),r.Ob(120,"div",9),r.Sb(),r.Tb(121,"div",3),r.Ob(122,"div",9),r.Tb(123,"div",40),r.Tb(124,"td"),r.Tb(125,"button",41),r.ec("click",(function(){return e.aggiungibonifico()})),r.Hc(126,"Aggiungi Bonifico"),r.Sb(),r.Sb(),r.Sb(),r.Ob(127,"div",9),r.Sb(),r.Ob(128,"br"),r.Ob(129,"br"),r.Tb(130,"div",3),r.Ob(131,"div",9),r.Tb(132,"div",35),r.Tb(133,"table"),r.Tb(134,"thead"),r.Tb(135,"th"),r.Hc(136,"Nome File"),r.Sb(),r.Tb(137,"th"),r.Hc(138,"Rimuovi"),r.Sb(),r.Sb(),r.Tb(139,"tbody"),r.Fc(140,Dr,6,1,"tr",39),r.Sb(),r.Sb(),r.Sb(),r.Ob(141,"div",9),r.Sb(),r.Tb(142,"div",3),r.Ob(143,"div",9),r.Tb(144,"div",35),r.Tb(145,"input",42),r.ec("change",(function(t){return e.fileselezionato=t.target.files[0]})),r.Sb(),r.Tb(146,"button",43),r.ec("click",(function(){return e.caricafile()})),r.Hc(147,"Aggiungi File"),r.Sb(),r.Sb(),r.Ob(148,"div",9),r.Sb(),r.Tb(149,"button",43),r.ec("click",(function(){return e.salvariepilogo()})),r.Hc(150,"Salva"),r.Sb(),r.Ob(151,"div",44),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(13),r.mc("ngModel",r.jc(14,29,e.riepilogo.fabbisogno.data,"yyyy-MM-dd")),r.Ab(4),r.mc("ngModel",e.riepilogo.fabbisogno.basedicarico.nomebasedicarico),r.Ab(3),r.mc("ngModel",e.riepilogo.fabbisogno.puntoVendita.nome),r.Ab(3),r.mc("ngModel",r.ic(24,32,e.riepilogo.totalevolumicarburantitradizionali)),r.Ab(5),r.mc("ngModel",r.ic(29,34,e.riepilogo.fabbisogno.gasolio)),r.Ab(4),r.mc("ngModel",r.ic(33,36,e.riepilogo.fabbisogno.benzina)),r.Ab(4),r.mc("ngModel",r.ic(37,38,e.riepilogo.fabbisogno.supreme)),r.Ab(4),r.mc("ngModel",r.ic(41,40,e.riepilogo.fabbisogno.gpl)),r.Ab(5),r.mc("ngModel",e.riepilogo.caligasolio),r.Ab(3),r.mc("ngModel",e.riepilogo.calibenzina),r.Ab(3),r.mc("ngModel",e.riepilogo.calisupreme),r.Ab(3),r.mc("ngModel",e.riepilogo.caligpl),r.Ab(4),r.mc("ngModel",e.riepilogo.fabbisogno.fornitore.nomefornitore),r.Ab(3),r.mc("ngModel",e.riepilogo.trasporto.nometrasportatore),r.Ab(3),r.mc("ngModel",e.riepilogo.das),r.Ab(4),r.mc("ngModel",r.ic(69,42,e.prezzogasoliodioggi(e.riepilogo.fabbisogno.fornitore))),r.Ab(4),r.mc("ngModel",r.ic(73,44,e.prezzobenzinadioggi(e.riepilogo.fabbisogno.fornitore))),r.Ab(4),r.mc("ngModel",r.ic(77,46,e.prezzosupremedioggi(e.riepilogo.fabbisogno.fornitore))),r.Ab(4),r.mc("ngModel",r.ic(81,48,e.prezzogpldioggi(e.riepilogo.fabbisogno.fornitore))),r.Ab(5),r.mc("ngModel",e.riepilogo.numerofatturafornitore),r.Ab(3),r.mc("ngModel",r.jc(89,50,e.riepilogo.importofatturafornitore,"EUR")),r.Ab(4),r.mc("ngModel",e.riepilogo.numerofatturapartenopea),r.Ab(3),r.mc("ngModel",r.jc(96,53,e.riepilogo.importofattura,"EUR")),r.Ab(5),r.mc("ngModel",r.jc(101,56,e.riepilogo.importopreventivo,"EUR")),r.Ab(4),r.mc("ngModel",r.jc(105,59,e.riepilogo.residuodaversare,"EUR")),r.Ab(5),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(10),r.mc("ngForOf",e.riepilogo.listabonifici),r.Ab(21),r.mc("ngForOf",e.riepilogo.files))},directives:[ie.a,ui.b,di.a,a.b,a.l,a.o,c,n.n],pipes:[n.f,n.g,n.d],styles:[".mat-form-field-underline[_ngcontent-%COMP%]{display:none!important}.top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}(),Er=function(){return function(){}}();function qr(t,e){if(1&t&&(r.Tb(0,"button",11),r.Hc(1),r.Sb()),2&t){var i=r.gc();r.Ab(1),r.Ic(i.valore.corrispondente)}}function Vr(t,e){1&t&&(r.Tb(0,"button",11),r.Hc(1,"Seleziona ruolo utente"),r.Sb())}function Lr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().cambiavalore(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.corrispondente)}}function Ur(t,e){if(1&t&&(r.Tb(0,"button",11),r.Hc(1),r.Sb()),2&t){var i=r.gc(2);r.Ab(1),r.Ic(i.clientesel.nomecliente)}}function $r(t,e){1&t&&(r.Tb(0,"button",11),r.Hc(1,"Seleziona Cliente"),r.Sb())}function Br(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc(2).clienteselezionato(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.nomecliente)}}function Gr(t,e){if(1&t&&(r.Tb(0,"div"),r.Tb(1,"div",3),r.Fc(2,Ur,2,1,"button",4),r.Fc(3,$r,2,0,"button",4),r.Tb(4,"div",5),r.Fc(5,Br,2,1,"button",6),r.Sb(),r.Sb(),r.Sb()),2&t){var i=r.gc();r.Ab(2),r.mc("ngIf",null!=i.clientesel),r.Ab(1),r.mc("ngIf",null==i.clientesel),r.Ab(2),r.mc("ngForOf",i.listaclienti)}}var Wr=function(){function t(t,e,i){var o=this;this.gestioneclientiservice=t,this.dialogRef=e,this.data=i,this.listaclienti=[],this.listavalori=[{valore:0,corrispondente:"AMMINISTRATORE"},{valore:1,corrispondente:"VISUALIZZAZIONE"},{valore:2,corrispondente:"CLIENTE"}],this.gestioneclientiservice.getallclienti().subscribe((function(t){o.listaclienti=t}))}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.cambiavalore=function(t){this.valore=t,this.data.ruolo=t.valore},t.prototype.clienteselezionato=function(t){this.clientesel=t,console.log("ID CLIENTE = "),console.log(this.clientesel.idcliente),this.data.cliente=t},t.\u0275fac=function(e){return new(e||t)(r.Nb(pe),r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungiutentedialog"]],decls:22,vars:7,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","type","text",3,"ngModel","ngModelChange"],["ngbDropdown","",1,"d-inline-block",2,"min-height","100px"],["class","btn btn-outline-primary","id","dropdownBasic1","ngbDropdownToggle","",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","",3,"click",4,"ngFor","ngForOf"],[4,"ngIf"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"],["id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary"],["ngbDropdownItem","",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Utente"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Username"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.data.username=t})),r.Sb(),r.Sb(),r.Tb(7,"mat-form-field"),r.Tb(8,"mat-label"),r.Hc(9,"Password"),r.Sb(),r.Tb(10,"input",2),r.ec("ngModelChange",(function(t){return e.data.password=t})),r.Sb(),r.Sb(),r.Tb(11,"div",3),r.Fc(12,qr,2,1,"button",4),r.Fc(13,Vr,2,0,"button",4),r.Tb(14,"div",5),r.Fc(15,Lr,2,1,"button",6),r.Sb(),r.Sb(),r.Fc(16,Gr,6,3,"div",7),r.Sb(),r.Tb(17,"div",8),r.Tb(18,"button",9),r.ec("click",(function(){return e.onNoClick()})),r.Hc(19,"Annulla"),r.Sb(),r.Tb(20,"button",10),r.Hc(21,"Aggiungi"),r.Sb(),r.Sb()),2&t&&(r.Ab(6),r.mc("ngModel",e.data.username),r.Ab(4),r.mc("ngModel",e.data.password),r.Ab(2),r.mc("ngIf",null!=e.valore),r.Ab(1),r.mc("ngIf",null==e.valore),r.Ab(2),r.mc("ngForOf",e.listavalori),r.Ab(1),r.mc("ngIf",void 0!==e.valore&&2===e.valore.valore),r.Ab(4),r.mc("mat-dialog-close",e.data))},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,pi.a,n.o,pi.c,n.n,Kt,ie.a,Xt,pi.d,pi.b],styles:[""]}),t}();function Jr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",12),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Tb(5,"td"),r.Hc(6),r.Sb(),r.Tb(7,"td"),r.Tb(8,"button",13),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().rimuoviutente(t)})),r.Hc(9,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit,n=r.gc();r.Ab(2),r.Ic(o.username),r.Ab(2),r.Ic(o.passwordinchiaro),r.Ab(2),r.Ic(n.prendiruolo(o))}}var Yr={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Xr=function(){function t(t,e,i){this.loginservice=t,this.toastr=e,this.dialog=i,this.dtTrigger=new b.a,this.dtOptions={},this.tablerows=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:Yr},this.loginservice.getallutenti().subscribe((function(e){t.tablerows=e,t.rerender()}))},t.prototype.aggiungiutente=function(){var t=this;this.dialog.open(Wr,{width:"450px",data:new Er}).afterClosed().subscribe((function(e){t.loginservice.creautente(e).subscribe((function(i){e.length===t.tablerows.length?t.toastr.error("C'\xe8 stato un errore nell'aggiunta dell'utente","Errore"):t.toastr.success("Utente aggiunto!","Aggiunto"),t.tablerows=i,t.rerender()}))}))},t.prototype.rimuoviutente=function(t){var e=this;this.dialog.open(oe,{data:{title:"Rimuovere",message:"Rimuovere utente "+t.username+" ?"}}).afterClosed().subscribe((function(i){!0===i&&e.loginservice.rimuoviutente(t).subscribe((function(t){t.length===e.tablerows.length?e.toastr.error("C'\xe8 stato un errore nella rimozione","Errore"):e.toastr.success("Utente rimossa","Rimosso"),e.tablerows=t,e.rerender()}))}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.prendiruolo=function(t){return 0===t.ruolo?"AMMINISTRATORE":1===t.ruolo?"VISUALIZZAZIONE":2===t.ruolo?"CLIENTE":void 0},t.\u0275fac=function(e){return new(e||t)(r.Nb(l.a),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestioneutenti"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:25,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Cliente",1,"fab-bottom-right","btn","btn-warning",3,"click"],[1,"manina"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Utenti"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"Nome utente"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Password"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Ruolo"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Azioni"),r.Sb(),r.Sb(),r.Sb(),r.Tb(21,"tbody"),r.Fc(22,Jr,10,3,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"button",11),r.ec("click",(function(){return e.aggiungiutente()})),r.Hc(24," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(12),r.mc("ngForOf",e.tablerows))},directives:[c,n.n,ie.a],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}();function Qr(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",11),r.Tb(1,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(2),r.hc(3,"date"),r.Sb(),r.Tb(4,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(5),r.Sb(),r.Tb(6,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(7),r.Sb(),r.Tb(8,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(9),r.Sb(),r.Tb(10,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(11),r.hc(12,"number"),r.Sb(),r.Tb(13,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(14),r.hc(15,"number"),r.Sb(),r.Tb(16,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(17),r.hc(18,"number"),r.Sb(),r.Tb(19,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginafabbisogno(t)})),r.Hc(20),r.hc(21,"number"),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(r.jc(3,8,o.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.puntoVendita.nome),r.Ab(2),r.Ic(o.basedicarico.nomebasedicarico),r.Ab(2),r.Ic(o.fornitore.nomefornitore),r.Ab(2),r.Ic(r.ic(12,11,o.gasolio)),r.Ab(3),r.Ic(r.ic(15,13,o.benzina)),r.Ab(3),r.Ic(r.ic(18,15,o.supreme)),r.Ab(3),r.Ic(r.ic(21,17,o.gpl))}}var Zr={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Kr=function(){function t(t,e,i,o){this.router=t,this.fabbisognoservice=e,this.toastr=i,this.dialog=o,this.dtTrigger=new b.a,this.dtOptions={},this.listafabbisogni=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:Zr},this.fabbisognoservice.getallfabbisogni().subscribe((function(e){t.listafabbisogni=e,t.rerender()}))},t.prototype.vaiapaginafabbisogno=function(t){this.fabbisognoservice.fabbisognoselezionato=t,this.router.navigate(["/admin/visaggiungimodificafabbisogno"])},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(p),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-visfabbisogno"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:31,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],[1,"manina"],[3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Fabbisogni"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"Data"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Cliente"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Base di Carico"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Fornitore"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Gasolio"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"Benzina"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"Supreme"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"GPL"),r.Sb(),r.Sb(),r.Sb(),r.Tb(29,"tbody"),r.Fc(30,Qr,22,19,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(20),r.mc("ngForOf",e.listafabbisogni))},directives:[c,n.n],pipes:[n.f,n.g],styles:[""]}),t}();function tc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"date"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,i.data,"dd-MM-yyyy"))}}function ec(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"date"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,o.data,"dd-MM-yyyy"))}}function ic(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.puntoVendita.nome)}}function oc(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.puntoVendita.nome)}}function nc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.basedicarico.nomebasedicarico)}}function ac(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.basedicarico.nomebasedicarico)}}function rc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.fornitore.nomefornitore)}}function cc(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.fornitore.nomefornitore)}}function sc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.gasolio))}}function bc(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gasolio))}}function lc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.benzina))}}function uc(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.benzina))}}function dc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.supreme))}}function pc(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.supreme))}}function gc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.gpl))}}function fc(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1),r.hc(2,"number"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,o.gpl))}}function hc(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1," SI "),r.Sb()}}function vc(t,e){1&t&&(r.Tb(0,"td",18),r.Hc(1," NO "),r.Sb())}function mc(t,e){if(1&t&&(r.Tb(0,"tr",11),r.Fc(1,tc,3,4,"td",12),r.Fc(2,ec,3,4,"td",13),r.Fc(3,ic,2,1,"td",12),r.Fc(4,oc,2,1,"td",13),r.Fc(5,nc,2,1,"td",12),r.Fc(6,ac,2,1,"td",13),r.Fc(7,rc,2,1,"td",12),r.Fc(8,cc,2,1,"td",13),r.Fc(9,sc,3,3,"td",12),r.Fc(10,bc,3,3,"td",13),r.Fc(11,lc,3,3,"td",12),r.Fc(12,uc,3,3,"td",13),r.Fc(13,dc,3,3,"td",12),r.Fc(14,pc,3,3,"td",13),r.Fc(15,gc,3,3,"td",12),r.Fc(16,fc,3,3,"td",13),r.Fc(17,hc,2,0,"td",14),r.Fc(18,vc,2,0,"td",15),r.Sb()),2&t){var i=e.$implicit;r.Ab(1),r.mc("ngIf",!i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",!i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",!i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",!i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",!i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",!i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",!i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",!i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",i.preventivoesistente),r.Ab(1),r.mc("ngIf",!i.preventivoesistente)}}var Tc={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Sc=function(){function t(t,e,i){this.router=t,this.fabbisognoservice=e,this.preventivoservice=i,this.dtTrigger=new b.a,this.dtOptions={},this.listafabbisogni=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:Tc},this.fabbisognoservice.getallfabbisogni().subscribe((function(e){t.listafabbisogni=e,t.rerender()}))},t.prototype.visualizzapreventivo=function(t){var e=this;this.preventivoservice.fabbisognoselezionato=t,this.preventivoservice.getpreventivo(t).subscribe((function(t){e.preventivoservice.preventivoselezionato=t,e.router.navigate(["/admin/visrecappreventivo"])}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(p),r.Nb(kn))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-vispreventivo"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:33,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],[1,"manina"],[4,"ngIf"],[3,"click",4,"ngIf"],["style","color: green",3,"click",4,"ngIf"],["style","color: red",4,"ngIf"],[3,"click"],[2,"color","green",3,"click"],[2,"color","red"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Preventivi"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"Data"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Cliente"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Base di Carico"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Fornitore"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Gasolio"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"Benzina"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"Supreme"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"GPL"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"Preventivo"),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"tbody"),r.Fc(32,mc,19,18,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(22),r.mc("ngForOf",e.listafabbisogni))},directives:[c,n.n,n.o],pipes:[n.f,n.g],styles:[""]}),t}();function zc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"date"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,i.data,"dd-MM-yyyy"))}}function yc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"date"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,i.data,"dd-MM-yyyy"))}}function _c(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.puntoVendita.nome)}}function Ac(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.puntoVendita.nome)}}function Oc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.basedicarico.nomebasedicarico)}}function wc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.basedicarico.nomebasedicarico)}}function kc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.fornitore.nomefornitore)}}function Hc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.fornitore.nomefornitore)}}function Ic(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.gasolio))}}function Cc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.gasolio))}}function Mc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.benzina))}}function xc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.benzina))}}function jc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.supreme))}}function Rc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.supreme))}}function Nc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.gpl))}}function Dc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.hc(2,"number"),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(r.ic(2,1,i.gpl))}}function Pc(t,e){1&t&&(r.Tb(0,"td",17),r.Hc(1," SI "),r.Sb())}function Fc(t,e){1&t&&(r.Tb(0,"td",18),r.Hc(1," NO "),r.Sb())}function Ec(t,e){if(1&t&&(r.Tb(0,"tr",13),r.Fc(1,zc,3,4,"td",14),r.Fc(2,yc,3,4,"td",14),r.Fc(3,_c,2,1,"td",14),r.Fc(4,Ac,2,1,"td",14),r.Fc(5,Oc,2,1,"td",14),r.Fc(6,wc,2,1,"td",14),r.Fc(7,kc,2,1,"td",14),r.Fc(8,Hc,2,1,"td",14),r.Fc(9,Ic,3,3,"td",14),r.Fc(10,Cc,3,3,"td",14),r.Fc(11,Mc,3,3,"td",14),r.Fc(12,xc,3,3,"td",14),r.Fc(13,jc,3,3,"td",14),r.Fc(14,Rc,3,3,"td",14),r.Fc(15,Nc,3,3,"td",14),r.Fc(16,Dc,3,3,"td",14),r.Fc(17,Pc,2,0,"td",15),r.Fc(18,Fc,2,0,"td",16),r.Sb()),2&t){var i=e.$implicit;r.Ab(1),r.mc("ngIf",!i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",!i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",!i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",!i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",!i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",!i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",!i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",!i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",i.trasportoesistente),r.Ab(1),r.mc("ngIf",!i.trasportoesistente)}}var qc={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Vc=function(){function t(t,e,i,o,n){this.router=t,this.fabbisognoservice=e,this.trasportoservice=i,this.dialog=o,this.toastr=n,this.dtTrigger=new b.a,this.dtOptions={},this.listafabbisogni=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:qc},this.fabbisognoservice.getallfabbisogni().subscribe((function(e){t.listafabbisogni=e,t.rerender()}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(p),r.Nb(za),r.Nb(Jt),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-vistrasporto"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:37,vars:3,consts:[["label","Lista trasporti"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["label","Richieste di carico"],[1,"manina"],[4,"ngIf"],["style","color: green",4,"ngIf"],["style","color: red",4,"ngIf"],[2,"color","green"],[2,"color","red"]],template:function(t,e){1&t&&(r.Tb(0,"mat-tab-group"),r.Tb(1,"mat-tab",0),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Trasporti"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",9),r.Tb(12,"table",10),r.Tb(13,"thead"),r.Tb(14,"tr"),r.Tb(15,"th"),r.Hc(16,"Data"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Cliente"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Base di Carico"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Fornitore"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"Gasolio"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"Benzina"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"Supreme"),r.Sb(),r.Tb(29,"th"),r.Hc(30,"GPL"),r.Sb(),r.Tb(31,"th"),r.Hc(32,"Trasporto"),r.Sb(),r.Sb(),r.Sb(),r.Tb(33,"tbody"),r.Fc(34,Ec,19,18,"tr",11),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(35,"mat-tab",12),r.Ob(36,"app-richiestedicarico"),r.Sb(),r.Sb()),2&t&&(r.Ab(12),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(22),r.mc("ngForOf",e.listafabbisogni))},directives:[ii,Be,c,n.n,Fa,n.o],pipes:[n.f,n.g],styles:[""]}),t}();function Lc(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.trasporto.nometrasportatore)}}function Uc(t,e){1&t&&r.Ob(0,"td")}function $c(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",17),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificariepilogo(t)})),r.Tb(1,"td"),r.Hc(2),r.hc(3,"date"),r.Sb(),r.Tb(4,"td"),r.Hc(5),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.Sb(),r.Tb(8,"td"),r.Hc(9),r.Sb(),r.Tb(10,"td"),r.Hc(11),r.Sb(),r.Tb(12,"td"),r.Hc(13),r.Sb(),r.Fc(14,Lc,2,1,"td",18),r.Fc(15,Uc,1,0,"td",18),r.Tb(16,"td"),r.Hc(17),r.hc(18,"currency"),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(r.jc(3,9,o.fabbisogno.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.fabbisogno.puntoVendita.nome),r.Ab(2),r.Ic(o.fabbisogno.gasolio),r.Ab(2),r.Ic(o.fabbisogno.benzina),r.Ab(2),r.Ic(o.fabbisogno.supreme),r.Ab(2),r.Ic(o.fabbisogno.gpl),r.Ab(1),r.mc("ngIf",void 0!==o.trasporto),r.Ab(1),r.mc("ngIf",void 0===o.trasporto),r.Ab(2),r.Ic(r.jc(18,12,o.residuodaversare,"EUR"))}}var Bc={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Gc=function(){function t(t,e,i){this.router=t,this.fileservice=e,this.riepilogoservice=i,this.dtTrigger=new b.a,this.dtOptions={},this.listariepiloghi=[]}return t.prototype.ngOnInit=function(){var t=this;this.data1=new Date(Date.now()-6048e5),this.data2=new Date;var e=new de;e.data1=this.data1,e.data2=this.data2,this.dtOptions={language:Bc},this.riepilogoservice.getallriepiloghiinrange(e).subscribe((function(e){t.listariepiloghi=e,t.rerender()}))},t.prototype.cercainrange=function(){var t=this,e=new de;e.data1=this.data1,e.data2=this.data2,this.riepilogoservice.getallriepiloghiinrange(e).subscribe((function(e){t.listariepiloghi=e,t.rerender()}))},t.prototype.modificariepilogo=function(t){this.riepilogoservice.riepilogoselezionato=t,this.router.navigate(["/admin/vismodificariepilogo"])},t.prototype.aggiornadata1=function(t){this.data1=new Date(t)},t.prototype.aggiornadata2=function(t){this.data2=new Date(t)},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.stampaexcel=function(){var t=this,e=new de;e.data1=this.data1,e.data2=this.data2,this.fileservice.getexcelfile(e).subscribe((function(e){var i=new Blob([e],{type:"application/octet-stream"}),o="recap";o+=Object(n.y)(t.data1,"dd-MM-yyyy","en_US"),o+="_",o+=Object(n.y)(t.data2,"dd-MM-yyyy","en_US"),o+=".xlsx",Object(Bi.saveAs)(i,o)}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(da),r.Nb(_r))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-visriepilogo"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:58,vars:11,consts:[[1,"container-fluid"],[1,"row"],[1,"card-body"],[1,"col-md-1"],[1,"col-md-4"],["matInput","","placeholder","Data","type","date",3,"ngModel","ngModelChange"],[1,"col-md-2"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"],[1,"col-md-5"],[1,"main-content"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",3,"click",4,"ngFor","ngForOf"],[1,"manina",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Ob(2,"br"),r.Tb(3,"div",2),r.Tb(4,"div",1),r.Ob(5,"div",3),r.Tb(6,"div",4),r.Tb(7,"mat-label"),r.Hc(8,"Inizio"),r.Sb(),r.Tb(9,"input",5),r.ec("ngModelChange",(function(t){return e.aggiornadata1(t)})),r.hc(10,"date"),r.Sb(),r.Sb(),r.Tb(11,"div",4),r.Tb(12,"mat-label"),r.Hc(13,"Fine"),r.Sb(),r.Tb(14,"input",5),r.ec("ngModelChange",(function(t){return e.aggiornadata2(t)})),r.hc(15,"date"),r.Sb(),r.Sb(),r.Tb(16,"div",6),r.Tb(17,"button",7),r.ec("click",(function(){return e.cercainrange()})),r.Hc(18,"Cerca"),r.Sb(),r.Sb(),r.Ob(19,"div",3),r.Sb(),r.Ob(20,"br"),r.Tb(21,"div",1),r.Ob(22,"div",8),r.Tb(23,"div",6),r.Tb(24,"button",7),r.ec("click",(function(){return e.stampaexcel()})),r.Hc(25,"Esporta in excel"),r.Sb(),r.Sb(),r.Ob(26,"div",8),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(27,"div",9),r.Tb(28,"div",0),r.Tb(29,"div",1),r.Tb(30,"div",10),r.Tb(31,"div",11),r.Tb(32,"div",12),r.Tb(33,"h4",13),r.Hc(34,"Riepilogo"),r.Sb(),r.Sb(),r.Tb(35,"div",2),r.Tb(36,"div",14),r.Tb(37,"table",15),r.Tb(38,"thead"),r.Tb(39,"tr"),r.Tb(40,"th"),r.Hc(41,"Data"),r.Sb(),r.Tb(42,"th"),r.Hc(43,"Punto Vendita"),r.Sb(),r.Tb(44,"th"),r.Hc(45,"Gasolio"),r.Sb(),r.Tb(46,"th"),r.Hc(47,"Benzina"),r.Sb(),r.Tb(48,"th"),r.Hc(49,"Supreme"),r.Sb(),r.Tb(50,"th"),r.Hc(51,"Gpl"),r.Sb(),r.Tb(52,"th"),r.Hc(53,"Trasportatore"),r.Sb(),r.Tb(54,"th"),r.Hc(55,"Residuo da versare"),r.Sb(),r.Sb(),r.Sb(),r.Tb(56,"tbody"),r.Fc(57,$c,19,15,"tr",16),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(9),r.mc("ngModel",r.jc(10,5,e.data1,"dd-MM-yyyy")),r.Ab(5),r.mc("ngModel",r.jc(15,8,e.data2,"dd-MM-yyyy")),r.Ab(23),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(20),r.mc("ngForOf",e.listariepiloghi))},directives:[ui.e,di.a,a.b,a.l,a.o,ie.a,c,n.n,n.o],pipes:[n.f,n.d],styles:[""]}),t}(),Wc=function(){function t(t,e,i,o,n){this.fabbisognoservice=t,this.fornitoriservice=e,this.basidicaricoservice=i,this.puntivenditaservice=o,this.router=n,this.fabbisogno=this.fabbisognoservice.fabbisognoselezionato}return t.prototype.ngOnInit=function(){},t.prototype.tornaindietro=function(){this.fabbisognoservice.fabbisognoselezionato=void 0,this.router.navigate(["/admin/visfabbisogno"])},t.\u0275fac=function(e){return new(e||t)(r.Nb(p),r.Nb(Fi),r.Nb(ji),r.Nb(pe),r.Nb(o.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-visaggiungimodificafabbisogno"]],decls:30,vars:8,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-3"],["matInput","","placeholder","Data","type","date","disabled","true",3,"ngModel"],["matInput","","placeholder","Fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Base di carico","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Punto vendita","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Gasolio","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Benzina","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Supreme","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","GPL","type","text","disabled","true",3,"ngModel"],[1,"clearfix"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Recap Fabbisogno"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",3),r.Tb(12,"div",9),r.Ob(13,"input",10),r.Sb(),r.Tb(14,"div",9),r.Ob(15,"input",11),r.Sb(),r.Tb(16,"div",9),r.Ob(17,"input",12),r.Sb(),r.Tb(18,"div",9),r.Ob(19,"input",13),r.Sb(),r.Sb(),r.Tb(20,"div",3),r.Tb(21,"div",9),r.Ob(22,"input",14),r.Sb(),r.Tb(23,"div",9),r.Ob(24,"input",15),r.Sb(),r.Tb(25,"div",9),r.Ob(26,"input",16),r.Sb(),r.Tb(27,"div",9),r.Ob(28,"input",17),r.Sb(),r.Sb(),r.Ob(29,"div",18),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(13),r.mc("ngModel",e.fabbisogno.data),r.Ab(2),r.mc("ngModel",e.fabbisogno.fornitore.nomefornitore),r.Ab(2),r.mc("ngModel",e.fabbisogno.basedicarico.nomebasedicarico),r.Ab(2),r.mc("ngModel",e.fabbisogno.puntoVendita.nome),r.Ab(3),r.mc("ngModel",e.fabbisogno.gasolio),r.Ab(2),r.mc("ngModel",e.fabbisogno.benzina),r.Ab(2),r.mc("ngModel",e.fabbisogno.supreme),r.Ab(2),r.mc("ngModel",e.fabbisogno.gpl))},directives:[ie.a,di.a,a.b,a.l,a.o],styles:[".mat-form-field-underline[_ngcontent-%COMP%]{display:none!important}.top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}();function Jc(t,e){if(1&t&&(r.Tb(0,"tr"),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Sb()),2&t){var i=e.$implicit;r.Ab(2),r.Ic(i.vocedirettifica),r.Ab(2),r.Ic(i.valore)}}var Yc=function(){function t(t,e,i,o){var n=this;this.router=t,this.preventivoservice=e,this.gestioneclienti=i,this.fileservice=o,this.preventivoselezionato=this.preventivoservice.preventivoselezionato,this.gestioneclienti.getproprietario(this.preventivoservice.fabbisognoselezionato.puntoVendita).subscribe((function(t){n.proprietario=t}))}return t.prototype.ngOnInit=function(){},t.prototype.togliiva=function(t){return t/1.22},t.prototype.prezzoinfattura=function(t,e,i){return this.togliiva(t)-e*i/100},t.prototype.prezzoconvolumesenzaiva=function(t,e,i,o){return Number(this.prezzoinfattura(t,e,i).toFixed(3))*o},t.prototype.calcolasommavocidirettifica=function(){for(var t=0,e=0,i=this.preventivoselezionato.listavocidirettifica;e<i.length;e++){var o=i[e];o.segno?t+=o.valore:t-=o.valore}return t},t.prototype.calcolatotaleconiva=function(){return 1.22*this.prezzoconvolumesenzaiva(this.preventivoselezionato.prezzoalpubblicogasolioself,this.proprietario.marginegasolioself,this.preventivoselezionato.marginecessionegasolio,this.preventivoselezionato.riferimento.gasolio)+1.22*this.prezzoconvolumesenzaiva(this.preventivoselezionato.prezzoalpubblicobenzinaself,this.proprietario.marginebenzinaself,this.preventivoselezionato.marginecessionebenzina,this.preventivoselezionato.riferimento.benzina)+1.22*this.prezzoconvolumesenzaiva(this.preventivoselezionato.prezzoalpubblicosupremeself,this.proprietario.marginesupremeself,this.preventivoselezionato.marginecessionesupreme,this.preventivoselezionato.riferimento.supreme)+1.22*this.prezzoconvolumesenzaiva(this.preventivoselezionato.prezzoalpubblicogplservito,this.proprietario.marginegplself,this.preventivoselezionato.marginecessionegpl,this.preventivoselezionato.riferimento.gpl)},t.prototype.calcolaimportobonifico=function(){return this.calcolatotaleconiva()+this.calcolasommavocidirettifica()},t.prototype.stampapreventivo=function(){this.fileservice.stampapreventivo(this.preventivoselezionato).subscribe((function(t){new Blob([t],{type:"application/pdf"});var e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.target="_blank",i.click()}))},t.prototype.tornaindietro=function(){this.preventivoservice.preventivoselezionato=void 0,this.router.navigate(["/admin/vispreventivo"])},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(kn),r.Nb(pe),r.Nb(da))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-visrecappreventivo"]],decls:207,vars:117,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-6","text-center"],[1,"col-md-11"],[2,"width","100%"],["colspan","3"],["colspan","2"],[1,"col-md-1"],[1,"col-md-4"],[1,"row-border","hover"],[4,"ngFor","ngForOf"],[1,"col-md-7","text-center"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Preventivo"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",3),r.Tb(12,"div",9),r.Hc(13),r.Ob(14,"br"),r.Hc(15),r.Sb(),r.Tb(16,"div",9),r.Hc(17),r.hc(18,"date"),r.Sb(),r.Sb(),r.Ob(19,"br"),r.Ob(20,"br"),r.Tb(21,"div",3),r.Tb(22,"div",10),r.Tb(23,"table",11),r.Tb(24,"tr"),r.Tb(25,"th",12),r.Hc(26,"PRODOTTO"),r.Sb(),r.Tb(27,"th",13),r.Hc(28,"GASOLIO"),r.Sb(),r.Tb(29,"th",13),r.Hc(30,"BENZINA"),r.Sb(),r.Tb(31,"th",13),r.Hc(32,"SUPREME"),r.Sb(),r.Tb(33,"th"),r.Hc(34,"GPL"),r.Sb(),r.Sb(),r.Tb(35,"tr"),r.Tb(36,"td",12),r.Hc(37,"Modalit\xe0"),r.Sb(),r.Tb(38,"td"),r.Hc(39,"Servito"),r.Sb(),r.Tb(40,"td"),r.Hc(41,"Self"),r.Sb(),r.Tb(42,"td"),r.Hc(43,"Servito"),r.Sb(),r.Tb(44,"td"),r.Hc(45,"Self"),r.Sb(),r.Tb(46,"td"),r.Hc(47,"Servito"),r.Sb(),r.Tb(48,"td"),r.Hc(49,"Self"),r.Sb(),r.Tb(50,"td"),r.Hc(51,"Servito"),r.Sb(),r.Sb(),r.Tb(52,"tr"),r.Tb(53,"td",12),r.Hc(54,"Prezzo al pubblico"),r.Sb(),r.Tb(55,"td"),r.Hc(56),r.Sb(),r.Tb(57,"td"),r.Hc(58),r.Sb(),r.Tb(59,"td"),r.Hc(60),r.Sb(),r.Tb(61,"td"),r.Hc(62),r.Sb(),r.Tb(63,"td"),r.Hc(64),r.Sb(),r.Tb(65,"td"),r.Hc(66),r.Sb(),r.Tb(67,"td"),r.Hc(68),r.Sb(),r.Sb(),r.Tb(69,"tr"),r.Tb(70,"td",12),r.Hc(71,"Prezzo al pubblico Senza IVA"),r.Sb(),r.Tb(72,"td"),r.Hc(73),r.hc(74,"number"),r.Sb(),r.Tb(75,"td"),r.Hc(76),r.hc(77,"number"),r.Sb(),r.Tb(78,"td"),r.Hc(79),r.hc(80,"number"),r.Sb(),r.Tb(81,"td"),r.Hc(82),r.hc(83,"number"),r.Sb(),r.Tb(84,"td"),r.Hc(85),r.hc(86,"number"),r.Sb(),r.Tb(87,"td"),r.Hc(88),r.hc(89,"number"),r.Sb(),r.Tb(90,"td"),r.Hc(91),r.hc(92,"number"),r.Sb(),r.Sb(),r.Tb(93,"tr"),r.Tb(94,"td",12),r.Hc(95,"Margine previsto per contratto"),r.Sb(),r.Tb(96,"td"),r.Hc(97),r.Sb(),r.Tb(98,"td"),r.Hc(99),r.Sb(),r.Tb(100,"td"),r.Hc(101),r.Sb(),r.Tb(102,"td"),r.Hc(103),r.Sb(),r.Tb(104,"td"),r.Hc(105),r.Sb(),r.Tb(106,"td"),r.Hc(107),r.Sb(),r.Tb(108,"td"),r.Hc(109),r.Sb(),r.Sb(),r.Tb(110,"tr"),r.Tb(111,"td",12),r.Hc(112,"Margine cessione senza IVA (in %)"),r.Sb(),r.Tb(113,"td",13),r.Hc(114),r.Sb(),r.Tb(115,"td",13),r.Hc(116),r.Sb(),r.Tb(117,"td",13),r.Hc(118),r.Sb(),r.Tb(119,"td"),r.Hc(120),r.Sb(),r.Sb(),r.Tb(121,"tr"),r.Tb(122,"td",12),r.Hc(123,"Prezzo in fattura"),r.Sb(),r.Tb(124,"td",13),r.Hc(125),r.hc(126,"number"),r.Sb(),r.Tb(127,"td",13),r.Hc(128),r.hc(129,"number"),r.Sb(),r.Tb(130,"td",13),r.Hc(131),r.hc(132,"number"),r.Sb(),r.Tb(133,"td"),r.Hc(134),r.hc(135,"number"),r.Sb(),r.Sb(),r.Tb(136,"tr"),r.Tb(137,"td",12),r.Hc(138,"Volume ordinato"),r.Sb(),r.Tb(139,"td",13),r.Hc(140),r.Sb(),r.Tb(141,"td",13),r.Hc(142),r.Sb(),r.Tb(143,"td",13),r.Hc(144),r.Sb(),r.Tb(145,"td"),r.Hc(146),r.Sb(),r.Sb(),r.Tb(147,"tr"),r.Tb(148,"td",12),r.Hc(149,"Totale ordine senza IVA"),r.Sb(),r.Tb(150,"td",13),r.Hc(151),r.hc(152,"currency"),r.Sb(),r.Tb(153,"td",13),r.Hc(154),r.hc(155,"currency"),r.Sb(),r.Tb(156,"td",13),r.Hc(157),r.hc(158,"currency"),r.Sb(),r.Tb(159,"td"),r.Hc(160),r.hc(161,"currency"),r.Sb(),r.Sb(),r.Tb(162,"tr"),r.Tb(163,"td",12),r.Hc(164,"Totale ordine IVA Compresa"),r.Sb(),r.Tb(165,"td",13),r.Hc(166),r.hc(167,"currency"),r.Sb(),r.Tb(168,"td",13),r.Hc(169),r.hc(170,"currency"),r.Sb(),r.Tb(171,"td",13),r.Hc(172),r.hc(173,"currency"),r.Sb(),r.Tb(174,"td"),r.Hc(175),r.hc(176,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(177,"div",3),r.Ob(178,"br"),r.Sb(),r.Tb(179,"div",3),r.Ob(180,"div",14),r.Tb(181,"div",15),r.Tb(182,"table",16),r.Tb(183,"thead"),r.Tb(184,"tr"),r.Tb(185,"th"),r.Hc(186,"Voce di rettifica"),r.Sb(),r.Tb(187,"th"),r.Hc(188,"Valore"),r.Sb(),r.Sb(),r.Sb(),r.Tb(189,"tbody"),r.Fc(190,Jc,5,2,"tr",17),r.Sb(),r.Sb(),r.Sb(),r.Tb(191,"div",18),r.Tb(192,"h4"),r.Tb(193,"b"),r.Hc(194),r.hc(195,"number"),r.Sb(),r.Sb(),r.Tb(196,"h4"),r.Tb(197,"b"),r.Hc(198),r.hc(199,"number"),r.Sb(),r.Sb(),r.Tb(200,"h4"),r.Tb(201,"b"),r.Hc(202),r.hc(203,"number"),r.Sb(),r.Sb(),r.Ob(204,"br"),r.Tb(205,"button",19),r.ec("click",(function(){return e.stampapreventivo()})),r.Hc(206,"Stampa preventivo"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(13),r.Jc(" ",e.preventivoselezionato.riferimento.puntoVendita.nome," "),r.Ab(2),r.Jc(" ",e.preventivoselezionato.nomecliente," "),r.Ab(2),r.Jc(" Data di consegna: ",r.jc(18,48,e.preventivoselezionato.riferimento.data,"dd-MM-yyyy")," "),r.Ab(39),r.Ic(e.preventivoselezionato.prezzoalpubblicogasolioservito),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicogasolioself),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicobenzinaservito),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicobenzinaself),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicosupremeservito),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicosupremeself),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicogplservito),r.Ab(5),r.Ic(r.jc(74,51,e.togliiva(e.preventivoselezionato.prezzoalpubblicogasolioservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(77,54,e.togliiva(e.preventivoselezionato.prezzoalpubblicogasolioself),"1.3-3")),r.Ab(3),r.Ic(r.jc(80,57,e.togliiva(e.preventivoselezionato.prezzoalpubblicobenzinaservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(83,60,e.togliiva(e.preventivoselezionato.prezzoalpubblicobenzinaself),"1.3-3")),r.Ab(3),r.Ic(r.jc(86,63,e.togliiva(e.preventivoselezionato.prezzoalpubblicosupremeservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(89,66,e.togliiva(e.preventivoselezionato.prezzoalpubblicosupremeself),"1.3-3")),r.Ab(3),r.Ic(r.jc(92,69,e.togliiva(e.preventivoselezionato.prezzoalpubblicogplservito),"1.3-3")),r.Ab(6),r.Ic(e.proprietario.marginegasolioservito),r.Ab(2),r.Ic(e.proprietario.marginegasolioself),r.Ab(2),r.Ic(e.proprietario.marginebenzinaservito),r.Ab(2),r.Ic(e.proprietario.marginebenzinaself),r.Ab(2),r.Ic(e.proprietario.marginesupremeservito),r.Ab(2),r.Ic(e.proprietario.marginesupremeself),r.Ab(2),r.Ic(e.proprietario.marginegplservito),r.Ab(5),r.Ic(e.preventivoselezionato.marginecessionegasolio),r.Ab(2),r.Ic(e.preventivoselezionato.marginecessionebenzina),r.Ab(2),r.Ic(e.preventivoselezionato.marginecessionesupreme),r.Ab(2),r.Ic(e.preventivoselezionato.marginecessionegpl),r.Ab(5),r.Ic(r.jc(126,72,e.prezzoinfattura(e.preventivoselezionato.prezzoalpubblicogasolioself,e.proprietario.marginegasolioself,e.preventivoselezionato.marginecessionegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(129,75,e.prezzoinfattura(e.preventivoselezionato.prezzoalpubblicobenzinaself,e.proprietario.marginebenzinaself,e.preventivoselezionato.marginecessionebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(132,78,e.prezzoinfattura(e.preventivoselezionato.prezzoalpubblicosupremeself,e.proprietario.marginesupremeself,e.preventivoselezionato.marginecessionesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(135,81,e.prezzoinfattura(e.preventivoselezionato.prezzoalpubblicogplservito,e.proprietario.marginegplservito,e.preventivoselezionato.marginecessionegpl),"1.3-3")),r.Ab(6),r.Ic(e.preventivoselezionato.riferimento.gasolio),r.Ab(2),r.Ic(e.preventivoselezionato.riferimento.benzina),r.Ab(2),r.Ic(e.preventivoselezionato.riferimento.supreme),r.Ab(2),r.Ic(e.preventivoselezionato.riferimento.gpl),r.Ab(5),r.Ic(r.jc(152,84,e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicogasolioself,e.proprietario.marginegasolioself,e.preventivoselezionato.marginecessionegasolio,e.preventivoselezionato.riferimento.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(155,87,e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicobenzinaself,e.proprietario.marginebenzinaself,e.preventivoselezionato.marginecessionebenzina,e.preventivoselezionato.riferimento.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(158,90,e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicosupremeself,e.proprietario.marginesupremeself,e.preventivoselezionato.marginecessionesupreme,e.preventivoselezionato.riferimento.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(161,93,e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicogplservito,e.proprietario.marginegplservito,e.preventivoselezionato.marginecessionegpl,e.preventivoselezionato.riferimento.gpl),"EUR")),r.Ab(6),r.Ic(r.jc(167,96,1.22*e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicogasolioself,e.proprietario.marginegasolioself,e.preventivoselezionato.marginecessionegasolio,e.preventivoselezionato.riferimento.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(170,99,1.22*e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicobenzinaself,e.proprietario.marginebenzinaself,e.preventivoselezionato.marginecessionebenzina,e.preventivoselezionato.riferimento.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(173,102,1.22*e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicosupremeself,e.proprietario.marginesupremeself,e.preventivoselezionato.marginecessionesupreme,e.preventivoselezionato.riferimento.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(176,105,1.22*e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicogplservito,e.proprietario.marginegplservito,e.preventivoselezionato.marginecessionegpl,e.preventivoselezionato.riferimento.gpl),"EUR")),r.Ab(15),r.mc("ngForOf",e.preventivoselezionato.listavocidirettifica),r.Ab(4),r.Jc("TOTALE CON IVA: ",r.jc(195,108,e.calcolatotaleconiva(),"1.2-2"),""),r.Ab(4),r.Jc("TOTALE VOCI DI RETTIFICA: ",r.jc(199,111,e.calcolasommavocidirettifica(),"1.2-2"),""),r.Ab(4),r.Jc("IMPORTO BONIFICO: ",r.jc(203,114,e.calcolaimportobonifico(),"1.2-2"),""))},directives:[ie.a,n.n],pipes:[n.f,n.g,n.d],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}(),Xc=function(){function t(t,e,i,o){this.toastr=t,this.dialog=e,this.riepilogoservice=i,this.router=o,this.riepilogo=this.riepilogoservice.riepilogoselezionato}return t.prototype.ngOnInit=function(){},t.prototype.prezzogasoliodioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.isToday(o.data))return o.prezzogasolio}},t.prototype.prezzobenzinadioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.isToday(o.data))return o.prezzobenzina}},t.prototype.prezzosupremedioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.isToday(o.data))return o.prezzosupreme}},t.prototype.prezzogpldioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.isToday(o.data))return o.prezzogpl}},t.prototype.isToday=function(t){return(new Date).toDateString()===new Date(t).toDateString()},t.prototype.tornaindietro=function(){this.riepilogoservice.riepilogoselezionato=void 0,this.router.navigate(["/admin/visriepilogo"])},t.\u0275fac=function(e){return new(e||t)(r.Nb(ne.b),r.Nb(Jt),r.Nb(_r),r.Nb(o.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-vismodificariepilogo"]],decls:114,vars:63,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-3"],["disabled","true","matInput","","placeholder","Data consegna","type","date",3,"ngModel"],[1,"example-full-width"],["matInput","","placeholder","Base di carico","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Punto vendita","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Totale volumi","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Gasolio","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Benzina","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Supreme","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Cali gasolio","type","text","disabled","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cali benzina","type","text","disabled","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cali supreme","type","text","disabled","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Cali gpl","type","text","disabled","true",3,"ngModel","ngModelChange"],[1,"col-md-4"],["matInput","","placeholder","Fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Vettore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","DAS","type","text","disabled","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Prezzo gasolio fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Prezzo benzina fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Prezzo supreme fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Prezzo gpl fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Numero fattura fornitore","type","text","disabled","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Importo fattura fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Numero fattura Partenopea","type","text","disabled","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Importo fattura Partenopea","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Data bonifico","type","date","disabled","true",3,"ngModel"],["matInput","","placeholder","Importo bonifico","type","number","disabled","true",3,"ngModel","ngModelChange"],["matInput","","placeholder","Importo preventivo","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Residuo da versare","type","text","disabled","true",3,"ngModel"],[1,"clearfix"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Riepilogo"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",3),r.Tb(12,"mat-form-field",9),r.Ob(13,"input",10),r.hc(14,"date"),r.Sb(),r.Tb(15,"div",9),r.Tb(16,"mat-form-field",11),r.Ob(17,"input",12),r.Sb(),r.Sb(),r.Tb(18,"div",9),r.Tb(19,"mat-form-field",11),r.Ob(20,"input",13),r.Sb(),r.Sb(),r.Tb(21,"div",9),r.Tb(22,"mat-form-field",11),r.Ob(23,"input",14),r.hc(24,"number"),r.Sb(),r.Sb(),r.Sb(),r.Tb(25,"div",3),r.Tb(26,"div",9),r.Tb(27,"mat-form-field",11),r.Ob(28,"input",15),r.hc(29,"number"),r.Sb(),r.Sb(),r.Tb(30,"div",9),r.Tb(31,"mat-form-field",11),r.Ob(32,"input",16),r.hc(33,"number"),r.Sb(),r.Sb(),r.Tb(34,"div",9),r.Tb(35,"mat-form-field",11),r.Ob(36,"input",17),r.hc(37,"number"),r.Sb(),r.Sb(),r.Tb(38,"div",9),r.Tb(39,"mat-form-field",11),r.Ob(40,"input",15),r.hc(41,"number"),r.Sb(),r.Sb(),r.Sb(),r.Tb(42,"div",3),r.Tb(43,"div",9),r.Tb(44,"mat-form-field",11),r.Tb(45,"input",18),r.ec("ngModelChange",(function(t){return e.riepilogo.caligasolio=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(46,"div",9),r.Tb(47,"mat-form-field",11),r.Tb(48,"input",19),r.ec("ngModelChange",(function(t){return e.riepilogo.calibenzina=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(49,"div",9),r.Tb(50,"mat-form-field",11),r.Tb(51,"input",20),r.ec("ngModelChange",(function(t){return e.riepilogo.calisupreme=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(52,"div",9),r.Tb(53,"mat-form-field",11),r.Tb(54,"input",21),r.ec("ngModelChange",(function(t){return e.riepilogo.caligpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(55,"div",3),r.Tb(56,"div",22),r.Tb(57,"mat-form-field",11),r.Ob(58,"input",23),r.Sb(),r.Sb(),r.Tb(59,"div",22),r.Tb(60,"mat-form-field",11),r.Ob(61,"input",24),r.Sb(),r.Sb(),r.Tb(62,"div",22),r.Tb(63,"mat-form-field",11),r.Tb(64,"input",25),r.ec("ngModelChange",(function(t){return e.riepilogo.das=t})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(65,"div",3),r.Tb(66,"div",9),r.Tb(67,"mat-form-field",11),r.Ob(68,"input",26),r.hc(69,"number"),r.Sb(),r.Sb(),r.Tb(70,"div",9),r.Tb(71,"mat-form-field",11),r.Ob(72,"input",27),r.hc(73,"number"),r.Sb(),r.Sb(),r.Tb(74,"div",9),r.Tb(75,"mat-form-field",11),r.Ob(76,"input",28),r.hc(77,"number"),r.Sb(),r.Sb(),r.Tb(78,"div",9),r.Tb(79,"mat-form-field",11),r.Ob(80,"input",29),r.hc(81,"number"),r.Sb(),r.Sb(),r.Sb(),r.Tb(82,"div",3),r.Tb(83,"div",9),r.Tb(84,"mat-form-field",11),r.Tb(85,"input",30),r.ec("ngModelChange",(function(t){return e.riepilogo.numerofatturafornitore=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(86,"div",9),r.Tb(87,"mat-form-field",11),r.Ob(88,"input",31),r.hc(89,"currency"),r.Sb(),r.Sb(),r.Tb(90,"div",9),r.Tb(91,"mat-form-field",11),r.Tb(92,"input",32),r.ec("ngModelChange",(function(t){return e.riepilogo.numerofatturapartenopea=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(93,"div",9),r.Tb(94,"mat-form-field",11),r.Ob(95,"input",33),r.hc(96,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Tb(97,"div",3),r.Tb(98,"div",9),r.Tb(99,"mat-form-field",11),r.Ob(100,"input",34),r.hc(101,"date"),r.Sb(),r.Sb(),r.Tb(102,"div",9),r.Tb(103,"mat-form-field",11),r.Tb(104,"input",35),r.ec("ngModelChange",(function(t){return e.riepilogo.importobonifico=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(105,"div",9),r.Tb(106,"mat-form-field",11),r.Ob(107,"input",36),r.hc(108,"currency"),r.Sb(),r.Sb(),r.Tb(109,"div",9),r.Tb(110,"mat-form-field",11),r.Ob(111,"input",37),r.hc(112,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Ob(113,"div",38),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(13),r.mc("ngModel",r.jc(14,27,e.riepilogo.fabbisogno.data,"yyyy-MM-dd")),r.Ab(4),r.mc("ngModel",e.riepilogo.fabbisogno.basedicarico.nomebasedicarico),r.Ab(3),r.mc("ngModel",e.riepilogo.fabbisogno.puntoVendita.nome),r.Ab(3),r.mc("ngModel",r.ic(24,30,e.riepilogo.totalevolumicarburantitradizionali)),r.Ab(5),r.mc("ngModel",r.ic(29,32,e.riepilogo.fabbisogno.gasolio)),r.Ab(4),r.mc("ngModel",r.ic(33,34,e.riepilogo.fabbisogno.benzina)),r.Ab(4),r.mc("ngModel",r.ic(37,36,e.riepilogo.fabbisogno.supreme)),r.Ab(4),r.mc("ngModel",r.ic(41,38,e.riepilogo.fabbisogno.gpl)),r.Ab(5),r.mc("ngModel",e.riepilogo.caligasolio),r.Ab(3),r.mc("ngModel",e.riepilogo.calibenzina),r.Ab(3),r.mc("ngModel",e.riepilogo.calisupreme),r.Ab(3),r.mc("ngModel",e.riepilogo.caligpl),r.Ab(4),r.mc("ngModel",e.riepilogo.fabbisogno.fornitore.nomefornitore),r.Ab(3),r.mc("ngModel",e.riepilogo.trasporto.nometrasportatore),r.Ab(3),r.mc("ngModel",e.riepilogo.das),r.Ab(4),r.mc("ngModel",r.ic(69,40,e.prezzogasoliodioggi(e.riepilogo.fabbisogno.fornitore))),r.Ab(4),r.mc("ngModel",r.ic(73,42,e.prezzobenzinadioggi(e.riepilogo.fabbisogno.fornitore))),r.Ab(4),r.mc("ngModel",r.ic(77,44,e.prezzosupremedioggi(e.riepilogo.fabbisogno.fornitore))),r.Ab(4),r.mc("ngModel",r.ic(81,46,e.prezzogpldioggi(e.riepilogo.fabbisogno.fornitore))),r.Ab(5),r.mc("ngModel",e.riepilogo.numerofatturafornitore),r.Ab(3),r.mc("ngModel",r.jc(89,48,e.riepilogo.importofatturafornitore,"EUR")),r.Ab(4),r.mc("ngModel",e.riepilogo.numerofatturapartenopea),r.Ab(3),r.mc("ngModel",r.jc(96,51,e.riepilogo.importofattura,"EUR")),r.Ab(5),r.mc("ngModel",r.jc(101,54,e.riepilogo.databonifico,"dd-MM-yyyy")),r.Ab(4),r.mc("ngModel",e.riepilogo.importobonifico),r.Ab(3),r.mc("ngModel",r.jc(108,57,e.riepilogo.importopreventivo,"EUR")),r.Ab(4),r.mc("ngModel",r.jc(112,60,e.riepilogo.residuodaversare,"EUR")))},directives:[ie.a,ui.b,di.a,a.b,a.l,a.o,a.q],pipes:[n.f,n.g,n.d],styles:[".mat-form-field-underline[_ngcontent-%COMP%]{display:none!important}.top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}();function Qc(t,e){if(1&t&&(r.Tb(0,"tr"),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.hc(5,"number"),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.hc(8,"number"),r.Sb(),r.Tb(9,"td"),r.Hc(10),r.hc(11,"number"),r.Sb(),r.Tb(12,"td"),r.Hc(13),r.hc(14,"number"),r.Sb(),r.Sb()),2&t){var i=e.$implicit;r.Ab(2),r.Ic(i.fabbisogno.puntoVendita.nome),r.Ab(2),r.Ic(r.ic(5,5,i.fabbisogno.benzina)),r.Ab(3),r.Ic(r.ic(8,7,i.fabbisogno.gasolio)),r.Ab(3),r.Ic(r.ic(11,9,i.fabbisogno.supreme)),r.Ab(3),r.Ic(r.ic(14,11,i.fabbisogno.gpl))}}var Zc={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Kc=function(){function t(t,e,i){var o,n,a,r,c,s,l;this.router=t,this.trasportoservice=e,this.fileservice=i,this.dtTrigger=new b.a,this.dtOptions={},this.viaggio=this.trasportoservice.viaggioselezionato,this.basedicarico=null===(n=null===(o=this.viaggio.listaviaggi[0])||void 0===o?void 0:o.fabbisogno)||void 0===n?void 0:n.basedicarico.nomebasedicarico,this.data=null===(a=this.viaggio.listaviaggi[0])||void 0===a?void 0:a.datadicaricazione,this.trasportatore=null===(r=this.viaggio.listaviaggi[0])||void 0===r?void 0:r.nometrasportatore,this.targamotrice=null===(c=this.viaggio.listaviaggi[0])||void 0===c?void 0:c.atk.targa,this.targarimorchio=null===(s=this.viaggio.listaviaggi[0])||void 0===s?void 0:s.rimorchio.targa,this.autista=null===(l=this.viaggio.listaviaggi[0])||void 0===l?void 0:l.autista.nomeautista}return t.prototype.ngOnInit=function(){this.dtOptions={language:Zc}},t.prototype.tornaindietro=function(){this.trasportoservice.viaggioselezionato=void 0,this.router.navigate(["/admin/vistrasporto"])},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.stampa=function(){this.fileservice.stampatrasporto(this.viaggio).subscribe((function(t){new Blob([t],{type:"application/pdf"});var e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.target="_blank",i.click()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(za),r.Nb(da))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-visrecaptrasporto"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:71,vars:12,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-4","text-center"],[1,"col-md-1"],[1,"col-md-10"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],["mat-button","","mat-flat-button","",1,"btn","btn-rose","pull-right",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Richiesta di carico"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Ob(11,"br"),r.Tb(12,"div",3),r.Tb(13,"div",9),r.Tb(14,"h4"),r.Tb(15,"b"),r.Hc(16,"Deposito:"),r.Sb(),r.Hc(17),r.Sb(),r.Sb(),r.Tb(18,"div",9),r.Tb(19,"h4"),r.Tb(20,"b"),r.Hc(21,"Data:"),r.Sb(),r.Hc(22),r.hc(23,"date"),r.Sb(),r.Sb(),r.Tb(24,"div",9),r.Tb(25,"h4"),r.Tb(26,"b"),r.Hc(27,"Azienda:"),r.Sb(),r.Hc(28),r.Sb(),r.Sb(),r.Sb(),r.Ob(29,"br"),r.Tb(30,"div",3),r.Tb(31,"div",9),r.Tb(32,"h4"),r.Tb(33,"b"),r.Hc(34,"Motrice:"),r.Sb(),r.Hc(35),r.Sb(),r.Sb(),r.Tb(36,"div",9),r.Tb(37,"h4"),r.Tb(38,"b"),r.Hc(39,"Rimorchio:"),r.Sb(),r.Hc(40),r.Sb(),r.Sb(),r.Tb(41,"div",9),r.Tb(42,"h4"),r.Tb(43,"b"),r.Hc(44,"Autista:"),r.Sb(),r.Hc(45),r.Sb(),r.Sb(),r.Sb(),r.Ob(46,"br"),r.Ob(47,"br"),r.Tb(48,"div",3),r.Ob(49,"div",10),r.Tb(50,"div",11),r.Tb(51,"div",12),r.Tb(52,"table",13),r.Tb(53,"thead"),r.Tb(54,"tr"),r.Tb(55,"th"),r.Hc(56,"Punto vendita"),r.Sb(),r.Tb(57,"th"),r.Hc(58,"Benzina"),r.Sb(),r.Tb(59,"th"),r.Hc(60,"Gasolio"),r.Sb(),r.Tb(61,"th"),r.Hc(62,"Supreme"),r.Sb(),r.Tb(63,"th"),r.Hc(64,"Gpl"),r.Sb(),r.Sb(),r.Sb(),r.Tb(65,"tbody"),r.Fc(66,Qc,15,13,"tr",14),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(67,"div",10),r.Sb(),r.Ob(68,"br"),r.Tb(69,"button",15),r.ec("click",(function(){return e.stampa()})),r.Hc(70,"Stampa"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(17),r.Jc(" ",e.basedicarico,""),r.Ab(5),r.Jc(" ",r.jc(23,9,e.data,"dd-MM-yyyy"),""),r.Ab(6),r.Jc(" ",e.trasportatore,""),r.Ab(7),r.Jc(" ",e.targamotrice,""),r.Ab(5),r.Jc(" ",e.targarimorchio,""),r.Ab(5),r.Jc(" ",e.autista,""),r.Ab(7),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(14),r.mc("ngForOf",e.viaggio.listaviaggi))},directives:[ie.a,c,n.n],pipes:[n.f,n.g],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}();function ts(t,e){if(1&t){var i=r.Ub();r.Tb(0,"input",21),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().filter.atk.codice=t})),r.Sb()}if(2&t){var o=r.gc();r.mc("ngModel",o.filter.atk.codice)}}function es(t,e){if(1&t){var i=r.Ub();r.Tb(0,"input",21),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().filter.atk=t})),r.Sb()}if(2&t){var o=r.gc();r.mc("ngModel",o.filter.atk)}}function is(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",22),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().atkselezionato(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.codice)}}function os(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",26),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.hc(2,"date"),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(r.jc(2,1,o.listaviaggi[0].datadicaricazione,"dd-MM-yyyy"))}}function ns(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",26),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.listaviaggi[0].atk.targa)}}function as(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",26),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.listaviaggi[0].rimorchio.targa)}}function rs(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",26),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.listaviaggi[0].autista.nomeautista)}}function cs(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",26),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().recaptrasporto(t)})),r.Hc(1),r.Sb()}if(2&t){var o=r.gc().$implicit;r.Ab(1),r.Ic(o.listaviaggi.length)}}function ss(t,e){1&t&&r.Ob(0,"td")}function bs(t,e){1&t&&r.Ob(0,"td")}function ls(t,e){1&t&&r.Ob(0,"td")}function us(t,e){1&t&&r.Ob(0,"td")}function ds(t,e){1&t&&r.Ob(0,"td")}function ps(t,e){if(1&t&&(r.Tb(0,"tr",23),r.Fc(1,os,3,4,"td",24),r.Fc(2,ns,2,1,"td",24),r.Fc(3,as,2,1,"td",24),r.Fc(4,rs,2,1,"td",24),r.Fc(5,cs,2,1,"td",24),r.Fc(6,ss,1,0,"td",25),r.Fc(7,bs,1,0,"td",25),r.Fc(8,ls,1,0,"td",25),r.Fc(9,us,1,0,"td",25),r.Fc(10,ds,1,0,"td",25),r.Sb()),2&t){var i=e.$implicit;r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",i.listaviaggi.length>0),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length),r.Ab(1),r.mc("ngIf",0==i.listaviaggi.length)}}var gs={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},fs=function(){function t(t,e,i,o,n){this.router=t,this.trasportatoriservice=e,this.trasportoservice=i,this.toastr=o,this.dialog=n,this.dtTrigger=new b.a,this.dtOptions={},this.filter=new ya,this.listaatk=[],this.listaviaggi=[]}return t.prototype.ngOnInit=function(){var t=this;this.filter.data=new Date,this.avviaricercastart(),this.trasportatoriservice.getallatk().subscribe((function(e){t.listaatk=e})),this.dtOptions={language:gs}},t.prototype.atkselezionato=function(t){this.filter.atk=t},t.prototype.avviaricercastart=function(){var t=this;this.trasportoservice.findviaggio(this.filter).subscribe((function(e){t.listaviaggi=e,t.rerender()}),(function(e){t.toastr.error("Errore nella ricerca","Ricerca terminata!")}))},t.prototype.avviaricerca=function(){var t=this;this.toastr.info("Potrebbe richiedere qualche secondo!","Ricerca avviata!"),this.trasportoservice.findviaggio(this.filter).subscribe((function(e){t.listaviaggi=e,t.rerender()}),(function(e){t.toastr.error("Errore nella ricerca","Ricerca terminata!")}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.cancellafiltri=function(){this.filter.data=new Date,this.filter.atk=void 0},t.prototype.aggiornadata=function(t){this.filter.data=new Date(t)},t.prototype.recaptrasporto=function(t){this.trasportoservice.viaggioselezionato=t,this.router.navigate(["/admin/visrecaptrasporto"])},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Qi),r.Nb(za),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-visrichiestedicarico"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:50,vars:10,consts:[[1,"container-fluid"],[1,"row"],[1,"card-body"],[1,"col-md-1"],[1,"col-md-3"],["matInput","","placeholder","Data","type","date",3,"ngModel","ngModelChange"],["ngbDropdown","",1,"d-inline-block",2,"height","20px"],["autocomplete","off","matInput","","class","btn btn-outline-primary","id","dropdownBasic1","ngbDropdownToggle","",3,"ngModel","ngModelChange",4,"ngIf"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","type","button",3,"click",4,"ngFor","ngForOf"],[1,"col-md-2"],["mat-raised-button","",1,"btn","btn-warning",3,"click"],["mat-raised-button","",1,"btn","btn-rose",3,"click"],[1,"main-content"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["autocomplete","off","matInput","","id","dropdownBasic1","ngbDropdownToggle","",1,"btn","btn-outline-primary",3,"ngModel","ngModelChange"],["ngbDropdownItem","","type","button",3,"click"],[1,"manina"],[3,"click",4,"ngIf"],[4,"ngIf"],[3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",1),r.Ob(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"mat-label"),r.Hc(7,"Data di caricazione"),r.Sb(),r.Tb(8,"input",5),r.ec("ngModelChange",(function(t){return e.aggiornadata(t)})),r.hc(9,"date"),r.Sb(),r.Sb(),r.Tb(10,"div",4),r.Tb(11,"mat-label"),r.Hc(12,"Atk"),r.Sb(),r.Tb(13,"div",6),r.Fc(14,ts,1,1,"input",7),r.Fc(15,es,1,1,"input",7),r.Tb(16,"div",8),r.Fc(17,is,2,1,"button",9),r.Sb(),r.Sb(),r.Sb(),r.Tb(18,"div",10),r.Tb(19,"button",11),r.ec("click",(function(){return e.cancellafiltri()})),r.Hc(20,"Cancella Filtri"),r.Sb(),r.Sb(),r.Tb(21,"div",10),r.Tb(22,"button",12),r.ec("click",(function(){return e.avviaricerca()})),r.Hc(23,"Cerca"),r.Sb(),r.Sb(),r.Ob(24,"div",3),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(25,"div",13),r.Tb(26,"div",0),r.Tb(27,"div",1),r.Tb(28,"div",14),r.Tb(29,"div",15),r.Tb(30,"div",16),r.Tb(31,"h4",17),r.Hc(32,"Richieste di carico"),r.Sb(),r.Sb(),r.Tb(33,"div",2),r.Tb(34,"div",18),r.Tb(35,"table",19),r.Tb(36,"thead"),r.Tb(37,"tr"),r.Tb(38,"th"),r.Hc(39,"Data"),r.Sb(),r.Tb(40,"th"),r.Hc(41,"Atk"),r.Sb(),r.Tb(42,"th"),r.Hc(43,"Rimorchio"),r.Sb(),r.Tb(44,"th"),r.Hc(45,"Autista"),r.Sb(),r.Tb(46,"th"),r.Hc(47,"Numero viaggi"),r.Sb(),r.Sb(),r.Sb(),r.Tb(48,"tbody"),r.Fc(49,ps,11,10,"tr",20),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(8),r.mc("ngModel",r.jc(9,7,e.filter.data,"dd-MM-yyyy")),r.Ab(6),r.mc("ngIf",void 0!==e.filter.atk),r.Ab(1),r.mc("ngIf",void 0===e.filter.atk),r.Ab(2),r.mc("ngForOf",e.listaatk),r.Ab(18),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(14),r.mc("ngForOf",e.listaviaggi))},directives:[ui.e,di.a,a.b,a.l,a.o,pi.a,n.o,pi.c,n.n,ie.a,c,pi.d,pi.b],pipes:[n.f],styles:[""]}),t}();function hs(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.trasporto.nometrasportatore)}}function vs(t,e){1&t&&r.Ob(0,"td")}function ms(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",11),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiariepilogoclientesingola(t)})),r.Tb(1,"td"),r.Hc(2),r.hc(3,"date"),r.Sb(),r.Tb(4,"td"),r.Hc(5),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.Sb(),r.Tb(8,"td"),r.Hc(9),r.Sb(),r.Tb(10,"td"),r.Hc(11),r.Sb(),r.Tb(12,"td"),r.Hc(13),r.Sb(),r.Fc(14,hs,2,1,"td",12),r.Fc(15,vs,1,0,"td",12),r.Tb(16,"td"),r.Hc(17),r.hc(18,"currency"),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(r.jc(3,9,o.fabbisogno.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.fabbisogno.puntoVendita.nome),r.Ab(2),r.Ic(o.fabbisogno.gasolio),r.Ab(2),r.Ic(o.fabbisogno.benzina),r.Ab(2),r.Ic(o.fabbisogno.supreme),r.Ab(2),r.Ic(o.fabbisogno.gpl),r.Ab(1),r.mc("ngIf",void 0!==o.trasporto),r.Ab(1),r.mc("ngIf",void 0===o.trasporto),r.Ab(2),r.Ic(r.jc(18,12,o.residuodaversare,"EUR"))}}var Ts={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Ss=function(){function t(t,e,i,o){this.router=t,this.riepilogoservice=e,this.loginservice=i,this.fileservice=o,this.dtTrigger=new b.a,this.dtOptions={},this.listariepiloghi=[]}return t.prototype.ngOnInit=function(){var t=this;this.primadata=this.riepilogoservice.data1,this.secondadata=this.riepilogoservice.data2;var e=new de;e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.dtOptions={language:Ts},this.loginservice.checkloginstatus().subscribe((function(e){t.riepilogoservice.getallbycliente(e.cliente).subscribe((function(e){t.listariepiloghi=e,t.rerender()}))}))},t.prototype.cercainrange=function(){var t=this,e=new de;e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.riepilogoservice.getallriepiloghiinrange(e).subscribe((function(e){t.listariepiloghi=e,t.rerender()}))},t.prototype.modificariepilogo=function(t){this.riepilogoservice.riepilogoselezionato=t,this.router.navigate(["/admin/modificariepilogo"])},t.prototype.vaiariepilogoclientesingola=function(t){this.riepilogoservice.riepilogoselezionato=t,this.router.navigate(["/admin/riepilogoclientesingola"])},t.prototype.aggiornadata1=function(t){this.riepilogoservice.data1=new Date(t)},t.prototype.aggiornadata2=function(t){this.riepilogoservice.data2=new Date(t)},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.stampaexcel=function(){var t=this,e=new de;e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.fileservice.getexcelfile(e).subscribe((function(e){var i=new Blob([e],{type:"application/octet-stream"}),o="recap";o+=Object(n.y)(t.riepilogoservice.data1,"dd-MM-yyyy","en_US"),o+="_",o+=Object(n.y)(t.riepilogoservice.data2,"dd-MM-yyyy","en_US"),o+=".xlsx",Object(Bi.saveAs)(i,o)}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(_r),r.Nb(l.a),r.Nb(da))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-riepilogocliente"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:36,vars:3,consts:[[1,"container-fluid"],[1,"row"],[1,"card-body"],[1,"main-content"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",3,"click",4,"ngFor","ngForOf"],[1,"manina",3,"click"],[4,"ngIf"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Ob(2,"br"),r.Tb(3,"div",2),r.Ob(4,"br"),r.Sb(),r.Sb(),r.Sb(),r.Tb(5,"div",3),r.Tb(6,"div",0),r.Tb(7,"div",1),r.Tb(8,"div",4),r.Tb(9,"div",5),r.Tb(10,"div",6),r.Tb(11,"h4",7),r.Hc(12,"Riepilogo"),r.Sb(),r.Sb(),r.Tb(13,"div",2),r.Tb(14,"div",8),r.Tb(15,"table",9),r.Tb(16,"thead"),r.Tb(17,"tr"),r.Tb(18,"th"),r.Hc(19,"Data"),r.Sb(),r.Tb(20,"th"),r.Hc(21,"Punto Vendita"),r.Sb(),r.Tb(22,"th"),r.Hc(23,"Gasolio"),r.Sb(),r.Tb(24,"th"),r.Hc(25,"Benzina"),r.Sb(),r.Tb(26,"th"),r.Hc(27,"Supreme"),r.Sb(),r.Tb(28,"th"),r.Hc(29,"Gpl"),r.Sb(),r.Tb(30,"th"),r.Hc(31,"Trasportatore"),r.Sb(),r.Tb(32,"th"),r.Hc(33,"Residuo da versare"),r.Sb(),r.Sb(),r.Sb(),r.Tb(34,"tbody"),r.Fc(35,ms,19,15,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(15),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(20),r.mc("ngForOf",e.listariepiloghi))},directives:[c,n.n,n.o],pipes:[n.f,n.d],styles:[".mat-form-field-underline[_ngcontent-%COMP%]{display:none!important}.top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}();function zs(t,e){if(1&t&&(r.Tb(0,"tr"),r.Tb(1,"td"),r.Hc(2),r.hc(3,"currency"),r.Sb(),r.Tb(4,"td"),r.Hc(5),r.Sb(),r.Sb()),2&t){var i=e.$implicit;r.Ab(2),r.Ic(r.jc(3,2,i.importobonifico,"EUR")),r.Ab(3),r.Ic(i.descrizione)}}var ys={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},_s=function(){function t(t,e,i,o){this.toastr=t,this.dialog=e,this.riepilogoservice=i,this.router=o,this.dtTrigger=new b.a,this.dtOptions={},this.riepilogo=this.riepilogoservice.riepilogoselezionato}return t.prototype.ngOnInit=function(){this.dtOptions={language:ys,paging:!1,search:!1}},t.prototype.aggiornadatabonifico=function(t){this.riepilogo.databonifico=new Date(t)},t.prototype.prezzogasoliodioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.confrontadate(o.data,this.riepilogo.fabbisogno.data))return o.prezzogasolio}},t.prototype.prezzobenzinadioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.confrontadate(o.data,this.riepilogo.fabbisogno.data))return o.prezzobenzina}},t.prototype.prezzosupremedioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.confrontadate(o.data,this.riepilogo.fabbisogno.data))return o.prezzosupreme}},t.prototype.prezzogpldioggi=function(t){for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.confrontadate(o.data,this.riepilogo.fabbisogno.data))return o.prezzogpl}},t.prototype.isToday=function(t){return(new Date).toDateString()===new Date(t).toDateString()},t.prototype.confrontadate=function(t,e){var i=new Date(t),o=new Date(e);return i.toDateString()===o.toDateString()},t.prototype.tornaindietro=function(){this.riepilogoservice.riepilogoselezionato=void 0,this.router.navigate(["/admin/riepilogocliente"])},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(ne.b),r.Nb(Jt),r.Nb(_r),r.Nb(o.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-riepilogoclientesingola"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:98,vars:44,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-3"],["disabled","true","matInput","","placeholder","Data consegna","type","date",3,"ngModel"],[1,"example-full-width"],["matInput","","placeholder","Base di carico","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Punto vendita","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Totale volumi","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Gasolio","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Benzina","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Supreme","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","GPL","type","text","disabled","true",3,"ngModel"],["disabled","true","matInput","","placeholder","Cali/Eccedenze di Viaggio Gasolio","type","text",3,"ngModel","ngModelChange"],["disabled","true","matInput","","placeholder","Cali/Eccedenze di Viaggio Benzina","type","text",3,"ngModel","ngModelChange"],["disabled","true","matInput","","placeholder","Cali/Eccedenze di Viaggio Supreme","type","text",3,"ngModel","ngModelChange"],["disabled","true","matInput","","placeholder","Cali/Eccedenze di Viaggio GPL","type","text",3,"ngModel","ngModelChange"],[1,"col-md-4"],["matInput","","placeholder","Fornitore","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Vettore","type","text","disabled","true",3,"ngModel"],["disabled","true","matInput","","placeholder","DAS","type","text",3,"ngModel","ngModelChange"],["disabled","true","matInput","","placeholder","Numero fattura Partenopea","type","text",3,"ngModel","ngModelChange"],["matInput","","placeholder","Importo fattura Partenopea","type","text","disabled","true",3,"ngModel"],[1,"col-md-6"],["matInput","","placeholder","Importo preventivo","type","text","disabled","true",3,"ngModel"],["matInput","","placeholder","Residuo da versare","type","text","disabled","true",3,"ngModel"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngFor","ngForOf"],[1,"clearfix"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Riepilogo"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",3),r.Tb(12,"mat-form-field",9),r.Ob(13,"input",10),r.hc(14,"date"),r.Sb(),r.Tb(15,"div",9),r.Tb(16,"mat-form-field",11),r.Ob(17,"input",12),r.Sb(),r.Sb(),r.Tb(18,"div",9),r.Tb(19,"mat-form-field",11),r.Ob(20,"input",13),r.Sb(),r.Sb(),r.Tb(21,"div",9),r.Tb(22,"mat-form-field",11),r.Ob(23,"input",14),r.hc(24,"number"),r.Sb(),r.Sb(),r.Sb(),r.Tb(25,"div",3),r.Tb(26,"div",9),r.Tb(27,"mat-form-field",11),r.Ob(28,"input",15),r.hc(29,"number"),r.Sb(),r.Sb(),r.Tb(30,"div",9),r.Tb(31,"mat-form-field",11),r.Ob(32,"input",16),r.hc(33,"number"),r.Sb(),r.Sb(),r.Tb(34,"div",9),r.Tb(35,"mat-form-field",11),r.Ob(36,"input",17),r.hc(37,"number"),r.Sb(),r.Sb(),r.Tb(38,"div",9),r.Tb(39,"mat-form-field",11),r.Ob(40,"input",18),r.hc(41,"number"),r.Sb(),r.Sb(),r.Sb(),r.Tb(42,"div",3),r.Tb(43,"div",9),r.Tb(44,"mat-form-field",11),r.Tb(45,"input",19),r.ec("ngModelChange",(function(t){return e.riepilogo.caligasolio=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(46,"div",9),r.Tb(47,"mat-form-field",11),r.Tb(48,"input",20),r.ec("ngModelChange",(function(t){return e.riepilogo.calibenzina=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(49,"div",9),r.Tb(50,"mat-form-field",11),r.Tb(51,"input",21),r.ec("ngModelChange",(function(t){return e.riepilogo.calisupreme=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(52,"div",9),r.Tb(53,"mat-form-field",11),r.Tb(54,"input",22),r.ec("ngModelChange",(function(t){return e.riepilogo.caligpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(55,"div",3),r.Tb(56,"div",23),r.Tb(57,"mat-form-field",11),r.Ob(58,"input",24),r.Sb(),r.Sb(),r.Tb(59,"div",23),r.Tb(60,"mat-form-field",11),r.Ob(61,"input",25),r.Sb(),r.Sb(),r.Tb(62,"div",23),r.Tb(63,"mat-form-field",11),r.Tb(64,"input",26),r.ec("ngModelChange",(function(t){return e.riepilogo.das=t})),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(65,"div",3),r.Ob(66,"div",9),r.Tb(67,"div",9),r.Tb(68,"mat-form-field",11),r.Tb(69,"input",27),r.ec("ngModelChange",(function(t){return e.riepilogo.numerofatturapartenopea=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(70,"div",9),r.Tb(71,"mat-form-field",11),r.Ob(72,"input",28),r.hc(73,"currency"),r.Sb(),r.Sb(),r.Ob(74,"div",9),r.Sb(),r.Tb(75,"div",3),r.Tb(76,"div",29),r.Tb(77,"mat-form-field",11),r.Ob(78,"input",30),r.hc(79,"currency"),r.Sb(),r.Sb(),r.Tb(80,"div",29),r.Tb(81,"mat-form-field",11),r.Ob(82,"input",31),r.hc(83,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Tb(84,"div",3),r.Ob(85,"div",9),r.Tb(86,"div",29),r.Tb(87,"table",32),r.Tb(88,"thead"),r.Tb(89,"tr"),r.Tb(90,"th"),r.Hc(91,"Importo"),r.Sb(),r.Tb(92,"th"),r.Hc(93,"Note"),r.Sb(),r.Sb(),r.Sb(),r.Tb(94,"tbody"),r.Fc(95,zs,6,5,"tr",33),r.Sb(),r.Sb(),r.Sb(),r.Ob(96,"div",9),r.Sb(),r.Ob(97,"div",34),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(13),r.mc("ngModel",r.jc(14,22,e.riepilogo.fabbisogno.data,"yyyy-MM-dd")),r.Ab(4),r.mc("ngModel",e.riepilogo.fabbisogno.basedicarico.nomebasedicarico),r.Ab(3),r.mc("ngModel",e.riepilogo.fabbisogno.puntoVendita.nome),r.Ab(3),r.mc("ngModel",r.ic(24,25,e.riepilogo.totalevolumicarburantitradizionali)),r.Ab(5),r.mc("ngModel",r.ic(29,27,e.riepilogo.fabbisogno.gasolio)),r.Ab(4),r.mc("ngModel",r.ic(33,29,e.riepilogo.fabbisogno.benzina)),r.Ab(4),r.mc("ngModel",r.ic(37,31,e.riepilogo.fabbisogno.supreme)),r.Ab(4),r.mc("ngModel",r.ic(41,33,e.riepilogo.fabbisogno.gpl)),r.Ab(5),r.mc("ngModel",e.riepilogo.caligasolio),r.Ab(3),r.mc("ngModel",e.riepilogo.calibenzina),r.Ab(3),r.mc("ngModel",e.riepilogo.calisupreme),r.Ab(3),r.mc("ngModel",e.riepilogo.caligpl),r.Ab(4),r.mc("ngModel",e.riepilogo.fabbisogno.fornitore.nomefornitore),r.Ab(3),r.mc("ngModel",e.riepilogo.trasporto.nometrasportatore),r.Ab(3),r.mc("ngModel",e.riepilogo.das),r.Ab(5),r.mc("ngModel",e.riepilogo.numerofatturapartenopea),r.Ab(3),r.mc("ngModel",r.jc(73,35,e.riepilogo.importofattura,"EUR")),r.Ab(6),r.mc("ngModel",r.jc(79,38,e.riepilogo.importopreventivo,"EUR")),r.Ab(4),r.mc("ngModel",r.jc(83,41,e.riepilogo.residuodaversare,"EUR")),r.Ab(5),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(8),r.mc("ngForOf",e.riepilogo.listabonifici))},directives:[ie.a,ui.b,di.a,a.b,a.l,a.o,c,n.n],pipes:[n.f,n.g,n.d],styles:[".mat-form-field-underline[_ngcontent-%COMP%]{display:none!important}.top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}();function As(t,e){if(1&t){var i=r.Ub();r.Tb(0,"button",22),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().cambiapuntovendita(t)})),r.Hc(1),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(1),r.Ic(o.puntovendita.nome)}}function Os(t,e){1&t&&(r.Tb(0,"button",23),r.Hc(1,"Aggiungi Fabbisogno"),r.Sb())}function ws(t,e){1&t&&(r.Tb(0,"button",23),r.Hc(1,"Aggiorna Fabbisogno"),r.Sb())}var ks=function(){function t(t,e,i,o,n,a,r,c,s){var b=this;this.fabbisognoservice=t,this.fornitoriservice=e,this.basidicaricoservice=i,this.puntivenditaservice=o,this.loginservice=n,this.router=a,this.toastr=r,this.dialog=c,this.formBuilder=s,this.fabbisogno=this.fabbisognoservice.fabbisognoselezionato,this.fornitoreselezionato=new Li,this.basedicaricoselezionata=new xi,this.listapuntivendita=[],this.puntovenditaselezionato=new ve,this.loginservice.checkloginstatus().subscribe((function(t){b.puntivenditaservice.tuttiimieipuntivendita(t.cliente).subscribe((function(t){for(var e=0,i=t;e<i.length;e++)b.listapuntivendita.push(i[e]);t.length>0&&void 0===b.fabbisogno&&(b.puntovenditaselezionato=t[0].puntovendita)}))})),void 0!==this.fabbisogno&&(this.puntovenditaselezionato=this.fabbisogno.puntoVendita)}return t.prototype.ngOnInit=function(){var t=new Date;this.aggiungifabbisognoform=this.formBuilder.group({data:[t.toString,a.s.required],puntovendita:["",a.s.required],gasolio:["",a.s.required],benzina:["",a.s.required],supreme:["",a.s.required],gpl:["",a.s.required]}),void 0!==this.fabbisogno&&(this.aggiungifabbisognoform.controls.gpl.setValue(this.fabbisogno.gpl),this.aggiungifabbisognoform.controls.benzina.setValue(this.fabbisogno.benzina),this.aggiungifabbisognoform.controls.gasolio.setValue(this.fabbisogno.gasolio),this.aggiungifabbisognoform.controls.supreme.setValue(this.fabbisogno.supreme),this.aggiungifabbisognoform.controls.data.setValue(Object(n.y)(this.fabbisogno.data,"yyyy-MM-dd","en")),this.aggiungifabbisognoform.controls.puntovendita.setValue(this.fabbisogno.puntoVendita.nome),this.puntovenditaselezionato=this.fabbisogno.puntoVendita)},t.prototype.aggiungifabbisogno=function(){var t=this;try{Object(n.y)(this.aggiungifabbisognoform.controls.data.value,"yyyy-MM-dd","en")}catch(e){return void this.toastr.error("Inserire una data valida","Errore!")}this.dialog.open(oe,{data:{title:void 0!==this.fabbisogno?"Modifica":"Aggiunta",message:void 0!==this.fabbisogno?"Vuoi continuare con la modifica?":"Vuoi aggiungere il fabbisogno?"}}).afterClosed().subscribe((function(e){var i;!0===e&&(void 0===t.fabbisogno?((i=new Qo).gpl=t.aggiungifabbisognoform.controls.gpl.value,i.supreme=t.aggiungifabbisognoform.controls.supreme.value,i.benzina=t.aggiungifabbisognoform.controls.benzina.value,i.gasolio=t.aggiungifabbisognoform.controls.gasolio.value,i.puntoVendita=t.puntovenditaselezionato,i.data=t.aggiungifabbisognoform.controls.data.value,i.smaltito=!1,t.fabbisognoservice.aggiungifabbisognolatocliente(i).subscribe((function(e){t.toastr.success("Fabbisogno aggiunto!","Aggiunto!"),t.tornaindietro()}),(function(e){t.toastr.error("Ci sono alcuni errori nei dati inseriti","Errore!")}))):((i=t.fabbisogno).gpl=t.aggiungifabbisognoform.controls.gpl.value,i.supreme=t.aggiungifabbisognoform.controls.supreme.value,i.benzina=t.aggiungifabbisognoform.controls.benzina.value,i.gasolio=t.aggiungifabbisognoform.controls.gasolio.value,i.puntoVendita=t.puntovenditaselezionato,i.data=t.aggiungifabbisognoform.controls.data.value,t.fabbisognoservice.aggiungifabbisogno(i).subscribe((function(e){t.toastr.success("Fabbisogno modificato!","Modificato!"),t.tornaindietro()}),(function(e){t.toastr.error("Ci sono alcuni errori nei dati inseriti","Errore!")}))))}))},t.prototype.cambiapuntovendita=function(t){this.puntovenditaselezionato=t.puntovendita},t.prototype.tornaindietro=function(){this.ripulisci()},t.prototype.ripulisci=function(){this.aggiungifabbisognoform.controls.gpl.setValue(""),this.aggiungifabbisognoform.controls.supreme.setValue(""),this.aggiungifabbisognoform.controls.benzina.setValue(""),this.aggiungifabbisognoform.controls.gasolio.setValue(""),this.aggiungifabbisognoform.controls.data.setValue(Object(n.y)(new Date(Date.now()),"yyyy-MM-dd","en")),this.aggiungifabbisognoform.controls.puntovendita.setValue("")},t.\u0275fac=function(e){return new(e||t)(r.Nb(p),r.Nb(Fi),r.Nb(ji),r.Nb(pe),r.Nb(l.a),r.Nb(o.c),r.Nb(ne.b),r.Nb(Jt),r.Nb(a.c))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-clifabbisogno"]],decls:39,vars:8,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[3,"formGroup","ngSubmit"],[1,"col-md-3"],["matInput","","placeholder","Data","formControlName","data","type","date",3,"autofocus"],["ngbDropdown","",1,"d-inline-block",2,"height","20px"],["formControlName","puntovendita","matInput","","id","dropdownBasic3","ngbDropdownToggle","",1,"btn","btn-outline-primary",3,"ngModel","ngModelChange"],["ngbDropdownMenu","","aria-labelledby","dropdownBasic1"],["ngbDropdownItem","","type","button",3,"click",4,"ngFor","ngForOf"],[1,"example-full-width"],["matInput","","placeholder","Gasolio","formControlName","gasolio",3,"autofocus"],["matInput","","placeholder","Benzina","type","text","formControlName","benzina"],["matInput","","placeholder","Supreme","formControlName","supreme",3,"autofocus"],["matInput","","placeholder","GPL","type","text","formControlName","gpl"],["mat-raised-button","","type","submit","class","btn btn-rose pull-right",4,"ngIf"],[1,"clearfix"],["ngbDropdownItem","","type","button",3,"click"],["mat-raised-button","","type","submit",1,"btn","btn-rose","pull-right"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Aggiungi Fabbisogno"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"form",8),r.ec("ngSubmit",(function(){return e.aggiungifabbisogno()})),r.Tb(10,"div",2),r.Tb(11,"mat-form-field",9),r.Ob(12,"input",10),r.Sb(),r.Ob(13,"div",9),r.Ob(14,"div",9),r.Tb(15,"div",9),r.Tb(16,"mat-form-field"),r.Tb(17,"mat-label"),r.Hc(18,"Punto vendita"),r.Sb(),r.Tb(19,"div",11),r.Tb(20,"input",12),r.ec("ngModelChange",(function(t){return e.puntovenditaselezionato.nome=t})),r.Sb(),r.Tb(21,"div",13),r.Fc(22,As,2,1,"button",14),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(23,"div",2),r.Tb(24,"div",9),r.Tb(25,"mat-form-field",15),r.Ob(26,"input",16),r.Sb(),r.Sb(),r.Tb(27,"div",9),r.Tb(28,"mat-form-field",15),r.Ob(29,"input",17),r.Sb(),r.Sb(),r.Tb(30,"div",9),r.Tb(31,"mat-form-field",15),r.Ob(32,"input",18),r.Sb(),r.Sb(),r.Tb(33,"div",9),r.Tb(34,"mat-form-field",15),r.Ob(35,"input",19),r.Sb(),r.Sb(),r.Sb(),r.Fc(36,Os,2,0,"button",20),r.Fc(37,ws,2,0,"button",20),r.Ob(38,"div",21),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(9),r.mc("formGroup",e.aggiungifabbisognoform),r.Ab(3),r.mc("autofocus",!0),r.Ab(8),r.mc("ngModel",e.puntovenditaselezionato.nome),r.Ab(2),r.mc("ngForOf",e.listapuntivendita),r.Ab(4),r.mc("autofocus",!0),r.Ab(6),r.mc("autofocus",!0),r.Ab(4),r.mc("ngIf",void 0===e.fabbisogno),r.Ab(1),r.mc("ngIf",void 0!==e.fabbisogno))},directives:[a.u,a.m,a.g,ui.b,di.a,a.b,a.l,a.f,ui.e,pi.a,pi.d,pi.c,n.n,n.o,pi.b,ie.a],styles:[""]}),t}();function Hs(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",16),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1," SI "),r.Sb()}}function Is(t,e){if(1&t){var i=r.Ub();r.Tb(0,"td",17),r.ec("click",(function(){r.wc(i);var t=r.gc().$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(1," NO "),r.Sb()}}function Cs(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",11),r.Tb(1,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(2),r.hc(3,"date"),r.Sb(),r.Tb(4,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(5),r.Sb(),r.Tb(6,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(7),r.hc(8,"number"),r.Sb(),r.Tb(9,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(10),r.hc(11,"number"),r.Sb(),r.Tb(12,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(13),r.hc(14,"number"),r.Sb(),r.Tb(15,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(16),r.hc(17,"number"),r.Sb(),r.Fc(18,Hs,2,0,"td",13),r.Fc(19,Is,2,0,"td",14),r.Tb(20,"td"),r.Tb(21,"button",15),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().visualizzapreventivo(t)})),r.Hc(22,"Visualizza"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(r.jc(3,8,o.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.puntoVendita.nome),r.Ab(2),r.Ic(r.ic(8,11,o.gasolio)),r.Ab(3),r.Ic(r.ic(11,13,o.benzina)),r.Ab(3),r.Ic(r.ic(14,15,o.supreme)),r.Ab(3),r.Ic(r.ic(17,17,o.gpl)),r.Ab(2),r.mc("ngIf",o.preventivoesistente),r.Ab(1),r.mc("ngIf",!o.preventivoesistente)}}var Ms={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},xs=function(){function t(t,e,i,o,n,a){this.router=t,this.fabbisognoservice=e,this.preventivoservice=i,this.loginservice=o,this.toastr=n,this.dialog=a,this.dtTrigger=new b.a,this.dtOptions={},this.listafabbisogni=[]}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={language:Ms},this.loginservice.checkloginstatus().subscribe((function(e){t.fabbisognoservice.getmieifabbisogni(e.cliente).subscribe((function(e){t.listafabbisogni=e,t.rerender()}))}))},t.prototype.visualizzapreventivo=function(t){var e=this;t.preventivoesistente?(this.preventivoservice.fabbisognoselezionato=t,this.preventivoservice.getpreventivo(t).subscribe((function(t){e.preventivoservice.preventivoselezionato=t,e.router.navigate(["/admin/clirecappreventivo"])}))):this.toastr.info("Preventivo non ancora inserito!","Preventivo mancante")},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(p),r.Nb(kn),r.Nb(l.a),r.Nb(ne.b),r.Nb(Jt))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-clipreventivi"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:31,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],[1,"manina"],[3,"click"],["style","color: green",3,"click",4,"ngIf"],["style","color: red",3,"click",4,"ngIf"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"],[2,"color","green",3,"click"],[2,"color","red",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Preventivi"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"Data"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Cliente"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Gasolio"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Benzina"),r.Sb(),r.Tb(21,"th"),r.Hc(22,"Supreme"),r.Sb(),r.Tb(23,"th"),r.Hc(24,"GPL"),r.Sb(),r.Tb(25,"th"),r.Hc(26,"Preventivo"),r.Sb(),r.Tb(27,"th"),r.Hc(28,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(29,"tbody"),r.Fc(30,Cs,23,19,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(20),r.mc("ngForOf",e.listafabbisogni))},directives:[c,n.n,n.o,ie.a],pipes:[n.f,n.g],styles:[""]}),t}();function js(t,e){if(1&t&&(r.Tb(0,"tr"),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.Sb(),r.Sb()),2&t){var i=e.$implicit;r.Ab(2),r.Ic(i.vocedirettifica),r.Ab(2),r.Ic(i.valore)}}var Rs=function(){function t(t,e,i,o){var n=this;this.router=t,this.preventivoservice=e,this.gestioneclienti=i,this.fileservice=o,this.preventivoselezionato=this.preventivoservice.preventivoselezionato,this.gestioneclienti.getproprietario(this.preventivoservice.fabbisognoselezionato.puntoVendita).subscribe((function(t){n.proprietario=t}))}return t.prototype.ngOnInit=function(){},t.prototype.togliiva=function(t){return t/1.22},t.prototype.prezzoinfattura=function(t,e,i){return this.togliiva(t)-e*i/100},t.prototype.prezzoconvolumesenzaiva=function(t,e,i,o){return Number(this.prezzoinfattura(t,e,i).toFixed(3))*o},t.prototype.calcolasommavocidirettifica=function(){for(var t=0,e=0,i=this.preventivoselezionato.listavocidirettifica;e<i.length;e++){var o=i[e];o.segno?t+=o.valore:t-=o.valore}return t},t.prototype.calcolatotaleconiva=function(){return 1.22*this.prezzoconvolumesenzaiva(this.preventivoselezionato.prezzoalpubblicogasolioself,this.proprietario.marginegasolioself,this.preventivoselezionato.marginecessionegasolio,this.preventivoselezionato.riferimento.gasolio)+1.22*this.prezzoconvolumesenzaiva(this.preventivoselezionato.prezzoalpubblicobenzinaself,this.proprietario.marginebenzinaself,this.preventivoselezionato.marginecessionebenzina,this.preventivoselezionato.riferimento.benzina)+1.22*this.prezzoconvolumesenzaiva(this.preventivoselezionato.prezzoalpubblicosupremeself,this.proprietario.marginesupremeself,this.preventivoselezionato.marginecessionesupreme,this.preventivoselezionato.riferimento.supreme)+1.22*this.prezzoconvolumesenzaiva(this.preventivoselezionato.prezzoalpubblicogplservito,this.proprietario.marginegplself,this.preventivoselezionato.marginecessionegpl,this.preventivoselezionato.riferimento.gpl)},t.prototype.calcolaimportobonifico=function(){return this.calcolatotaleconiva()+this.calcolasommavocidirettifica()},t.prototype.stampapreventivo=function(){this.fileservice.stampapreventivo(this.preventivoselezionato).subscribe((function(t){new Blob([t],{type:"application/pdf"});var e=window.URL.createObjectURL(t),i=document.createElement("a");i.href=e,i.target="_blank",i.click()}))},t.prototype.tornaindietro=function(){this.preventivoservice.preventivoselezionato=void 0,this.router.navigate(["/admin/clipreventivi"])},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(kn),r.Nb(pe),r.Nb(da))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-clirecappreventivo"]],decls:207,vars:117,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-6","text-center"],[1,"col-md-11"],[2,"width","100%"],["colspan","3"],["colspan","2"],[1,"col-md-1"],[1,"col-md-4"],[1,"row-border","hover"],[4,"ngFor","ngForOf"],[1,"col-md-7","text-center"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Crea Preventivo"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",3),r.Tb(12,"div",9),r.Hc(13),r.Ob(14,"br"),r.Hc(15),r.Sb(),r.Tb(16,"div",9),r.Hc(17),r.hc(18,"date"),r.Sb(),r.Sb(),r.Ob(19,"br"),r.Ob(20,"br"),r.Tb(21,"div",3),r.Tb(22,"div",10),r.Tb(23,"table",11),r.Tb(24,"tr"),r.Tb(25,"th",12),r.Hc(26,"PRODOTTO"),r.Sb(),r.Tb(27,"th",13),r.Hc(28,"GASOLIO"),r.Sb(),r.Tb(29,"th",13),r.Hc(30,"BENZINA"),r.Sb(),r.Tb(31,"th",13),r.Hc(32,"SUPREME"),r.Sb(),r.Tb(33,"th"),r.Hc(34,"GPL"),r.Sb(),r.Sb(),r.Tb(35,"tr"),r.Tb(36,"td",12),r.Hc(37,"Modalit\xe0"),r.Sb(),r.Tb(38,"td"),r.Hc(39,"Servito"),r.Sb(),r.Tb(40,"td"),r.Hc(41,"Self"),r.Sb(),r.Tb(42,"td"),r.Hc(43,"Servito"),r.Sb(),r.Tb(44,"td"),r.Hc(45,"Self"),r.Sb(),r.Tb(46,"td"),r.Hc(47,"Servito"),r.Sb(),r.Tb(48,"td"),r.Hc(49,"Self"),r.Sb(),r.Tb(50,"td"),r.Hc(51,"Servito"),r.Sb(),r.Sb(),r.Tb(52,"tr"),r.Tb(53,"td",12),r.Hc(54,"Prezzo al pubblico"),r.Sb(),r.Tb(55,"td"),r.Hc(56),r.Sb(),r.Tb(57,"td"),r.Hc(58),r.Sb(),r.Tb(59,"td"),r.Hc(60),r.Sb(),r.Tb(61,"td"),r.Hc(62),r.Sb(),r.Tb(63,"td"),r.Hc(64),r.Sb(),r.Tb(65,"td"),r.Hc(66),r.Sb(),r.Tb(67,"td"),r.Hc(68),r.Sb(),r.Sb(),r.Tb(69,"tr"),r.Tb(70,"td",12),r.Hc(71,"Prezzo al pubblico Senza IVA"),r.Sb(),r.Tb(72,"td"),r.Hc(73),r.hc(74,"number"),r.Sb(),r.Tb(75,"td"),r.Hc(76),r.hc(77,"number"),r.Sb(),r.Tb(78,"td"),r.Hc(79),r.hc(80,"number"),r.Sb(),r.Tb(81,"td"),r.Hc(82),r.hc(83,"number"),r.Sb(),r.Tb(84,"td"),r.Hc(85),r.hc(86,"number"),r.Sb(),r.Tb(87,"td"),r.Hc(88),r.hc(89,"number"),r.Sb(),r.Tb(90,"td"),r.Hc(91),r.hc(92,"number"),r.Sb(),r.Sb(),r.Tb(93,"tr"),r.Tb(94,"td",12),r.Hc(95,"Margine previsto per contratto"),r.Sb(),r.Tb(96,"td"),r.Hc(97),r.Sb(),r.Tb(98,"td"),r.Hc(99),r.Sb(),r.Tb(100,"td"),r.Hc(101),r.Sb(),r.Tb(102,"td"),r.Hc(103),r.Sb(),r.Tb(104,"td"),r.Hc(105),r.Sb(),r.Tb(106,"td"),r.Hc(107),r.Sb(),r.Tb(108,"td"),r.Hc(109),r.Sb(),r.Sb(),r.Tb(110,"tr"),r.Tb(111,"td",12),r.Hc(112,"Margine cessione senza IVA (in %)"),r.Sb(),r.Tb(113,"td",13),r.Hc(114),r.Sb(),r.Tb(115,"td",13),r.Hc(116),r.Sb(),r.Tb(117,"td",13),r.Hc(118),r.Sb(),r.Tb(119,"td"),r.Hc(120),r.Sb(),r.Sb(),r.Tb(121,"tr"),r.Tb(122,"td",12),r.Hc(123,"Prezzo in fattura"),r.Sb(),r.Tb(124,"td",13),r.Hc(125),r.hc(126,"number"),r.Sb(),r.Tb(127,"td",13),r.Hc(128),r.hc(129,"number"),r.Sb(),r.Tb(130,"td",13),r.Hc(131),r.hc(132,"number"),r.Sb(),r.Tb(133,"td"),r.Hc(134),r.hc(135,"number"),r.Sb(),r.Sb(),r.Tb(136,"tr"),r.Tb(137,"td",12),r.Hc(138,"Volume ordinato"),r.Sb(),r.Tb(139,"td",13),r.Hc(140),r.Sb(),r.Tb(141,"td",13),r.Hc(142),r.Sb(),r.Tb(143,"td",13),r.Hc(144),r.Sb(),r.Tb(145,"td"),r.Hc(146),r.Sb(),r.Sb(),r.Tb(147,"tr"),r.Tb(148,"td",12),r.Hc(149,"Totale ordine senza IVA"),r.Sb(),r.Tb(150,"td",13),r.Hc(151),r.hc(152,"currency"),r.Sb(),r.Tb(153,"td",13),r.Hc(154),r.hc(155,"currency"),r.Sb(),r.Tb(156,"td",13),r.Hc(157),r.hc(158,"currency"),r.Sb(),r.Tb(159,"td"),r.Hc(160),r.hc(161,"currency"),r.Sb(),r.Sb(),r.Tb(162,"tr"),r.Tb(163,"td",12),r.Hc(164,"Totale ordine IVA Compresa"),r.Sb(),r.Tb(165,"td",13),r.Hc(166),r.hc(167,"currency"),r.Sb(),r.Tb(168,"td",13),r.Hc(169),r.hc(170,"currency"),r.Sb(),r.Tb(171,"td",13),r.Hc(172),r.hc(173,"currency"),r.Sb(),r.Tb(174,"td"),r.Hc(175),r.hc(176,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(177,"div",3),r.Ob(178,"br"),r.Sb(),r.Tb(179,"div",3),r.Ob(180,"div",14),r.Tb(181,"div",15),r.Tb(182,"table",16),r.Tb(183,"thead"),r.Tb(184,"tr"),r.Tb(185,"th"),r.Hc(186,"Voce di rettifica"),r.Sb(),r.Tb(187,"th"),r.Hc(188,"Valore"),r.Sb(),r.Sb(),r.Sb(),r.Tb(189,"tbody"),r.Fc(190,js,5,2,"tr",17),r.Sb(),r.Sb(),r.Sb(),r.Tb(191,"div",18),r.Tb(192,"h4"),r.Tb(193,"b"),r.Hc(194),r.hc(195,"number"),r.Sb(),r.Sb(),r.Tb(196,"h4"),r.Tb(197,"b"),r.Hc(198),r.hc(199,"number"),r.Sb(),r.Sb(),r.Tb(200,"h4"),r.Tb(201,"b"),r.Hc(202),r.hc(203,"number"),r.Sb(),r.Sb(),r.Ob(204,"br"),r.Tb(205,"button",19),r.ec("click",(function(){return e.stampapreventivo()})),r.Hc(206,"Stampa preventivo"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(13),r.Jc(" ",e.preventivoselezionato.riferimento.puntoVendita.nome," "),r.Ab(2),r.Jc(" ",e.preventivoselezionato.nomecliente," "),r.Ab(2),r.Jc(" Data di consegna: ",r.jc(18,48,e.preventivoselezionato.riferimento.data,"dd-MM-yyyy")," "),r.Ab(39),r.Ic(e.preventivoselezionato.prezzoalpubblicogasolioservito),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicogasolioself),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicobenzinaservito),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicobenzinaself),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicosupremeservito),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicosupremeself),r.Ab(2),r.Ic(e.preventivoselezionato.prezzoalpubblicogplservito),r.Ab(5),r.Ic(r.jc(74,51,e.togliiva(e.preventivoselezionato.prezzoalpubblicogasolioservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(77,54,e.togliiva(e.preventivoselezionato.prezzoalpubblicogasolioself),"1.3-3")),r.Ab(3),r.Ic(r.jc(80,57,e.togliiva(e.preventivoselezionato.prezzoalpubblicobenzinaservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(83,60,e.togliiva(e.preventivoselezionato.prezzoalpubblicobenzinaself),"1.3-3")),r.Ab(3),r.Ic(r.jc(86,63,e.togliiva(e.preventivoselezionato.prezzoalpubblicosupremeservito),"1.3-3")),r.Ab(3),r.Ic(r.jc(89,66,e.togliiva(e.preventivoselezionato.prezzoalpubblicosupremeself),"1.3-3")),r.Ab(3),r.Ic(r.jc(92,69,e.togliiva(e.preventivoselezionato.prezzoalpubblicogplservito),"1.3-3")),r.Ab(6),r.Ic(e.proprietario.marginegasolioservito),r.Ab(2),r.Ic(e.proprietario.marginegasolioself),r.Ab(2),r.Ic(e.proprietario.marginebenzinaservito),r.Ab(2),r.Ic(e.proprietario.marginebenzinaself),r.Ab(2),r.Ic(e.proprietario.marginesupremeservito),r.Ab(2),r.Ic(e.proprietario.marginesupremeself),r.Ab(2),r.Ic(e.proprietario.marginegplservito),r.Ab(5),r.Ic(e.preventivoselezionato.marginecessionegasolio),r.Ab(2),r.Ic(e.preventivoselezionato.marginecessionebenzina),r.Ab(2),r.Ic(e.preventivoselezionato.marginecessionesupreme),r.Ab(2),r.Ic(e.preventivoselezionato.marginecessionegpl),r.Ab(5),r.Ic(r.jc(126,72,e.prezzoinfattura(e.preventivoselezionato.prezzoalpubblicogasolioself,e.proprietario.marginegasolioself,e.preventivoselezionato.marginecessionegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(129,75,e.prezzoinfattura(e.preventivoselezionato.prezzoalpubblicobenzinaself,e.proprietario.marginebenzinaself,e.preventivoselezionato.marginecessionebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(132,78,e.prezzoinfattura(e.preventivoselezionato.prezzoalpubblicosupremeself,e.proprietario.marginesupremeself,e.preventivoselezionato.marginecessionesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(135,81,e.prezzoinfattura(e.preventivoselezionato.prezzoalpubblicogplservito,e.proprietario.marginegplservito,e.preventivoselezionato.marginecessionegpl),"1.3-3")),r.Ab(6),r.Ic(e.preventivoselezionato.riferimento.gasolio),r.Ab(2),r.Ic(e.preventivoselezionato.riferimento.benzina),r.Ab(2),r.Ic(e.preventivoselezionato.riferimento.supreme),r.Ab(2),r.Ic(e.preventivoselezionato.riferimento.gpl),r.Ab(5),r.Ic(r.jc(152,84,e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicogasolioself,e.proprietario.marginegasolioself,e.preventivoselezionato.marginecessionegasolio,e.preventivoselezionato.riferimento.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(155,87,e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicobenzinaself,e.proprietario.marginebenzinaself,e.preventivoselezionato.marginecessionebenzina,e.preventivoselezionato.riferimento.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(158,90,e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicosupremeself,e.proprietario.marginesupremeself,e.preventivoselezionato.marginecessionesupreme,e.preventivoselezionato.riferimento.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(161,93,e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicogplservito,e.proprietario.marginegplservito,e.preventivoselezionato.marginecessionegpl,e.preventivoselezionato.riferimento.gpl),"EUR")),r.Ab(6),r.Ic(r.jc(167,96,1.22*e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicogasolioself,e.proprietario.marginegasolioself,e.preventivoselezionato.marginecessionegasolio,e.preventivoselezionato.riferimento.gasolio),"EUR")),r.Ab(3),r.Ic(r.jc(170,99,1.22*e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicobenzinaself,e.proprietario.marginebenzinaself,e.preventivoselezionato.marginecessionebenzina,e.preventivoselezionato.riferimento.benzina),"EUR")),r.Ab(3),r.Ic(r.jc(173,102,1.22*e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicosupremeself,e.proprietario.marginesupremeself,e.preventivoselezionato.marginecessionesupreme,e.preventivoselezionato.riferimento.supreme),"EUR")),r.Ab(3),r.Ic(r.jc(176,105,1.22*e.prezzoconvolumesenzaiva(e.preventivoselezionato.prezzoalpubblicogplservito,e.proprietario.marginegplservito,e.preventivoselezionato.marginecessionegpl,e.preventivoselezionato.riferimento.gpl),"EUR")),r.Ab(15),r.mc("ngForOf",e.preventivoselezionato.listavocidirettifica),r.Ab(4),r.Jc("TOTALE CON IVA: ",r.jc(195,108,e.calcolatotaleconiva(),"1.2-2"),""),r.Ab(4),r.Jc("TOTALE VOCI DI RETTIFICA: ",r.jc(199,111,e.calcolasommavocidirettifica(),"1.2-2"),""),r.Ab(4),r.Jc("IMPORTO BONIFICO: ",r.jc(203,114,e.calcolaimportobonifico(),"1.2-2"),""))},directives:[ie.a,n.n],pipes:[n.f,n.g,n.d],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}(),Ns=function(){function t(){}return t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac=function(e){return new(e||t)},providedIn:"root"}),t}();function Ds(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",11),r.Tb(1,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(2),r.Sb(),r.Tb(3,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(4),r.Sb(),r.Tb(5,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(6),r.Sb(),r.Tb(7,"td",12),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().vaiapaginapuntovendita(t)})),r.Hc(8),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(o.puntovendita.idpunto),r.Ab(2),r.Ic(o.puntovendita.nome),r.Ab(2),r.Ic(o.puntovendita.codicedestinazione),r.Ab(2),r.Ic(o.nomecliente)}}var Ps={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Fs=function(){function t(t,e,i){this.router=t,this.gestioneclientiservice=e,this.gestioneprezziservice=i,this.dtTrigger=new b.a,this.dtOptions={}}return t.prototype.ngOnInit=function(){var t=this;this.dtOptions={paging:!0,searching:!0,info:!0,ordering:!0,language:Ps},this.gestioneclientiservice.tuttipuntivenditaconcliente().subscribe((function(e){t.listapuntivendita=e,t.rerender()}))},t.prototype.vaiapaginapuntovendita=function(t){this.gestioneprezziservice.puntovenditaselezionato=t,this.router.navigate(["/admin/gestioneprezzisingolocliente"])},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(pe),r.Nb(Ns))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestioneprezzi"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:23,vars:3,consts:[[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],[1,"manina"],[3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Tb(2,"div",2),r.Tb(3,"div",3),r.Tb(4,"div",4),r.Tb(5,"div",5),r.Tb(6,"h4",6),r.Hc(7,"Gestione prezzi dei punti vendita"),r.Sb(),r.Sb(),r.Tb(8,"div",7),r.Tb(9,"div",8),r.Tb(10,"table",9),r.Tb(11,"thead"),r.Tb(12,"tr"),r.Tb(13,"th"),r.Hc(14,"ID"),r.Sb(),r.Tb(15,"th"),r.Hc(16,"Nome"),r.Sb(),r.Tb(17,"th"),r.Hc(18,"Codice destinazione"),r.Sb(),r.Tb(19,"th"),r.Hc(20,"Cliente"),r.Sb(),r.Sb(),r.Sb(),r.Tb(21,"tbody"),r.Fc(22,Ds,9,4,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(12),r.mc("ngForOf",e.listapuntivendita))},directives:[c,n.n],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}"]}),t}();function Es(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",12),r.Tb(1,"td"),r.Tb(2,"span",13),r.Hc(3),r.Sb(),r.Hc(4),r.hc(5,"date"),r.Sb(),r.Tb(6,"td",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificaquotazione(t)})),r.Hc(7),r.Sb(),r.Tb(8,"td",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificaquotazione(t)})),r.Hc(9),r.Sb(),r.Tb(10,"td",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificaquotazione(t)})),r.Hc(11),r.Sb(),r.Tb(12,"td",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificaquotazione(t)})),r.Hc(13),r.Sb(),r.Tb(14,"td",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificaquotazione(t)})),r.Hc(15),r.Sb(),r.Tb(16,"td",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificaquotazione(t)})),r.Hc(17),r.Sb(),r.Tb(18,"td",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificaquotazione(t)})),r.Hc(19),r.Sb(),r.Tb(20,"td",14),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().modificaquotazione(t)})),r.Hc(21),r.Sb(),r.Tb(22,"td"),r.Tb(23,"button",15),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminaquotazione(t)})),r.Hc(24,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(3),r.Ic(o.data),r.Ab(1),r.Ic(r.jc(5,13,o.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.prezzogasolioself),r.Ab(2),r.Ic(o.prezzobenzinaself),r.Ab(2),r.Ic(o.prezzosupremeself),r.Ab(2),r.Ic(o.prezzogasolio),r.Ab(2),r.Ic(o.prezzobenzina),r.Ab(2),r.Ic(o.prezzosupreme),r.Ab(2),r.Ic(o.prezzogpl),r.Ab(2),r.Mc("",o.marginecessionegasolio,"%, ",o.marginecessionebenzina,"%, ",o.marginecessionesupreme,"%, ",o.marginecessionegpl,"%,")}}var qs={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Vs=function(){function t(t,e,i,o,n){this.router=t,this.dialog=e,this.toastr=i,this.gestioneclienteservice=o,this.gestioneprezziservice=n,this.dtTriggerquotazioni=new b.a,this.dtOptionsquotazioni={},this.tableRowsquotazioni=[],this.puntovendita=this.gestioneprezziservice.puntovenditaselezionato}return t.prototype.ngOnInit=function(){this.tableRowsquotazioni=this.puntovendita.puntovendita.quotazioni,this.dtOptionsquotazioni={language:qs}},t.prototype.tornaindietro=function(){this.gestioneprezziservice.puntovenditaselezionato=void 0,this.router.navigate(["/admin/gestioneprezzi"])},t.prototype.aggiungiquotazione=function(){this.router.navigate(["/admin/aggiungimodificaquotazionecondati"])},t.prototype.modificaquotazione=function(t){this.gestioneprezziservice.quotazioneprezziselezionata=t,this.router.navigate(["/admin/aggiungimodificaquotazionecondati"])},t.prototype.eliminaquotazione=function(t){var e=this;this.gestioneclienteservice.rimuoviquotazione(t).subscribe((function(t){e.puntovendita.puntovendita=t,e.tableRowsquotazioni=t.quotazioni,e.rerender()}))},t.prototype.ngAfterViewInit=function(){this.dtTriggerquotazioni.next()},t.prototype.ngOnDestroy=function(){this.dtTriggerquotazioni.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTriggerquotazioni.next()}))},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(Jt),r.Nb(ne.b),r.Nb(pe),r.Nb(Ns))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestioneprezzipersingolocliente"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:38,vars:3,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],["datatable","","id","tabellaquotazioni",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Quotazione",1,"fab-bottom-right","btn","btn-warning",3,"click"],[1,"manina"],[2,"display","none"],[3,"click"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"]],template:function(t,e){1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Prezzi Giornalieri"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"table",9),r.Tb(12,"thead"),r.Tb(13,"tr"),r.Tb(14,"th"),r.Hc(15,"Data"),r.Sb(),r.Tb(16,"th"),r.Hc(17,"Prezzo Gasolio Self"),r.Sb(),r.Tb(18,"th"),r.Hc(19,"Prezzo Benzina Self"),r.Sb(),r.Tb(20,"th"),r.Hc(21,"Prezzo Supreme Self"),r.Sb(),r.Tb(22,"th"),r.Hc(23,"Prezzo Gasolio"),r.Sb(),r.Tb(24,"th"),r.Hc(25,"Prezzo Benzina"),r.Sb(),r.Tb(26,"th"),r.Hc(27,"Prezzo Supreme"),r.Sb(),r.Tb(28,"th"),r.Hc(29,"Prezzo GPL"),r.Sb(),r.Tb(30,"th"),r.Hc(31,"Margini (Gasolio - Benzina - Supreme - GPL)"),r.Sb(),r.Tb(32,"th"),r.Hc(33,"Azione"),r.Sb(),r.Sb(),r.Sb(),r.Tb(34,"tbody"),r.Fc(35,Es,25,16,"tr",10),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(36,"button",11),r.ec("click",(function(){return e.aggiungiquotazione()})),r.Hc(37," + "),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(11),r.mc("dtOptions",e.dtOptionsquotazioni)("dtTrigger",e.dtTriggerquotazioni),r.Ab(24),r.mc("ngForOf",e.tableRowsquotazioni))},directives:[ie.a,c,n.n],pipes:[n.f],styles:[".fab-bottom-right[_ngcontent-%COMP%]{position:fixed;right:26px;bottom:26px;z-index:100}.top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}"]}),t}(),Ls=function(){function t(){}return t.prototype.ngOnInit=function(){},t.\u0275fac=function(e){return new(e||t)},t.\u0275cmp=r.Hb({type:t,selectors:[["app-gestioneprezzisingoloprezzo"]],decls:2,vars:0,template:function(t,e){1&t&&(r.Tb(0,"p"),r.Hc(1,"gestioneprezzisingoloprezzo works!"),r.Sb())},styles:[""]}),t}(),Us=function(){return function(){}}(),$s=function(){function t(t,e,i){this.http=t,this.cookieService=e,this.loginservice=i}return t.prototype.getallbydata=function(t){return this.http.post(l.b+"concorrenti/getprezzididata?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungiprezzoconcorrente=function(t,e){return this.http.post(l.b+"concorrenti/aggiungi/"+e+"?access_token="+this.loginservice.gettoken(),t)},t.prototype.aggiungilistaprezzoconcorrente=function(t){return this.http.post(l.b+"concorrenti/aggiungitutti?access_token="+this.loginservice.gettoken(),t)},t.prototype.rimuoviprezzoconcorrente=function(t){return this.http.post(l.b+"concorrenti/rimuovi?access_token="+this.loginservice.gettoken(),t)},t.\u0275fac=function(e){return new(e||t)(r.bc(u.a),r.bc(d.a),r.bc(l.a))},t.\u0275prov=r.Jb({token:t,factory:t.\u0275fac,providedIn:"root"}),t}();function Bs(t,e){if(1&t&&(r.Tb(0,"mat-option",11),r.Hc(1),r.Sb()),2&t){var i=e.$implicit;r.mc("value",i),r.Ab(1),r.Jc(" ",i.nomeconcorrente," ")}}var Gs=function(){function t(t,e,i){var o=this;this.gestioneprezzi=t,this.dialogRef=e,this.data=i,this.concorrentecontrol=new a.d,this.listaconcorrenti=this.clonaarray(this.gestioneprezzi.puntovenditaselezionato.puntovendita.listaconcorrenti),this.filteredconcorrenti=this.concorrentecontrol.valueChanges.pipe(Object(M.a)(""),Object(Zo.a)((function(t){return"string"==typeof t?t:t.nomeconcorrente})),Object(Zo.a)((function(t){return t?o._filterconcorrenti(t):o.listaconcorrenti.slice()})))}return t.prototype.onNoClick=function(){this.dialogRef.close()},t.prototype.dataselezionatadalpicker=function(t){this.data.data=t},t.prototype.displayconcorrente=function(t){return t&&t.nomeconcorrente?t.nomeconcorrente:""},t.prototype._filterconcorrenti=function(t){var e=t.toLowerCase();return this.listaconcorrenti.filter((function(t){return 0===t.nomeconcorrente.toLowerCase().indexOf(e)}))},t.prototype.selected=function(t){this.data.concorrente=t.option.value,this.concorrenteselezionato=t.option.value},t.prototype.cambiatoconcorrente=function(){this.data.concorrente.nomeconcorrente=this.concorrenteselezionato},t.prototype.clonaarray=function(t){var e=[];return t.forEach((function(t){return e.push(Object.assign({},t))})),e},t.\u0275fac=function(e){return new(e||t)(r.Nb(Ns),r.Nb(Vt),r.Nb(Ut))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungiprezzoconcorrenzadialog"]],decls:49,vars:18,consts:[["mat-dialog-title",""],["mat-dialog-content",""],["matInput","","type","date",3,"ngModel","ngModelChange"],["matInput","","type","text",3,"ngModel","matAutocomplete","ngModelChange","change"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],["matInput","","type","number",3,"ngModel","ngModelChange"],["mat-dialog-actions",""],["mat-button","",1,"btn","btn-warning",3,"click"],["mat-button","","cdkFocusInitial","",1,"btn","btn-rose",3,"mat-dialog-close"],[3,"value"]],template:function(t,e){if(1&t&&(r.Tb(0,"h3",0),r.Hc(1,"Aggiungi Prezzo Concorrenza"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"mat-form-field"),r.Tb(4,"mat-label"),r.Hc(5,"Data"),r.Sb(),r.Tb(6,"input",2),r.ec("ngModelChange",(function(t){return e.dataselezionatadalpicker(t)})),r.hc(7,"date"),r.Sb(),r.Sb(),r.Tb(8,"mat-form-field"),r.Tb(9,"mat-label"),r.Hc(10,"Nome Concorrente"),r.Sb(),r.Tb(11,"input",3),r.ec("ngModelChange",(function(t){return e.concorrenteselezionato=t}))("change",(function(){return e.cambiatoconcorrente()})),r.Sb(),r.Tb(12,"mat-autocomplete",4,5),r.ec("optionSelected",(function(t){return e.selected(t)})),r.Fc(14,Bs,2,2,"mat-option",6),r.hc(15,"async"),r.Sb(),r.Sb(),r.Tb(16,"mat-form-field"),r.Tb(17,"mat-label"),r.Hc(18,"Prezzo gasolio"),r.Sb(),r.Tb(19,"input",7),r.ec("ngModelChange",(function(t){return e.data.prezzogasolioservito=t})),r.Sb(),r.Sb(),r.Tb(20,"mat-form-field"),r.Tb(21,"mat-label"),r.Hc(22,"Prezzo benzina"),r.Sb(),r.Tb(23,"input",7),r.ec("ngModelChange",(function(t){return e.data.prezzobenzinaservito=t})),r.Sb(),r.Sb(),r.Tb(24,"mat-form-field"),r.Tb(25,"mat-label"),r.Hc(26,"Prezzo supreme"),r.Sb(),r.Tb(27,"input",7),r.ec("ngModelChange",(function(t){return e.data.prezzosupremeservito=t})),r.Sb(),r.Sb(),r.Tb(28,"mat-form-field"),r.Tb(29,"mat-label"),r.Hc(30,"Prezzo gasolio Self"),r.Sb(),r.Tb(31,"input",7),r.ec("ngModelChange",(function(t){return e.data.prezzogasolioself=t})),r.Sb(),r.Sb(),r.Tb(32,"mat-form-field"),r.Tb(33,"mat-label"),r.Hc(34,"Prezzo benzina Self"),r.Sb(),r.Tb(35,"input",7),r.ec("ngModelChange",(function(t){return e.data.prezzobenzinaself=t})),r.Sb(),r.Sb(),r.Tb(36,"mat-form-field"),r.Tb(37,"mat-label"),r.Hc(38,"Prezzo supreme Self"),r.Sb(),r.Tb(39,"input",7),r.ec("ngModelChange",(function(t){return e.data.prezzosupremeself=t})),r.Sb(),r.Sb(),r.Tb(40,"mat-form-field"),r.Tb(41,"mat-label"),r.Hc(42,"Prezzo GPL"),r.Sb(),r.Tb(43,"input",7),r.ec("ngModelChange",(function(t){return e.data.prezzogpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(44,"div",8),r.Tb(45,"button",9),r.ec("click",(function(){return e.onNoClick()})),r.Hc(46,"Annulla"),r.Sb(),r.Tb(47,"button",10),r.Hc(48,"Aggiungi"),r.Sb(),r.Sb()),2&t){var i=r.uc(13);r.Ab(6),r.mc("ngModel",r.jc(7,13,e.data.data,"yyyy-MM-dd")),r.Ab(5),r.mc("ngModel",e.concorrenteselezionato)("matAutocomplete",i),r.Ab(1),r.mc("displayWith",e.displayconcorrente),r.Ab(2),r.mc("ngForOf",r.ic(15,16,e.filteredconcorrenti)),r.Ab(5),r.mc("ngModel",e.data.prezzogasolioservito),r.Ab(4),r.mc("ngModel",e.data.prezzobenzinaservito),r.Ab(4),r.mc("ngModel",e.data.prezzosupremeservito),r.Ab(4),r.mc("ngModel",e.data.prezzogasolioself),r.Ab(4),r.mc("ngModel",e.data.prezzobenzinaself),r.Ab(4),r.mc("ngModel",e.data.prezzosupremeself),r.Ab(4),r.mc("ngModel",e.data.prezzogpl),r.Ab(4),r.mc("mat-dialog-close",e.data)}},directives:[Qt,Zt,ui.b,ui.e,di.a,a.b,a.l,a.o,mn,dn,n.n,a.q,Kt,ie.a,Xt,Ct.g],pipes:[n.f,n.b],styles:[""]}),t}(),Ws=function(){return function(){}}();function Js(t,e){if(1&t&&(r.Tb(0,"mat-option",33),r.Hc(1),r.Sb()),2&t){var i=e.$implicit;r.mc("value",i),r.Ab(1),r.Jc(" ",i.nomefornitore," ")}}function Ys(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",34),r.Tb(1,"td"),r.Hc(2),r.Sb(),r.Tb(3,"td"),r.Hc(4),r.hc(5,"date"),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.Sb(),r.Tb(8,"td"),r.Hc(9),r.Sb(),r.Tb(10,"td"),r.Hc(11),r.Sb(),r.Tb(12,"td"),r.Hc(13),r.Sb(),r.Tb(14,"td"),r.Hc(15),r.Sb(),r.Tb(16,"td"),r.Hc(17),r.Sb(),r.Tb(18,"td"),r.Hc(19),r.Sb(),r.Tb(20,"td"),r.Tb(21,"button",35),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc().eliminaprezzoconcorrente(t)})),r.Hc(22,"Elimina"),r.Sb(),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(2),r.Ic(null==o||null==o.concorrente?null:o.concorrente.nomeconcorrente),r.Ab(2),r.Ic(r.jc(5,9,null==o?null:o.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(null==o?null:o.prezzogasolioservito),r.Ab(2),r.Ic(null==o?null:o.prezzogasolioself),r.Ab(2),r.Ic(null==o?null:o.prezzobenzinaservito),r.Ab(2),r.Ic(null==o?null:o.prezzobenzinaself),r.Ab(2),r.Ic(null==o?null:o.prezzosupremeservito),r.Ab(2),r.Ic(null==o?null:o.prezzosupremeself),r.Ab(2),r.Ic(null==o?null:o.prezzogpl)}}var Xs={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},Qs=function(){function t(t,e,i,o,n,r,c,s){var l=this;this.gestioneprezzi=t,this.router=e,this.clienteservice=i,this.fornitoriservice=o,this.prezziconcorrenteservice=n,this.formBuilder=r,this.dialog=c,this.toastr=s,this.listafornitori=[],this.fornitorecontrol=new a.d,this.dtTrigger=new b.a,this.dtOptions={},this.quotazioneselezionata=this.gestioneprezzi.quotazioneprezziselezionata,this.clienteservice.getproprietario(this.gestioneprezzi.puntovenditaselezionato.puntovendita).subscribe((function(t){l.proprietario=t})),this.fornitoriservice.getfornitori().subscribe((function(t){l.listafornitori=t})),void 0!==this.quotazioneselezionata&&void 0!==this.quotazioneselezionata.data&&this.clienteservice.getprezziconcorrentidipuntovendita(this.gestioneprezzi.puntovenditaselezionato.puntovendita,this.quotazioneselezionata.data).subscribe((function(t){console.log("I PREZZI DEI CONCORRENTI"),console.log(t),l.prezziconcorrenti=t,l.rerender()})),void 0===this.quotazioneselezionata&&(this.quotazioneselezionata=this.getprezzodipuntovenditapergiornopreventivo(),this.quotazioneselezionata.id=void 0,this.quotazioneselezionata.data=new Date(Date.now()))}return t.prototype.ngOnInit=function(){var t=this;this.filteredfornitori=this.fornitorecontrol.valueChanges.pipe(Object(M.a)(""),Object(Zo.a)((function(t){return"string"==typeof t?t:t.nomebasedicarico})),Object(Zo.a)((function(e){return e?t._filterfornitore(e):t.listafornitori.slice()})));var e=new Date;this.dataform=this.formBuilder.group({data:[e.toString,a.s.required]}),null!=this.quotazioneselezionata.fornitore&&this.fornitorecontrol.setValue(this.quotazioneselezionata.fornitore),this.dtOptions={language:Xs}},t.prototype.dataselezionatadalpicker=function(t){this.quotazioneselezionata.data=new Date(t),this.ricercaprezzofornitore()},t.prototype.ricercaprezzofornitore=function(){this.quotazionefornitore=this.quotazionedaybased(this.quotazioneselezionata.fornitore)},t.prototype.tornaindietro=function(){this.gestioneprezzi.quotazioneprezziselezionata=void 0,this.router.navigate(["/admin/gestioneprezzisingolocliente"])},t.prototype.togliiva=function(t){return t/1.22},t.prototype.prezzoinfatturagestore=function(t,e,i){return t-e*i/100},t.prototype.importodaricooscerealgestoreservito=function(t,e,i){return t-e*i/100},t.prototype.importodaricooscerealgestoreself=function(t,e){return t-t*e/100},t.prototype.conguagliodaeffettuare=function(t,e,i){return t-e-i},t.prototype.marginefinale=function(t,e,i,o,n,a){return t-e*i/100-o-n/1e3-a/1e3},t.prototype.marginemedio=function(t,e,i,o){return(t*i+e*o)/(t+e)},t.prototype.displayfornitore=function(t){return t&&t.nomefornitore?t.nomefornitore:""},t.prototype.fornitoresel=function(t){var e=t.option.value;this.quotazioneselezionata.fornitore=e,this.quotazionefornitore=this.quotazionedaybased(e)},t.prototype.quotazionedaybased=function(t){if(void 0!==t&&void 0!==this.quotazioneselezionata&&void 0!==this.quotazioneselezionata.data)for(var e=0,i=t.quotazioni;e<i.length;e++){var o=i[e];if(this.sameDay(o.data,new Date(this.quotazioneselezionata.data)))return o}},t.prototype.sameDay=function(t,e){var i=new Date(t),o=new Date(e);return i.getFullYear()===o.getFullYear()&&i.getDate()===o.getDate()&&i.getMonth()===o.getMonth()},t.prototype.eliminaprezzoconcorrente=function(t){var e=this;this.prezziconcorrenteservice.rimuoviprezzoconcorrente(t).subscribe((function(t){e.clienteservice.getprezziconcorrentidipuntovendita(e.gestioneprezzi.puntovenditaselezionato.puntovendita,e.quotazioneselezionata.data).subscribe((function(t){e.prezziconcorrenti=t,e.rerender()}))}))},t.prototype.aggiungiprezzoconcorrente=function(){var t=this,e=new Us;e.data=new Date(this.quotazioneselezionata.data),e.id=void 0,e.concorrente=new Ws,this.dialog.open(Gs,{width:"450px",data:e}).afterClosed().subscribe((function(e){void 0!==e&&(console.log("STO AGGIUNGENDO IL PREZZO AL CONCORRENTE: "),console.log(e),t.prezziconcorrenteservice.aggiungiprezzoconcorrente(e,t.gestioneprezzi.puntovenditaselezionato.puntovendita.idpunto).subscribe((function(e){t.clienteservice.getprezziconcorrentidipuntovendita(t.gestioneprezzi.puntovenditaselezionato.puntovendita,t.quotazioneselezionata.data).subscribe((function(e){t.prezziconcorrenti=e,t.rerender()}))})))}))},t.prototype.salvaquotazione=function(){var t=this;this.clienteservice.aggiungiquotazione(this.quotazioneselezionata,this.gestioneprezzi.puntovenditaselezionato.puntovendita.idpunto).subscribe((function(e){t.tornaindietro()}))},t.prototype._filterfornitore=function(t){var e=t.toLowerCase();return this.listafornitori.filter((function(t){return 0===t.nomefornitore.toLowerCase().indexOf(e)}))},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.modificatrasportogasolioservito=function(t){this.quotazioneselezionata.trasportogasolioself=this.quotazioneselezionata.trasportogasolioservito,void 0!==this.quotazioneselezionata.prezzobenzina&&0!==this.quotazioneselezionata.prezzobenzina&&(this.quotazioneselezionata.trasportobenzinaservito=this.quotazioneselezionata.trasportogasolioservito,this.quotazioneselezionata.trasportobenzinaself=this.quotazioneselezionata.trasportogasolioservito),void 0!==this.quotazioneselezionata.prezzosupreme&&0!==this.quotazioneselezionata.prezzosupreme&&(this.quotazioneselezionata.trasportosupremeservito=this.quotazioneselezionata.trasportogasolioservito,this.quotazioneselezionata.trasportosupremeself=this.quotazioneselezionata.trasportogasolioservito),void 0!==this.quotazioneselezionata.prezzogpl&&0!==this.quotazioneselezionata.prezzogpl&&(this.quotazioneselezionata.trasportogpl=this.quotazioneselezionata.trasportogasolioservito)},t.prototype.modificaaltrocostogasolioservito=function(t){this.quotazioneselezionata.altrocostogasolioself=this.quotazioneselezionata.altrocostogasolioservito,void 0!==this.quotazioneselezionata.prezzobenzina&&0!==this.quotazioneselezionata.prezzobenzina&&(this.quotazioneselezionata.altrocostobenzinaservito=this.quotazioneselezionata.altrocostogasolioservito,this.quotazioneselezionata.altrocostobenzinaself=this.quotazioneselezionata.altrocostogasolioservito),void 0!==this.quotazioneselezionata.prezzosupreme&&0!==this.quotazioneselezionata.prezzosupreme&&(this.quotazioneselezionata.altrocostosupremeservito=this.quotazioneselezionata.altrocostogasolioservito,this.quotazioneselezionata.altrocostosupremeself=this.quotazioneselezionata.altrocostogasolioservito),void 0!==this.quotazioneselezionata.prezzogpl&&0!==this.quotazioneselezionata.prezzogpl&&(this.quotazioneselezionata.altrocostogpl=this.quotazioneselezionata.altrocostogasolioservito)},t.prototype.getprezzodipuntovenditapergiornopreventivo=function(){for(var t=0,e=this.gestioneprezzi.puntovenditaselezionato.puntovendita.quotazioni;t<e.length;t++){var i=e[t];if(this.sameDay(i.data,new Date))return i}return this.getdatapassatapiuvicina()},t.prototype.getdatapassatapiuvicina=function(){for(var t=0,e=void 0,i=0,o=this.gestioneprezzi.puntovenditaselezionato.puntovendita.quotazioni;i<o.length;i++){var n=o[i],a=this.getdifferenzadate(n.data,new Date);(0===t||a<t)&&(t=a,e=n)}return e},t.prototype.getdifferenzadate=function(t,e){var i=new Date(t),o=new Date(e);return Math.abs(i.getTime()-o.getTime())},t.\u0275fac=function(e){return new(e||t)(r.Nb(Ns),r.Nb(o.c),r.Nb(pe),r.Nb(Fi),r.Nb($s),r.Nb(a.c),r.Nb(Jt),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-aggiungimodificaquotazionecondati"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:388,vars:225,consts:[["mat-fab","","aria-label","Torna indietro",1,"top-left-custom","btn","btn-warning",3,"click"],[1,"main-content"],[1,"container-fluid"],[1,"row"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"card-body"],[1,"col-md-6","text-center"],["type","date",3,"ngModel","ngModelChange"],[1,"col-md-3"],["type","text","matInput","",3,"formControl","matAutocomplete"],[3,"displayWith","optionSelected"],["auto","matAutocomplete"],[3,"value",4,"ngFor","ngForOf"],[1,"col-md-11"],[2,"width","100%"],["colspan","3"],["colspan","2"],[2,"border-bottom","1px solid black"],["placeholder","0.000","type","number","lang","en_EN","step","0.01",2,"width","75px",3,"ngModel","ngModelChange"],["placeholder","0%","type","number",2,"width","75px",3,"ngModel","ngModelChange"],["placeholder","0","type","number",2,"width","75px",3,"ngModel","ngModelChange","keyup"],["placeholder","0","type","number",2,"width","75px",3,"ngModel","ngModelChange"],["placeholder","","type","number",2,"width","75px",3,"ngModel","ngModelChange"],[1,"row","text-center"],[1,"col-md-10","text-center"],["mat-button","","mat-flat-button","","type","button",1,"btn","btn-rose",3,"click"],[1,"table-responsive","col-md-11"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],["class","manina",4,"ngFor","ngForOf"],["mat-fab","","aria-label","Aggiungi Prezzo Concorrenza",1,"fab-bottom-right","btn","btn-warning",3,"click"],[3,"value"],[1,"manina"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"]],template:function(t,e){if(1&t&&(r.Tb(0,"button",0),r.ec("click",(function(){return e.tornaindietro()})),r.Hc(1," <-----------\n"),r.Sb(),r.Tb(2,"div",1),r.Tb(3,"div",2),r.Tb(4,"div",3),r.Tb(5,"div",4),r.Tb(6,"div",5),r.Tb(7,"div",6),r.Tb(8,"h4",7),r.Hc(9,"Gestione Prezzi"),r.Sb(),r.Sb(),r.Tb(10,"div",8),r.Tb(11,"div",3),r.Tb(12,"div",9),r.Hc(13),r.Ob(14,"br"),r.Hc(15),r.Sb(),r.Tb(16,"div"),r.Tb(17,"input",10),r.ec("ngModelChange",(function(t){return e.dataselezionatadalpicker(t)})),r.hc(18,"date"),r.Sb(),r.Sb(),r.Sb(),r.Ob(19,"br"),r.Tb(20,"div",3),r.Ob(21,"div",11),r.Tb(22,"mat-form-field",9),r.Tb(23,"mat-label"),r.Hc(24,"Fornitore"),r.Sb(),r.Ob(25,"input",12),r.Tb(26,"mat-autocomplete",13,14),r.ec("optionSelected",(function(t){return e.fornitoresel(t)})),r.Fc(28,Js,2,2,"mat-option",15),r.hc(29,"async"),r.Sb(),r.Sb(),r.Ob(30,"div",11),r.Sb(),r.Tb(31,"div",3),r.Tb(32,"div",16),r.Tb(33,"table",17),r.Tb(34,"tr"),r.Ob(35,"th",18),r.Tb(36,"th",19),r.Hc(37,"GASOLIO"),r.Sb(),r.Tb(38,"th",19),r.Hc(39,"BENZINA"),r.Sb(),r.Tb(40,"th",19),r.Hc(41,"SUPREME"),r.Sb(),r.Tb(42,"th"),r.Hc(43,"GPL"),r.Sb(),r.Sb(),r.Tb(44,"tr"),r.Tb(45,"td",18),r.Hc(46,"Prezzo al pubblico Senza IVA"),r.Sb(),r.Tb(47,"td",19),r.Hc(48),r.Sb(),r.Tb(49,"td",19),r.Hc(50),r.Sb(),r.Tb(51,"td",19),r.Hc(52),r.Sb(),r.Tb(53,"td",19),r.Hc(54),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Ob(55,"br"),r.Ob(56,"br"),r.Tb(57,"div",3),r.Tb(58,"div",16),r.Tb(59,"table",17),r.Tb(60,"tr",20),r.Tb(61,"th",18),r.Hc(62,"PRODOTTO"),r.Sb(),r.Tb(63,"th",19),r.Hc(64,"GASOLIO"),r.Sb(),r.Tb(65,"th",19),r.Hc(66,"BENZINA"),r.Sb(),r.Tb(67,"th",19),r.Hc(68,"SUPREME"),r.Sb(),r.Tb(69,"th"),r.Hc(70,"GPL"),r.Sb(),r.Sb(),r.Tb(71,"tr",20),r.Tb(72,"td",18),r.Hc(73,"Modalit\xe0"),r.Sb(),r.Tb(74,"td"),r.Hc(75,"Servito"),r.Sb(),r.Tb(76,"td"),r.Hc(77,"Self"),r.Sb(),r.Tb(78,"td"),r.Hc(79,"Servito"),r.Sb(),r.Tb(80,"td"),r.Hc(81,"Self"),r.Sb(),r.Tb(82,"td"),r.Hc(83,"Servito"),r.Sb(),r.Tb(84,"td"),r.Hc(85,"Self"),r.Sb(),r.Tb(86,"td"),r.Hc(87,"Servito"),r.Sb(),r.Sb(),r.Tb(88,"tr",20),r.Tb(89,"td",18),r.Hc(90,"Volumi di vendita"),r.Sb(),r.Tb(91,"td"),r.Tb(92,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.volumegasolioservito=t})),r.Sb(),r.Sb(),r.Tb(93,"td"),r.Tb(94,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.volumegasolioself=t})),r.Sb(),r.Sb(),r.Tb(95,"td"),r.Tb(96,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.volumebenzinaservito=t})),r.Sb(),r.Sb(),r.Tb(97,"td"),r.Tb(98,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.volumebenzinaself=t})),r.Sb(),r.Sb(),r.Tb(99,"td"),r.Tb(100,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.volumesupremeservito=t})),r.Sb(),r.Sb(),r.Tb(101,"td"),r.Tb(102,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.volumesupremeself=t})),r.Sb(),r.Sb(),r.Tb(103,"td"),r.Tb(104,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.volumegpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(105,"tr",20),r.Tb(106,"td",18),r.Hc(107,"Prezzo al pubblico proposto"),r.Sb(),r.Tb(108,"td"),r.Tb(109,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.prezzogasolio=t})),r.Sb(),r.Sb(),r.Tb(110,"td"),r.Tb(111,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.prezzogasolioself=t})),r.Sb(),r.Sb(),r.Tb(112,"td"),r.Tb(113,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.prezzobenzina=t})),r.Sb(),r.Sb(),r.Tb(114,"td"),r.Tb(115,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.prezzobenzinaself=t})),r.Sb(),r.Sb(),r.Tb(116,"td"),r.Tb(117,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.prezzosupreme=t})),r.Sb(),r.Sb(),r.Tb(118,"td"),r.Tb(119,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.prezzosupremeself=t})),r.Sb(),r.Sb(),r.Tb(120,"td"),r.Tb(121,"input",21),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.prezzogpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(122,"tr",20),r.Tb(123,"td",18),r.Hc(124,"Prezzo al pubblico Senza IVA"),r.Sb(),r.Tb(125,"td"),r.Hc(126),r.hc(127,"number"),r.Sb(),r.Tb(128,"td"),r.Hc(129),r.hc(130,"number"),r.Sb(),r.Tb(131,"td"),r.Hc(132),r.hc(133,"number"),r.Sb(),r.Tb(134,"td"),r.Hc(135),r.hc(136,"number"),r.Sb(),r.Tb(137,"td"),r.Hc(138),r.hc(139,"number"),r.Sb(),r.Tb(140,"td"),r.Hc(141),r.hc(142,"number"),r.Sb(),r.Tb(143,"td"),r.Hc(144),r.hc(145,"number"),r.Sb(),r.Sb(),r.Tb(146,"tr",20),r.Tb(147,"td",18),r.Hc(148,"Margine previsto per contratto"),r.Sb(),r.Tb(149,"td"),r.Hc(150),r.Sb(),r.Tb(151,"td"),r.Hc(152),r.Sb(),r.Tb(153,"td"),r.Hc(154),r.Sb(),r.Tb(155,"td"),r.Hc(156),r.Sb(),r.Tb(157,"td"),r.Hc(158),r.Sb(),r.Tb(159,"td"),r.Hc(160),r.Sb(),r.Tb(161,"td"),r.Hc(162),r.Sb(),r.Sb(),r.Tb(163,"tr",20),r.Tb(164,"td",18),r.Hc(165,"Percentuale Margine Self"),r.Sb(),r.Tb(166,"td",19),r.Tb(167,"input",22),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.marginecessionegasolio=t})),r.Sb(),r.Sb(),r.Tb(168,"td",19),r.Tb(169,"input",22),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.marginecessionebenzina=t})),r.Sb(),r.Sb(),r.Tb(170,"td",19),r.Tb(171,"input",22),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.marginecessionesupreme=t})),r.Sb(),r.Sb(),r.Tb(172,"td"),r.Tb(173,"input",22),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.marginecessionegpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(174,"tr",20),r.Tb(175,"td",18),r.Hc(176,"Prezzo in fattura gestore"),r.Sb(),r.Tb(177,"td",19),r.Hc(178),r.hc(179,"number"),r.Sb(),r.Tb(180,"td",19),r.Hc(181),r.hc(182,"number"),r.Sb(),r.Tb(183,"td",19),r.Hc(184),r.hc(185,"number"),r.Sb(),r.Tb(186,"td"),r.Hc(187),r.hc(188,"number"),r.Sb(),r.Sb(),r.Tb(189,"tr",20),r.Tb(190,"td",18),r.Hc(191,"Importo da riconoscere al Gestore"),r.Sb(),r.Tb(192,"td"),r.Hc(193),r.hc(194,"number"),r.Sb(),r.Tb(195,"td"),r.Hc(196),r.hc(197,"number"),r.Sb(),r.Tb(198,"td"),r.Hc(199),r.hc(200,"number"),r.Sb(),r.Tb(201,"td"),r.Hc(202),r.hc(203,"number"),r.Sb(),r.Tb(204,"td"),r.Hc(205),r.hc(206,"number"),r.Sb(),r.Tb(207,"td"),r.Hc(208),r.hc(209,"number"),r.Sb(),r.Tb(210,"td"),r.Hc(211),r.hc(212,"number"),r.Sb(),r.Sb(),r.Tb(213,"tr",20),r.Tb(214,"td",18),r.Hc(215,"Conguaglio da effettuare"),r.Sb(),r.Tb(216,"td"),r.Hc(217),r.hc(218,"number"),r.Sb(),r.Tb(219,"td"),r.Hc(220),r.hc(221,"number"),r.Sb(),r.Tb(222,"td"),r.Hc(223),r.hc(224,"number"),r.Sb(),r.Tb(225,"td"),r.Hc(226),r.hc(227,"number"),r.Sb(),r.Tb(228,"td"),r.Hc(229),r.hc(230,"number"),r.Sb(),r.Tb(231,"td"),r.Hc(232),r.hc(233,"number"),r.Sb(),r.Tb(234,"td"),r.Hc(235),r.hc(236,"number"),r.Sb(),r.Sb(),r.Tb(237,"tr",20),r.Tb(238,"td",18),r.Hc(239,"Quotazione"),r.Sb(),r.Tb(240,"td"),r.Hc(241),r.Sb(),r.Tb(242,"td"),r.Hc(243),r.Sb(),r.Tb(244,"td"),r.Hc(245),r.Sb(),r.Tb(246,"td"),r.Hc(247),r.Sb(),r.Tb(248,"td"),r.Hc(249),r.Sb(),r.Tb(250,"td"),r.Hc(251),r.Sb(),r.Tb(252,"td"),r.Hc(253),r.Sb(),r.Sb(),r.Tb(254,"tr",20),r.Tb(255,"td",18),r.Hc(256,"Trasporto"),r.Sb(),r.Tb(257,"td"),r.Tb(258,"input",23),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.trasportogasolioservito=t}))("keyup",(function(t){return e.modificatrasportogasolioservito(t)})),r.Sb(),r.Sb(),r.Tb(259,"td"),r.Tb(260,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.trasportogasolioself=t})),r.Sb(),r.Sb(),r.Tb(261,"td"),r.Tb(262,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.trasportobenzinaservito=t})),r.Sb(),r.Sb(),r.Tb(263,"td"),r.Tb(264,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.trasportobenzinaself=t})),r.Sb(),r.Sb(),r.Tb(265,"td"),r.Tb(266,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.trasportosupremeservito=t})),r.Sb(),r.Sb(),r.Tb(267,"td"),r.Tb(268,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.trasportosupremeservito=t})),r.Sb(),r.Sb(),r.Tb(269,"td"),r.Tb(270,"input",25),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.trasportogpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(271,"tr",20),r.Tb(272,"td",18),r.Hc(273,"Altro Costo"),r.Sb(),r.Tb(274,"td"),r.Tb(275,"input",23),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.altrocostogasolioservito=t}))("keyup",(function(t){return e.modificaaltrocostogasolioservito(t)})),r.Sb(),r.Sb(),r.Tb(276,"td"),r.Tb(277,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.altrocostogasolioself=t})),r.Sb(),r.Sb(),r.Tb(278,"td"),r.Tb(279,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.altrocostobenzinaservito=t})),r.Sb(),r.Sb(),r.Tb(280,"td"),r.Tb(281,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.altrocostobenzinaself=t})),r.Sb(),r.Sb(),r.Tb(282,"td"),r.Tb(283,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.altrocostosupremeservito=t})),r.Sb(),r.Sb(),r.Tb(284,"td"),r.Tb(285,"input",24),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.altrocostosupremeservito=t})),r.Sb(),r.Sb(),r.Tb(286,"td"),r.Tb(287,"input",25),r.ec("ngModelChange",(function(t){return e.quotazioneselezionata.altrocostogpl=t})),r.Sb(),r.Sb(),r.Sb(),r.Tb(288,"tr",20),r.Tb(289,"td",18),r.Tb(290,"b"),r.Hc(291,"Margine Partenopea"),r.Sb(),r.Sb(),r.Ob(292,"td"),r.Ob(293,"td"),r.Ob(294,"td"),r.Ob(295,"td"),r.Ob(296,"td"),r.Ob(297,"td"),r.Ob(298,"td"),r.Sb(),r.Tb(299,"tr",20),r.Tb(300,"td",18),r.Hc(301,"Finale"),r.Sb(),r.Tb(302,"td"),r.Hc(303),r.hc(304,"number"),r.Sb(),r.Tb(305,"td"),r.Hc(306),r.hc(307,"number"),r.Sb(),r.Tb(308,"td"),r.Hc(309),r.hc(310,"number"),r.Sb(),r.Tb(311,"td"),r.Hc(312),r.hc(313,"number"),r.Sb(),r.Tb(314,"td"),r.Hc(315),r.hc(316,"number"),r.Sb(),r.Tb(317,"td"),r.Hc(318),r.hc(319,"number"),r.Sb(),r.Tb(320,"td"),r.Hc(321),r.hc(322,"number"),r.Sb(),r.Sb(),r.Tb(323,"tr",20),r.Tb(324,"td",18),r.Hc(325,"In Fattura"),r.Sb(),r.Tb(326,"td",19),r.Hc(327),r.hc(328,"number"),r.Sb(),r.Tb(329,"td",19),r.Hc(330),r.hc(331,"number"),r.Sb(),r.Tb(332,"td",19),r.Hc(333),r.hc(334,"number"),r.Sb(),r.Tb(335,"td"),r.Hc(336),r.hc(337,"number"),r.Sb(),r.Sb(),r.Tb(338,"tr"),r.Tb(339,"td",18),r.Hc(340,"Medio"),r.Sb(),r.Tb(341,"td",19),r.Hc(342),r.hc(343,"number"),r.Sb(),r.Tb(344,"td",19),r.Hc(345),r.hc(346,"number"),r.Sb(),r.Tb(347,"td",19),r.Hc(348),r.hc(349,"number"),r.Sb(),r.Tb(350,"td"),r.Hc(351),r.hc(352,"number"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(353,"div",26),r.Tb(354,"div",27),r.Tb(355,"button",28),r.ec("click",(function(){return e.salvaquotazione()})),r.Hc(356,"Salva"),r.Sb(),r.Sb(),r.Sb(),r.Tb(357,"div",26),r.Tb(358,"h3"),r.Hc(359,"Prezzi concorrenza"),r.Sb(),r.Tb(360,"div",29),r.Tb(361,"table",30),r.Tb(362,"thead"),r.Tb(363,"tr"),r.Tb(364,"th"),r.Hc(365,"Nome"),r.Sb(),r.Tb(366,"th"),r.Hc(367,"Data"),r.Sb(),r.Tb(368,"th"),r.Hc(369,"Gasolio servito"),r.Sb(),r.Tb(370,"th"),r.Hc(371,"Gasolio self"),r.Sb(),r.Tb(372,"th"),r.Hc(373,"Benzina servito"),r.Sb(),r.Tb(374,"th"),r.Hc(375,"Benzina self"),r.Sb(),r.Tb(376,"th"),r.Hc(377,"Supreme servito"),r.Sb(),r.Tb(378,"th"),r.Hc(379,"Benzina self"),r.Sb(),r.Tb(380,"th"),r.Hc(381,"GPL"),r.Sb(),r.Tb(382,"th"),r.Hc(383,"RIMUOVI"),r.Sb(),r.Sb(),r.Sb(),r.Tb(384,"tbody"),r.Fc(385,Ys,23,12,"tr",31),r.Sb(),r.Sb(),r.Sb(),r.Tb(386,"button",32),r.ec("click",(function(){return e.aggiungiprezzoconcorrente()})),r.Hc(387," + "),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t){var i=r.uc(27);r.Ab(13),r.Jc(" ",e.gestioneprezzi.puntovenditaselezionato.puntovendita.nome," "),r.Ab(2),r.Jc(" ",e.gestioneprezzi.puntovenditaselezionato.nomecliente," "),r.Ab(2),r.mc("ngModel",r.jc(18,100,e.quotazioneselezionata.data,"yyyy-MM-dd")),r.Ab(8),r.mc("formControl",e.fornitorecontrol)("matAutocomplete",i),r.Ab(1),r.mc("displayWith",e.displayfornitore),r.Ab(2),r.mc("ngForOf",r.ic(29,103,e.filteredfornitori)),r.Ab(20),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogasolio),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzobenzina),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzosupreme),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogpl),r.Ab(38),r.mc("ngModel",e.quotazioneselezionata.volumegasolioservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.volumegasolioself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.volumebenzinaservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.volumebenzinaself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.volumesupremeservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.volumesupremeself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.volumegpl),r.Ab(5),r.mc("ngModel",e.quotazioneselezionata.prezzogasolio),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.prezzogasolioself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.prezzobenzina),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.prezzobenzinaself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.prezzosupreme),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.prezzosupremeself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.prezzogpl),r.Ab(5),r.Ic(r.jc(127,105,e.togliiva(e.quotazioneselezionata.prezzogasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(130,108,e.togliiva(e.quotazioneselezionata.prezzogasolioself),"1.3-3")),r.Ab(3),r.Ic(r.jc(133,111,e.togliiva(e.quotazioneselezionata.prezzobenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(136,114,e.togliiva(e.quotazioneselezionata.prezzobenzinaself),"1.3-3")),r.Ab(3),r.Ic(r.jc(139,117,e.togliiva(e.quotazioneselezionata.prezzosupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(142,120,e.togliiva(e.quotazioneselezionata.prezzosupremeself),"1.3-3")),r.Ab(3),r.Ic(r.jc(145,123,e.togliiva(e.quotazioneselezionata.prezzogpl),"1.3-3")),r.Ab(6),r.Ic(null==e.proprietario?null:e.proprietario.marginegasolioservito),r.Ab(2),r.Ic(null==e.proprietario?null:e.proprietario.marginegasolioself),r.Ab(2),r.Ic(null==e.proprietario?null:e.proprietario.marginebenzinaservito),r.Ab(2),r.Ic(null==e.proprietario?null:e.proprietario.marginebenzinaself),r.Ab(2),r.Ic(null==e.proprietario?null:e.proprietario.marginesupremeservito),r.Ab(2),r.Ic(null==e.proprietario?null:e.proprietario.marginesupremeself),r.Ab(2),r.Ic(null==e.proprietario?null:e.proprietario.marginegplservito),r.Ab(5),r.mc("ngModel",e.quotazioneselezionata.marginecessionegasolio),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.marginecessionebenzina),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.marginecessionesupreme),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.marginecessionegpl),r.Ab(5),r.Ic(r.jc(179,126,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzogasolioself),e.proprietario.marginegasolioself,e.quotazioneselezionata.marginecessionegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(182,129,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzobenzinaself),e.proprietario.marginebenzinaself,e.quotazioneselezionata.marginecessionebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(185,132,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzosupremeself),e.proprietario.marginesupremeself,e.quotazioneselezionata.marginecessionesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(188,135,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzogplself),e.proprietario.marginegplself,e.quotazioneselezionata.marginecessionegpl),"1.3-3")),r.Ab(6),r.Ic(r.jc(194,138,e.importodaricooscerealgestoreservito(e.proprietario.marginegasolioservito,e.proprietario.marginegasolioself,e.quotazioneselezionata.marginecessionegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(197,141,e.importodaricooscerealgestoreself(e.proprietario.marginegasolioself,e.quotazioneselezionata.marginecessionegasolio),"1.3-3")),r.Ab(3),r.Ic(r.jc(200,144,e.importodaricooscerealgestoreservito(e.proprietario.marginebenzinaservito,e.proprietario.marginebenzinaself,e.quotazioneselezionata.marginecessionebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(203,147,e.importodaricooscerealgestoreself(e.proprietario.marginebenzinaself,e.quotazioneselezionata.marginecessionebenzina),"1.3-3")),r.Ab(3),r.Ic(r.jc(206,150,e.importodaricooscerealgestoreservito(e.proprietario.marginesupremeservito,e.proprietario.marginesupremeself,e.quotazioneselezionata.marginecessionesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(209,153,e.importodaricooscerealgestoreself(e.proprietario.marginesupremeself,e.quotazioneselezionata.marginecessionesupreme),"1.3-3")),r.Ab(3),r.Ic(r.jc(212,156,e.importodaricooscerealgestoreservito(e.proprietario.marginegplservito,e.proprietario.marginegplservito,e.quotazioneselezionata.marginecessionegpl),"1.3-3")),r.Ab(6),r.Ic(r.jc(218,159,e.conguagliodaeffettuare(e.togliiva(e.quotazioneselezionata.prezzogasolio),e.proprietario.marginegasolioservito,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzogasolioself),e.proprietario.marginegasolioself,e.quotazioneselezionata.marginecessionegasolio)),"1.3-3")),r.Ab(3),r.Ic(r.jc(221,162,e.conguagliodaeffettuare(e.togliiva(e.quotazioneselezionata.prezzogasolioself),e.proprietario.marginegasolioself,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzogasolioself),e.proprietario.marginegasolioself,e.quotazioneselezionata.marginecessionegasolio)),"1.3-3")),r.Ab(3),r.Ic(r.jc(224,165,e.conguagliodaeffettuare(e.togliiva(e.quotazioneselezionata.prezzobenzina),e.proprietario.marginebenzinaservito,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzobenzinaself),e.proprietario.marginebenzinaself,e.quotazioneselezionata.marginecessionebenzina)),"1.3-3")),r.Ab(3),r.Ic(r.jc(227,168,e.conguagliodaeffettuare(e.togliiva(e.quotazioneselezionata.prezzobenzinaself),e.proprietario.marginebenzinaself,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzobenzinaself),e.proprietario.marginebenzinaself,e.quotazioneselezionata.marginecessionebenzina)),"1.3-3")),r.Ab(3),r.Ic(r.jc(230,171,e.conguagliodaeffettuare(e.togliiva(e.quotazioneselezionata.prezzosupreme),e.proprietario.marginesupremeservito,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzosupremeself),e.proprietario.marginesupremeself,e.quotazioneselezionata.marginecessionesupreme)),"1.3-3")),r.Ab(3),r.Ic(r.jc(233,174,e.conguagliodaeffettuare(e.togliiva(e.quotazioneselezionata.prezzosupremeself),e.proprietario.marginesupremeself,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzosupremeself),e.proprietario.marginesupremeself,e.quotazioneselezionata.marginecessionesupreme)),"1.3-3")),r.Ab(3),r.Ic(r.jc(236,177,e.conguagliodaeffettuare(e.togliiva(e.quotazioneselezionata.prezzogpl),e.proprietario.marginegplservito,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzogplself),e.proprietario.marginegplself,e.quotazioneselezionata.marginecessionegpl)),"1.3-3")),r.Ab(6),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogasolio),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogasolio),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzobenzina),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzobenzina),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzosupreme),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzosupreme),r.Ab(2),r.Ic(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogpl),r.Ab(5),r.mc("ngModel",e.quotazioneselezionata.trasportogasolioservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.trasportogasolioself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.trasportobenzinaservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.trasportobenzinaself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.trasportosupremeservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.trasportosupremeservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.trasportogpl),r.Ab(5),r.mc("ngModel",e.quotazioneselezionata.altrocostogasolioservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.altrocostogasolioself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.altrocostobenzinaservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.altrocostobenzinaself),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.altrocostosupremeservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.altrocostosupremeservito),r.Ab(2),r.mc("ngModel",e.quotazioneselezionata.altrocostogpl),r.Ab(16),r.Ic(r.jc(304,180,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzogasolio),e.proprietario.marginegasolioservito,e.quotazioneselezionata.marginecessionegasolio,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogasolio,e.quotazioneselezionata.trasportogasolioservito,e.quotazioneselezionata.altrocostogasolioservito),"1.4-4")),r.Ab(3),r.Ic(r.jc(307,183,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzogasolioself),e.proprietario.marginegasolioself,e.quotazioneselezionata.marginecessionegasolio,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogasolio,e.quotazioneselezionata.trasportogasolioself,e.quotazioneselezionata.altrocostogasolioself),"1.4-4")),r.Ab(3),r.Ic(r.jc(310,186,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzobenzina),e.proprietario.marginebenzinaservito,e.quotazioneselezionata.marginecessionebenzina,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzobenzina,e.quotazioneselezionata.trasportobenzinaservito,e.quotazioneselezionata.altrocostobenzinaservito),"1.4-4")),r.Ab(3),r.Ic(r.jc(313,189,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzobenzinaself),e.proprietario.marginebenzinaself,e.quotazioneselezionata.marginecessionebenzina,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzobenzina,e.quotazioneselezionata.trasportobenzinaself,e.quotazioneselezionata.altrocostobenzinaself),"1.4-4")),r.Ab(3),r.Ic(r.jc(316,192,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzosupreme),e.proprietario.marginesupremeservito,e.quotazioneselezionata.marginecessionesupreme,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzosupreme,e.quotazioneselezionata.trasportosupremeservito,e.quotazioneselezionata.altrocostosupremeservito),"1.4-4")),r.Ab(3),r.Ic(r.jc(319,195,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzosupremeself),e.proprietario.marginesupremeself,e.quotazioneselezionata.marginecessionesupreme,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzosupreme,e.quotazioneselezionata.trasportosupremeself,e.quotazioneselezionata.altrocostosupremeself),"1.4-4")),r.Ab(3),r.Ic(r.jc(322,198,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzogpl),e.proprietario.marginegplservito,e.quotazioneselezionata.marginecessionegpl,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogpl,e.quotazioneselezionata.trasportogpl,e.quotazioneselezionata.altrocostogpl),"1.4-4")),r.Ab(6),r.Ic(r.jc(328,201,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzogasolioself),e.proprietario.marginegasolioself,e.quotazioneselezionata.marginecessionegasolio)-(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogasolio)-e.quotazioneselezionata.trasportogasolioservito/1e3,"1.3-3")),r.Ab(3),r.Ic(r.jc(331,204,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzobenzinaself),e.proprietario.marginebenzinaself,e.quotazioneselezionata.marginecessionebenzina)-(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzobenzina)-e.quotazioneselezionata.trasportobenzinaservito/1e3,"1.3-3")),r.Ab(3),r.Ic(r.jc(334,207,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzosupremeself),e.proprietario.marginesupremeself,e.quotazioneselezionata.marginecessionesupreme)-(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzosupreme)-e.quotazioneselezionata.trasportosupremeservito/1e3,"1.3-3")),r.Ab(3),r.Ic(r.jc(337,210,e.prezzoinfatturagestore(e.togliiva(e.quotazioneselezionata.prezzogplself),e.proprietario.marginegplself,e.quotazioneselezionata.marginecessionegpl)-(null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogpl)-e.quotazioneselezionata.trasportogpl/1e3,"1.3-3")),r.Ab(6),r.Ic(r.jc(343,213,e.marginemedio(e.quotazioneselezionata.volumegasolioservito,e.quotazioneselezionata.volumegasolioself,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzogasolio),e.proprietario.marginegasolioservito,e.quotazioneselezionata.marginecessionegasolio,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogasolio,e.quotazioneselezionata.trasportogasolioservito,e.quotazioneselezionata.altrocostogasolioservito),e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzogasolioself),e.proprietario.marginegasolioself,e.quotazioneselezionata.marginecessionegasolio,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogasolio,e.quotazioneselezionata.trasportogasolioself,e.quotazioneselezionata.altrocostogasolioself)),"1.3-3")),r.Ab(3),r.Ic(r.jc(346,216,e.marginemedio(e.quotazioneselezionata.volumebenzinaservito,e.quotazioneselezionata.volumebenzinaself,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzobenzina),e.proprietario.marginebenzinaservito,e.quotazioneselezionata.marginecessionebenzina,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzobenzina,e.quotazioneselezionata.trasportobenzinaservito,e.quotazioneselezionata.altrocostobenzinaservito),e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzobenzinaself),e.proprietario.marginebenzinaself,e.quotazioneselezionata.marginecessionebenzina,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzobenzina,e.quotazioneselezionata.trasportobenzinaself,e.quotazioneselezionata.altrocostobenzinaself)),"1.3-3")),r.Ab(3),r.Ic(r.jc(349,219,e.marginemedio(e.quotazioneselezionata.volumesupremeservito,e.quotazioneselezionata.volumesupremeself,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzosupreme),e.proprietario.marginesupremeservito,e.quotazioneselezionata.marginecessionesupreme,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzosupreme,e.quotazioneselezionata.trasportosupremeservito,e.quotazioneselezionata.altrocostosupremeservito),e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzosupremeself),e.proprietario.marginesupremeself,e.quotazioneselezionata.marginecessionesupreme,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzosupreme,e.quotazioneselezionata.trasportosupremeself,e.quotazioneselezionata.altrocostosupremeself)),"1.3-3")),r.Ab(3),r.Ic(r.jc(352,222,e.marginemedio(e.quotazioneselezionata.volumegpl,0,e.marginefinale(e.togliiva(e.quotazioneselezionata.prezzogpl),e.proprietario.marginegplservito,e.quotazioneselezionata.marginecessionegpl,null==e.quotazionefornitore?null:e.quotazionefornitore.prezzogpl,e.quotazioneselezionata.trasportogpl,e.quotazioneselezionata.altrocostogpl),0),"1.3-3")),r.Ab(10),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(24),r.mc("ngForOf",e.prezziconcorrenti)}},directives:[ie.a,a.b,a.l,a.o,ui.b,ui.e,di.a,mn,a.e,dn,n.n,a.q,c,Ct.g],pipes:[n.f,n.b,n.g],styles:[".top-left-custom[_ngcontent-%COMP%]{top:26px;left:26px;letter-spacing:-2px}.fab-bottom-right[_ngcontent-%COMP%]{position:absolute;right:26px;bottom:26px;z-index:100}"]}),t}();function Zs(t,e){if(1&t){var i=r.Ub();r.Tb(0,"div",3),r.Tb(1,"mat-label"),r.Hc(2,"Inizio"),r.Sb(),r.Tb(3,"input",24),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().aggiornadata1(t)})),r.hc(4,"date"),r.Sb(),r.Sb()}if(2&t){var o=r.gc();r.Ab(3),r.mc("ngModel",r.jc(4,1,o.primadata,"yyyy-MM-dd"))}}function Ks(t,e){if(1&t){var i=r.Ub();r.Tb(0,"div",3),r.Tb(1,"mat-label"),r.Hc(2,"Fine"),r.Sb(),r.Tb(3,"input",24),r.ec("ngModelChange",(function(t){return r.wc(i),r.gc().aggiornadata2(t)})),r.hc(4,"date"),r.Sb(),r.Sb()}if(2&t){var o=r.gc();r.Ab(3),r.mc("ngModel",r.jc(4,1,o.secondadata,"yyyy-MM-dd"))}}function tb(t,e){if(1&t&&(r.Tb(0,"td"),r.Hc(1),r.Sb()),2&t){var i=r.gc().$implicit;r.Ab(1),r.Ic(i.trasporto.nometrasportatore)}}function eb(t,e){1&t&&r.Ob(0,"td")}function ib(t,e){if(1&t){var i=r.Ub();r.Tb(0,"tr",26),r.ec("click",(function(){r.wc(i);var t=e.$implicit;return r.gc(2).modificariepilogo(t)})),r.Tb(1,"td"),r.Tb(2,"span",27),r.Hc(3),r.Sb(),r.Hc(4),r.hc(5,"date"),r.Sb(),r.Tb(6,"td"),r.Hc(7),r.Sb(),r.Tb(8,"td"),r.Hc(9),r.Sb(),r.Tb(10,"td"),r.Hc(11),r.Sb(),r.Tb(12,"td"),r.Hc(13),r.Sb(),r.Tb(14,"td"),r.Hc(15),r.Sb(),r.Fc(16,tb,2,1,"td",22),r.Fc(17,eb,1,0,"td",22),r.Tb(18,"td"),r.Hc(19),r.hc(20,"currency"),r.Sb(),r.Sb()}if(2&t){var o=e.$implicit;r.Ab(3),r.Ic(o.fabbisogno.data),r.Ab(1),r.Ic(r.jc(5,10,o.fabbisogno.data,"dd-MM-yyyy")),r.Ab(3),r.Ic(o.fabbisogno.puntoVendita.nome),r.Ab(2),r.Ic(o.fabbisogno.gasolio),r.Ab(2),r.Ic(o.fabbisogno.benzina),r.Ab(2),r.Ic(o.fabbisogno.supreme),r.Ab(2),r.Ic(o.fabbisogno.gpl),r.Ab(1),r.mc("ngIf",void 0!==o.trasporto),r.Ab(1),r.mc("ngIf",void 0===o.trasporto),r.Ab(2),r.Ic(r.jc(20,13,o.residuodaversare,"EUR"))}}function ob(t,e){if(1&t&&(r.Tb(0,"tbody"),r.Fc(1,ib,21,16,"tr",25),r.Sb()),2&t){var i=r.gc();r.Ab(1),r.mc("ngForOf",i.listariepiloghi)}}function nb(t,e){1&t&&(r.Tb(0,"tbody"),r.Ob(1,"div",28),r.Sb())}var ab={emptyTable:"Non ci sono dati!",search:"Cerca",searchPlaceholder:"",info:"Da _START_ a _END_ di _TOTAL_ elementi",infoEmpty:"Non ci sono elementi!",loadingRecords:"Carico...",paginate:{first:"Primo",previous:"Precedente",next:"Successivo",last:"Ultimo"},aria:{sortAscending:": Ordine crescente",sortDescending:": Ordine decrescente"},lengthMenu:"Mostro _MENU_ elementi"},rb=[{path:"fabbisogno",component:ue},{path:"preventivo",component:ta},{path:"trasporto",component:ur},{path:"riepilogo",component:xr},{path:"archivioriepiloghi",component:function(){function t(t,e,i,o){this.router=t,this.riepilogoservice=e,this.fileservice=i,this.toastr=o,this.dtTrigger=new b.a,this.dtOptions={},this.listariepiloghi=[],this.showDateRange=!1,this.totalegasolio=0,this.totalebenzina=0,this.totalesupreme=0,this.totalegpl=0,this.totaleresiduo=0,this.caricamento=!1}return t.prototype.ngOnInit=function(){var t=this;this.primadata=this.riepilogoservice.data1,this.secondadata=this.riepilogoservice.data2;var e=new de;e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.dtOptions={language:ab,infoCallback:function(e,i,o,n,a,r){return t.callbackperriepilogo(i,o,n,a,r)},paging:!0},this.toastr.info("Inizio ricerca!","Ricerca"),this.caricamento=!0,this.riepilogoservice.getallriepiloghiinrange(e).subscribe((function(e){t.listariepiloghi=e,t.caricamento=!1,t.rerender()}),(function(e){t.caricamento=!1,t.toastr.error("C'\xe8 stato un errore!","Errore")}))},t.prototype.callbackperriepilogo=function(t,e,i,o,n){var a=this;console.log("INIZIO : "+t),console.log("FINE : "+e),console.log("IMAX"+i),console.log("ITOTAL : "+o),console.log("SPRE"+n),this.totalegasolio=0,this.totalebenzina=0,this.totalesupreme=0,this.totalegpl=0,this.totaleresiduo=0;for(var r=function(t){c.dtElement.dtInstance.then((function(e){console.log("Le righe sono"),console.log(e.rows({search:"applied"}).data()),e.rows({search:"applied"}).data().count()!==o?(a.totalegasolio=a.totalegasolio+a.toNumber(e.rows({search:"applied"}).data().toArray()[t][2]),a.totalebenzina=a.totalebenzina+a.toNumber(e.rows({search:"applied"}).data().toArray()[t][3]),a.totalesupreme=a.totalesupreme+a.toNumber(e.rows({search:"applied"}).data().toArray()[t][4]),a.totalegpl=a.totalegpl+a.toNumber(e.rows({search:"applied"}).data().toArray()[t][5]),a.totaleresiduo=a.totaleresiduo+a.currencytonumber(e.rows({search:"applied"}).data().toArray()[t][7])):(a.totalegasolio=a.totalegasolio+a.toNumber(e.data().toArray()[t][2]),a.totalebenzina=a.totalebenzina+a.toNumber(e.data().toArray()[t][3]),a.totalesupreme=a.totalesupreme+a.toNumber(e.data().toArray()[t][4]),a.totalegpl=a.totalegpl+a.toNumber(e.data().toArray()[t][5]),a.totaleresiduo=a.totaleresiduo+a.currencytonumber(e.data().toArray()[t][7]))}))},c=this,s=t-1;s<e;s++)r(s)},t.prototype.toNumber=function(t){return Number(t)},t.prototype.currencytonumber=function(t){return Number(t.replace(/[^0-9.-]+/g,""))},t.prototype.cercainrange=function(){var t=this,e=new de;e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.toastr.info("Inizio ricerca!","Ricerca"),this.caricamento=!0,this.riepilogoservice.getallriepiloghiinrange(e).subscribe((function(e){t.listariepiloghi=e,t.caricamento=!1,t.rerender()}),(function(e){t.caricamento=!1,t.toastr.error("C'\xe8 stato un errore!","Errore")}))},t.prototype.modificariepilogo=function(t){this.riepilogoservice.riepilogoselezionato=t,this.router.navigate(["/admin/modificariepilogo"])},t.prototype.aggiornadata1=function(t){this.riepilogoservice.data1=new Date(t)},t.prototype.aggiornadata2=function(t){this.riepilogoservice.data2=new Date(t)},t.prototype.ngAfterViewInit=function(){this.dtTrigger.next()},t.prototype.ngOnDestroy=function(){this.dtTrigger.unsubscribe()},t.prototype.contalista=function(t){return t.length},t.prototype.rerender=function(){var t=this;this.dtElement.dtInstance.then((function(e){e.destroy(),t.dtTrigger.next()}))},t.prototype.stampaexcel=function(){var t=this,e=new de;e.data1=this.riepilogoservice.data1,e.data2=this.riepilogoservice.data2,this.fileservice.getexcelfile(e).subscribe((function(e){var i=new Blob([e],{type:"application/octet-stream"}),o="recap";o+=Object(n.y)(t.riepilogoservice.data1,"dd-MM-yyyy","en_US"),o+="_",o+=Object(n.y)(t.riepilogoservice.data2,"dd-MM-yyyy","en_US"),o+=".xlsx",Object(Bi.saveAs)(i,o)}))},t.prototype.optionSelected=function(t){switch(t.target.value){case"1":this.primadata=this.getXDaysAgo(new Date,7),this.secondadata=new Date,this.showDateRange=!1;break;case"2":this.primadata=this.getXDaysAgo(new Date,30),this.secondadata=new Date,this.showDateRange=!1;break;case"3":this.primadata=this.getFirstDayOfCurrentMonth(),this.secondadata=new Date,this.showDateRange=!1;break;case"4":this.primadata=this.getFirstDayOfCurrentYear(),this.secondadata=new Date,this.showDateRange=!1;break;case"5":this.showDateRange=!0}},t.prototype.getXDaysAgo=function(t,e){return t.setDate(t.getDate()-e),t},t.prototype.getFirstDayOfCurrentMonth=function(){var t=new Date;return new Date(t.getFullYear(),t.getMonth(),1)},t.prototype.getFirstDayOfCurrentYear=function(){return new Date((new Date).getFullYear(),0,1)},t.\u0275fac=function(e){return new(e||t)(r.Nb(o.c),r.Nb(_r),r.Nb(da),r.Nb(ne.b))},t.\u0275cmp=r.Hb({type:t,selectors:[["app-archivioriepiloghi"]],viewQuery:function(t,e){var i;1&t&&r.Nc(c,!0),2&t&&r.tc(i=r.fc())&&(e.dtElement=i.first)},decls:86,vars:22,consts:[[1,"container-fluid"],[1,"row"],[1,"card-body"],[1,"col-md-3"],[1,"custom-custom",3,"change"],["selected",""],["value","1"],["value","2"],["value","3"],["value","4"],["value","5"],["class","col-md-3",4,"ngIf"],["mat-button","","mat-flat-button","",1,"btn","btn-rose",3,"click"],[1,"col-md-5"],[1,"col-md-2"],[1,"main-content"],[1,"col-md-12"],[1,"card"],[1,"card-header","card-header-info","text-center"],[1,"card-title"],[1,"table-responsive"],["datatable","",1,"row-border","hover",3,"dtOptions","dtTrigger"],[4,"ngIf"],[1,"col-md-1"],["matInput","","placeholder","Data","type","date",3,"ngModel","ngModelChange"],["class","manina",3,"click",4,"ngFor","ngForOf"],[1,"manina",3,"click"],[2,"display","none"],[1,"loader"]],template:function(t,e){1&t&&(r.Tb(0,"div",0),r.Tb(1,"div",1),r.Ob(2,"br"),r.Tb(3,"div",2),r.Tb(4,"div",1),r.Tb(5,"div",3),r.Tb(6,"select",4),r.ec("change",(function(t){return e.optionSelected(t)})),r.Tb(7,"option",5),r.Hc(8,"Seleziona"),r.Sb(),r.Tb(9,"option",6),r.Hc(10,"Ultimi 7 giorni"),r.Sb(),r.Tb(11,"option",7),r.Hc(12,"Ultimi 30 giorni"),r.Sb(),r.Tb(13,"option",8),r.Hc(14,"Ultimo mese"),r.Sb(),r.Tb(15,"option",9),r.Hc(16,"Ultimo anno"),r.Sb(),r.Tb(17,"option",10),r.Hc(18,"Seleziona range"),r.Sb(),r.Sb(),r.Sb(),r.Fc(19,Zs,5,4,"div",11),r.Fc(20,Ks,5,4,"div",11),r.Tb(21,"div",3),r.Tb(22,"button",12),r.ec("click",(function(){return e.cercainrange()})),r.Hc(23,"Cerca"),r.Sb(),r.Sb(),r.Sb(),r.Ob(24,"br"),r.Tb(25,"div",1),r.Ob(26,"div",13),r.Tb(27,"div",14),r.Tb(28,"button",12),r.ec("click",(function(){return e.stampaexcel()})),r.Hc(29,"Esporta in excel"),r.Sb(),r.Sb(),r.Ob(30,"div",13),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Tb(31,"div",15),r.Tb(32,"div",0),r.Tb(33,"div",1),r.Tb(34,"div",16),r.Tb(35,"div",17),r.Tb(36,"div",18),r.Tb(37,"h4",19),r.Hc(38,"Riepilogo"),r.Sb(),r.Sb(),r.Tb(39,"div",2),r.Tb(40,"div",20),r.Tb(41,"table",21),r.Tb(42,"thead"),r.Tb(43,"tr"),r.Tb(44,"th"),r.Hc(45,"Data"),r.Sb(),r.Tb(46,"th"),r.Hc(47,"Punto Vendita"),r.Sb(),r.Tb(48,"th"),r.Hc(49,"Gasolio"),r.Sb(),r.Tb(50,"th"),r.Hc(51,"Benzina"),r.Sb(),r.Tb(52,"th"),r.Hc(53,"Supreme"),r.Sb(),r.Tb(54,"th"),r.Hc(55,"Gpl"),r.Sb(),r.Tb(56,"th"),r.Hc(57,"Trasportatore"),r.Sb(),r.Tb(58,"th"),r.Hc(59,"Residuo da versare"),r.Sb(),r.Sb(),r.Sb(),r.Fc(60,ob,2,1,"tbody",22),r.Fc(61,nb,2,0,"tbody",22),r.Sb(),r.Sb(),r.Tb(62,"div",1),r.Ob(63,"div",23),r.Ob(64,"div",23),r.Tb(65,"div",14),r.Tb(66,"b"),r.Hc(67),r.hc(68,"number"),r.Sb(),r.Sb(),r.Tb(69,"div",14),r.Tb(70,"b"),r.Hc(71),r.hc(72,"number"),r.Sb(),r.Sb(),r.Tb(73,"div",14),r.Tb(74,"b"),r.Hc(75),r.hc(76,"number"),r.Sb(),r.Sb(),r.Tb(77,"div",23),r.Tb(78,"b"),r.Hc(79),r.hc(80,"number"),r.Sb(),r.Sb(),r.Ob(81,"div",23),r.Tb(82,"div",14),r.Tb(83,"b"),r.Hc(84),r.hc(85,"currency"),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb(),r.Sb()),2&t&&(r.Ab(19),r.mc("ngIf",e.showDateRange),r.Ab(1),r.mc("ngIf",e.showDateRange),r.Ab(21),r.mc("dtOptions",e.dtOptions)("dtTrigger",e.dtTrigger),r.Ab(19),r.mc("ngIf",0==e.caricamento),r.Ab(1),r.mc("ngIf",1==e.caricamento),r.Ab(6),r.Jc(" Gasolio: ",r.ic(68,11,e.totalegasolio)," "),r.Ab(4),r.Jc(" Benzina: ",r.ic(72,13,e.totalebenzina)," "),r.Ab(4),r.Jc(" Supreme: ",r.ic(76,15,e.totalesupreme)," "),r.Ab(4),r.Jc(" GPL: ",r.ic(80,17,e.totalegpl),""),r.Ab(5),r.Jc("Residuo: ",r.jc(85,19,e.totaleresiduo,"EUR")," "))},directives:[a.p,a.t,n.o,ie.a,c,ui.e,di.a,a.b,a.l,a.o,n.n],pipes:[n.g,n.d,n.f],styles:[".loader[_ngcontent-%COMP%]{border-radius:50%;border:16px solid #f3f3f3;border-top-color:#3498db;width:120px;height:120px;-webkit-animation:spin 2s linear infinite;animation:spin 2s linear infinite}@-webkit-keyframes spin{0%{-webkit-transform:rotate(0deg)}to{-webkit-transform:rotate(1turn)}}@keyframes spin{0%{transform:rotate(0deg)}to{transform:rotate(1turn)}}select[_ngcontent-%COMP%]{-webkit-appearance:button;-moz-appearance:button;-webkit-user-select:none;-moz-user-select:none;-webkit-padding-end:20px;-moz-padding-end:20px;-webkit-padding-start:2px;-moz-padding-start:2px;background-color:#fff;background-position:100%;background-repeat:no-repeat;border:1px solid #aaa;border-radius:2px;box-shadow:0 1px 3px rgba(0,0,0,.1);color:#555;font-size:inherit;margin:0;overflow:hidden;padding-top:2px;padding-bottom:2px;text-overflow:ellipsis;white-space:nowrap}.custom-custom[_ngcontent-%COMP%]{width:100%}"]}),t}()},{path:"gestioneclienti",component:he},{path:"gestionepuntivendita",component:zo},{path:"gestionetrasportatori",component:to},{path:"gestionevocidirettifica",component:Mi},{path:"gestionebasidicarico",component:Pi},{path:"gestionefornitori",component:Vi},{path:"gestioneutenti",component:Xr},{path:"gestioneprezzi",component:Fs},{path:"gestioneprezzisingolocliente",component:Vs},{path:"gestioneprezzisingoloprezzo",component:Ls},{path:"aggiungimodificaquotazionecondati",component:Qs},{path:"aggiungimodificacliente",component:_i},{path:"aggiungimodificafabbisogno",component:wn},{path:"aggiungimodificapuntovendita",component:Xo},{path:"aggiungimodificafornitore",component:Xi},{path:"aggiungimodificatrasportatore",component:mo},{path:"creapreventivo",component:ua},{path:"creatrasporto",component:yr},{path:"recappreventivo",component:Sa},{path:"recaptrasporto",component:gr},{path:"richiestedicarico",component:Fa},{path:"modificariepilogo",component:Fr},{path:"visfabbisogno",component:Kr},{path:"vispreventivo",component:Sc},{path:"vistrasporto",component:Vc},{path:"visriepilogo",component:Gc},{path:"visaggiungimodificafabbisogno",component:Wc},{path:"visrecappreventivo",component:Yc},{path:"vismodificariepilogo",component:Xc},{path:"visrecaptrasporto",component:Kc},{path:"visrichiestedicarico",component:fs},{path:"riepilogocliente",component:Ss},{path:"riepilogoclientesingola",component:_s},{path:"clifabbisogno",component:ks},{path:"clipreventivi",component:xs},{path:"clirecappreventivo",component:Rs}];i("itXk"),i("GyhO"),i("zP0r"),i("Kj3r");var cb={provide:new r.r("mat-tooltip-scroll-strategy"),deps:[kt],useFactory:function(t){return function(){return t.scrollStrategies.reposition({scrollThrottle:20})}}},sb=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[cb],imports:[[jt.a,n.c,It,Ct.f],Ct.f,F]}),t}(),bb={provide:new r.r("mat-select-scroll-strategy"),deps:[kt],useFactory:function(t){return function(){return t.scrollStrategies.reposition()}}},lb=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},providers:[bb],imports:[[n.c,It,Ct.h,Ct.f],F,ui.d,Ct.h,Ct.f]}),t}();i("Cfvw"),i("2Vo4");var ub=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[E]]}),t}(),db=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[ub,Ct.f],Ct.f]}),t}(),pb=function(){var t=function t(){Object(v.a)(this,t)};return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[It,Q,n.c,ie.b,Ct.f],Ct.f]}),t}(),gb=function(){function t(){}return t.\u0275mod=r.Lb({type:t}),t.\u0275inj=r.Kb({factory:function(e){return new(e||t)},imports:[[n.c,o.f.forChild(rb),a.h,a.r,ie.b,Ct.k,ui.d,di.b,lb,sb,pi.e,s,db,ee,li,pb,Sn,$o,ne.a.forRoot()]]}),t}()}}]);